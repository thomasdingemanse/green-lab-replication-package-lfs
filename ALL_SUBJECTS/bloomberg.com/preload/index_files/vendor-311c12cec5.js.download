require=function o(s,a,u){function c(n,t){if(!a[n]){if(!s[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[n]={exports:{}};s[n][0].call(i.exports,function(t){var e=s[n][1][t];return c(e||t)},i,i.exports,o,s,a,u)}return a[n].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({532:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault"),i=r(t("build/resources")),o=r(t("youboralib"));t("event-source-polyfill"),window.videojs=t("video.js").default||t("video.js"),t("@leochen1216/videojs-chromecast"),window.Hls=t("hls.js"),t("youbora-adapter-videojs");var s={accountCode:i.default.YOUBORA_ACCOUNT||"bloombergdev","parse.hls":!0,httpSecure:!0};window.YouboraLib=o.default,window.youboraPlugin=new o.default.Plugin(s),o.default.registerAdapter("Ima",t("youbora-adapter-ima")),window.ns_=t("../vendor/comscore/streamsense.min.js"),window.initMoatTracking=t("../vendor/moat/moat_analytics.js"),window.initDaiMoatTracking=t("../vendor/moatDai/moat_dai_analytics.js"),window.xml=t("../vendor/parser/xml.min.js"),t("../vendor/chromecast/cast_sender.js");var a=t("ms.byzantium-core").ByzantiumCore,u=t("bridge-web");window.__bloomberg__=window.__bloomberg__||{};var c=window.__bloomberg__;c.byzantium=c.byzantium||new a(new u)},{"../vendor/chromecast/cast_sender.js":533,"../vendor/comscore/streamsense.min.js":534,"../vendor/moat/moat_analytics.js":535,"../vendor/moatDai/moat_dai_analytics.js":536,"../vendor/parser/xml.min.js":537,"@babel/runtime/helpers/interopRequireDefault":14,"@leochen1216/videojs-chromecast":30,"bridge-web":37,"build/resources":1,"event-source-polyfill":250,"hls.js":254,"ms.byzantium-core":263,"video.js":278,"youbora-adapter-ima":287,"youbora-adapter-videojs":289,youboralib:359}],537:[function(t,e,n){(function(t){(function(t,e,n,r,i){var o,s,a,u;o=window,"".trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}),a={isUnsafe:!1,isXML:function(t){return"object"==typeof t&&t.nodeType!==s},getRoot:function(t){return 9===t.nodeType?t.documentElement:11===t.nodeType?t.firstChild:t},convert:function(t){var e={};if("string"==typeof t){var n=null,r=null,i=!0;try{(n="DOMParser"in o?new DOMParser:new ActiveXObject("MSXML2.DOMDocument")).async=!1}catch(t){throw Error("XML Parser could not be instantiated")}if("parseFromString"in n?i="parsererror"!==(r=n.parseFromString(t,"text/xml")).documentElement.tagName:r=!!(i=n.loadXML(t))&&n,!i)throw Error("Error parsing XML string");t=r}else t=this.isXML(t)?t:s;if(!t)throw Error("Unable to parse XML");return 3===t.nodeType||4===t.nodeType?t.nodeValue:(e[(t=this.getRoot(t)).nodeName]={},this.process(t,e[t.nodeName]),e)},process:function(t,e){var n,r,i,o,s;if(t.hasChildNodes())for(o=t.childNodes.length,i=0;i<o;i++)switch(n=t.childNodes[i],n.nodeType){case 3:e.Text=e.Text?e.Text+n.nodeValue.trim():n.nodeValue.trim();break;case 4:n=n[n.text?"text":"nodeValue"],e.Text=e.Text?e.Text+n:n;break;case 1:s={},(r=n.nodeName)in e?e[r].length?(this.process(n,s),e[r].push(s)):(this.process(n,s),e[r]=[e[r],s]):(this.process(n,s),e[r]=s)}if(t.attributes.length)for(o=t.attributes.length-1;0<=o;o--)i=(n=t.attributes[o]).name.trim(),n=n.value,e[(this.isUnsafe?"":"@")+i]=n}},u={xmlToJSON:function(t,e){return a.isUnsafe=e!==s&&e,a.convert(t)}},o.xml=o.xml||u,i("undefined"!=typeof xml?xml:window.xml)}).call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],536:[function(t,e,n){(function(t){(function(t,e,n,r,i){function o(t,e,n,r,i){var o,s,a=document.createElement("script"),u=[];e={adData:{ids:e,duration:n,url:i},dispatchEvent:function(t){this.sendEvent?(u&&(u.push(t),t=u,u=!1),this.sendEvent(t)):u.push(t)}},n="_moatApi"+Math.floor(1e8*Math.random());try{s=(o=t.ownerDocument).defaultView||o.parentWindow}catch(t){o=document,s=window}return s[n]=e,a.type="text/javascript",t&&t.insertBefore(a,t.childNodes[0]||null),a.src="https://z.moatads.com/"+r+"/moatvideo.js#"+n,e}i(void 0!==o?o:window.initMoatTracking)}).call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],535:[function(t,e,n){(function(t){(function(t,e,n,r,i){function o(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var r=document.createElement("script");n=n||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body;var i=[],o={adsManager:e,ids:t,imaSDK:!0,events:[],dispatchEvent:function(t){var e=this.sendEvent,n=this.events;e?(n&&(n.push(t),t=n),e(t)):n.push(t)}},s={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&e){var a,u="_moatApi"+Math.floor(1e8*Math.random());for(a in google.ima.AdEvent.Type){function c(t){if(o.sendEvent){for(t=i.length-1;0<=t;t--)e.removeEventListener(i[t].type,i[t].func);o.sendEvent(o.events)}else o.events.push({type:s[t.type]||t.type,adVolume:e.getVolume()})}e.addEventListener(google.ima.AdEvent.Type[a],c),i.push({type:google.ima.AdEvent.Type[a],func:c})}}var l,f;u=void 0!==u?u:"";try{f=(l=n.ownerDocument).defaultView||l.parentWindow}catch(t){l=document,f=window}return f[u]=o,r.type="text/javascript",n&&n.appendChild(r),r.src="https://z.moatads.com/"+t.partnerCode+"/moatvideo.js#"+u,o}i(void 0!==o?o:window.initMoatTracking)}).call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],534:[function(t,e,n){(function(t){(function(t,e,n,r,i){var it,y,b,T,S,E,o;try{(it=it||{}).PlatformAPIs=it.PlatformAPIs||{Standard:0,Trilithium:1,AppleTV:2,Chromecast:3},it.Utils=it.Utils||{uid:(o=1,function(){return+new Date+"_"+o++}),filter:function(t,e){var n={};for(var r in e)e.hasOwnProperty(r)&&t(e[r])&&(n[r]=e[r]);return n},extend:function(t){var e,n=arguments.length;t=t||{};for(var r=1;r<n;r++)if(e=arguments[r])for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},getString:function(t,e){var n=String(t);return null==t?e||"na":n},getLong:function(t,e){var n=Number(t);return null==t||isNaN(n)?e||0:n},getInteger:function(t,e){var n=Number(t);return null==t||isNaN(n)?e||0:n},getBoolean:function(t,e){var n="true"==String(t).toLowerCase();return null==t?e||!1:n},isNotEmpty:function(t){return void 0!==t&&null!=t&&void 0!==t.length&&0<t.length},indexOf:function(n,t){var r=-1;return this.forEach(t,function(t,e){t==n&&(r=e)}),r},forEach:function(t,e,n){try{if("function"==typeof e)if(n=void 0!==n?n:null,"number"!=typeof t.length||void 0===t[0]){var r=void 0!==t.__proto__;for(var i in t)t.hasOwnProperty(i)&&(!r||r&&void 0===t.__proto__[i])&&"function"!=typeof t[i]&&e.call(n,t[i],i)}else for(var o=0,s=t.length;o<s;o++)e.call(n,t[o],o)}catch(t){}},regionMatches:function(t,e,n,r,i){if(e<0||r<0||e+i>t.length||r+i>n.length)return!1;for(;0<=--i;)if(t.charAt(e++)!=n.charAt(r++))return!1;return!0},size:function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e},log:function(t,e){if(void 0!==e&&e&&"undefined"!=typeof console&&console){var n=new Date,r=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(r,t)}},isTrue:function(t){return void 0!==t&&("string"==typeof t?"true"===(t=t.toLowerCase())||"1"===t||"on"===t:!!t)},toString:function(t){if(void 0===t)return"undefined";if("string"==typeof t)return t;if("[object Array]"===Object.prototype.toString.call(t))return t.join(",");if(0<this.size(t)){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}return t.toString()},exists:function(t){return void 0!==t&&null!=t},firstGreaterThan0:function(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];if(0<n)return n}return 0},cloneObject:function(t){if(null==t||"object"!=typeof t)return t;var i;function e(){}function n(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}function r(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function o(t,e){var n=new r;return e&&(n.maxDepth=e),n.deepCopy(t)}return(i=[],n.prototype={constructor:n,canCopy:function(){return!1},create:function(t){},populate:function(t,e,n){}},r.prototype={constructor:r,maxDepth:256,cacheResult:function(t,e){this.copiedObjects.push([t,e])},getCachedResult:function(t){for(var e=this.copiedObjects,n=e.length,r=0;r<n;r++)if(e[r][0]===t)return e[r][1]},deepCopy:function(t){if(null===t)return null;if("object"!=typeof t)return t;var e=this.getCachedResult(t);if(e)return e;for(var n=0;n<i.length;n++){var r=i[n];if(r.canCopy(t))return this.applyDeepCopier(r,t)}throw new Error("Unable to clone the following object "+t)},applyDeepCopier:function(t,e){var n=t.create(e);if(this.cacheResult(e,n),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return t.populate(this.recursiveDeepCopy,e,n),this.depth--,n}},o.DeepCopier=n,o.deepCopiers=i,o.register=function(t){t instanceof n||(t=new n(t)),i.unshift(t)},o.register({canCopy:function(){return!0},create:function(t){return t instanceof t.constructor?function(t){return"object"==typeof t?(e.prototype=t,new e):t}(t.constructor.prototype):{}},populate:function(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}}),o.register({canCopy:function(t){return t instanceof Array},create:function(t){return new t.constructor},populate:function(t,e,n){for(var r=0;r<e.length;r++)n.push(t(e[r]));return n}}),o.register({canCopy:function(t){return t instanceof Date},create:function(t){return new Date(t)}}),o.register({canCopy:function(t){return function(t){return"undefined"!=typeof window&&window&&window.Node?t instanceof Node:t===document||"number"==typeof t.nodeType&&t.attributes&&t.childNodes&&t.cloneNode}(t)},create:function(t){return t===document?document:t.cloneNode(!1)},populate:function(t,e,n){if(e===document)return document;if(e.childNodes&&e.childNodes.length)for(var r=0;r<e.childNodes.length;r++){var i=t(e.childNodes[r]);n.appendChild(i)}}}),{deepCopy:o}).deepCopy(t)},safeGet:function(t,e){return e=this.exists(e)?e:"",this.exists(t)?t:e},getBrowserName:function(){if("undefined"==typeof navigator||!navigator.hasOwnProperty("userAgent")||!navigator.hasOwnProperty("appName"))return"";var t,e,n=navigator.userAgent,r=navigator.appName;return-1!=(e=n.indexOf("Opera"))||-1!=(e=n.indexOf("OPR/"))?r="Opera":-1!=(e=n.indexOf("Android"))?r="Android":-1!=(e=n.indexOf("Chrome"))?r="Chrome":-1!=(e=n.indexOf("Safari"))?r="Safari":-1!=(e=n.indexOf("Firefox"))?r="Firefox":-1!=(e=n.indexOf("IEMobile"))?r="Internet Explorer Mobile":"Microsoft Internet Explorer"==r||"Netscape"==r?r="Internet Explorer":(t=n.lastIndexOf(" ")+1)<(e=n.lastIndexOf("/"))&&(r=n.substring(t,e)).toLowerCase()==r.toUpperCase()&&(r=navigator.appName),r},getBrowserFullVersion:function(){if("undefined"==typeof navigator||!navigator.hasOwnProperty("userAgent")||!navigator.hasOwnProperty("appName")||!navigator.hasOwnProperty("appVersion"))return"";var t,e,n,r=navigator.userAgent,i=navigator.appName,o=""+parseFloat(navigator.appVersion);return-1!=(e=r.indexOf("Opera"))?(o=r.substring(e+6),-1!=(e=r.indexOf("Version"))&&(o=r.substring(e+8))):-1!=(e=r.indexOf("OPR/"))?o=r.substring(e+4):-1!=(e=r.indexOf("Android"))?o=r.substring(e+11):-1!=(e=r.indexOf("Chrome"))?o=r.substring(e+7):-1!=(e=r.indexOf("Safari"))?(o=r.substring(e+7),-1!=(e=r.indexOf("Version"))&&(o=r.substring(e+8))):-1!=(e=r.indexOf("Firefox"))?o=r.substring(e+8):"Microsoft Internet Explorer"==i?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(r)&&(o=parseFloat(RegExp.$1)):"Netscape"==i?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(r)&&(o=parseFloat(RegExp.$1)):r.lastIndexOf(" ")+1<(e=r.lastIndexOf("/"))&&(o=r.substring(e+1)),-1!=(n=(o=o.toString()).indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),t=parseInt(""+o,10),isNaN(t)&&(o=""+parseFloat(navigator.appVersion)),o},browserAcceptsLargeURLs:function(){return"undefined"!=typeof window&&null===window.ActiveXObject||!0}},it.StreamSense=it.StreamSense||function(){function t(t,e){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){e&&e(200),n=null},n.onerror=function(){e&&e(),n=null},n.src=t}}function e(t,e,n){n&&"undefined"!=typeof setTimeout&&setTimeout(n,0)}var n,r,i,o,s,a,u,c,l,f,d,h,p,g,Y=it.Utils,v=(g="cs_",function(){var n="undefined"!=typeof localStorage?localStorage:{};Y.extend(this,{get:function(t){return n[g+t]},set:function(t,e){n[g+t]=e},has:function(t){return g+t in n},remove:function(t){delete n[g+t]},clear:function(){for(var t in n)n.hasOwnProperty(t)&&delete n[t]}})}),m=(p="cs_",function(){var n="undefined"!=typeof atv&&void 0!==atv.localStorage&&atv.localStorage||null;Y.extend(this,{get:function(t){return n&&t&&n.getItem(p+t)||null},set:function(t,e){n&&t&&(n[p+t]=e)},has:function(t){return n&&t&&null!=n.getItem(p+t)||!1},remove:function(t){n&&t&&n.removeItem(p+t)},clear:function(){}})}),y=(u="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,c="undefined"!=typeof decodeURIComponent?decodeURIComponent:unescape,l="cs_dir_",f="cs_file_",d="undefined"!=typeof localStorage?localStorage:{},h={},{dir:function(t){var e=l+t,n=h[e];if(n)return n.slice();var r=d[e];if(r){n=[];for(var i=0,o=(r=r.split("|")).length;i<o;i++)0<r[i].length&&n.push(c(r[i]));return(h[e]=n).slice()}return null},append:function(t,e,n){var r=y.read(t,e);r?r+=n:r=n,y.write(t,e,r)},write:function(t,e,n){var r=y.dir(t);r||(function(t){var e=l+t;d[e]="",h[e]=[]}(t),r=[]),-1==Y.indexOf(e,r)&&function(t,e){var n=l+t;d[n]+="|"+u(e),h[n].push(e)}(t,e),function(t,e,n){d[f+t+e]=n}(t,e,n)},deleteFile:function(t,e){var n=y.dir(t);return!!n&&-1!=Y.indexOf(e,n)&&(function(t,e){var n=l+t,r=h[n];r.splice(Y.indexOf(e,r),1);for(var i=[],o=0,s=r.length;o<s;o++)i.push(u(r[o]));d[n]=i.join("|"),delete d[f+t+e]}(t,e),!0)},read:function(t,e){var n=y.dir(t);return n?-1==Y.indexOf(e,n)?null:function(t,e){return d[f+t+e]}(t,e):null}}),b={dir:function(){return null},append:function(t,e,n){},write:function(t,e,n){},deleteFile:function(){return!1},read:function(){return null}},J={PLATFORM:"generic",httpGet:t,httpPost:e,Storage:v,IO:b,getCrossPublisherId:function(){return null},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return""},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return""},getRuntimeVersion:function(){return""},getResolution:function(){return""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(t,e,n){return setTimeout(t,e,n)},clearTimeout:function(t){return clearTimeout(t)},getDeviceArchitecture:function(){return Constants.UNKNOWN_VALUE},getConnectionType:function(){return Constants.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return Constants.UNKNOWN_VALUE}},T=(a=s=o=null,{PLATFORM:"trilithium",httpGet:function(t,e){"undefined"!=typeof engine&&e&&"undefined"!=typeof setTimeout&&setTimeout(e,0),engine.createHttpClient().createRequest("GET",t,null).start(),e&&setTimeout(e,0)},httpPost:e,Storage:v,IO:b,getCrossPublisherId:function(){return A(),a},getAppName:function(){return Y.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:Constants.UNKNOWN_VALUE},getAppVersion:function(){return Y.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:Constants.UNKNOWN_VALUE},getVisitorId:function(){return A(),o},getVisitorIdSuffix:function(){return s},getDeviceName:function(){return Y.safeGet(engine.stats.device.platform,"")},getPlatformVersion:function(){return Y.safeGet(engine.stats.device.version,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return""},getResolution:function(){return"undefined"!=typeof screen&&void 0!==screen.height&&void 0!==screen.width?screen.height+"x"+screen.width:""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:function(){return"undefined"!=typeof engine&&void 0!==engine.stats}}),S=(i=r=n=null,{PLATFORM:"atv",httpGet:function(t,e){if("undefined"!=typeof atv&&"function"==typeof atv.setTimeout){"undefined"!=typeof XMLHttpRequest&&e&&atv.setTimeout(e,0);var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&(e&&e(n.status),n=null)},n.send()}},httpPost:function(t,e,n){if("undefined"!=typeof atv&&"function"==typeof atv.setTimeout){"undefined"!=typeof XMLHttpRequest&&n&&atv.setTimeout(n,0);var r=new XMLHttpRequest;r.open("POST",t,!0),r.onreadystatechange=function(){4===r.readyState&&(n&&n(r.status),r=null)},r.send(e)}},Storage:m,IO:b,getCrossPublisherId:function(){return _(),i},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return _(),n},getVisitorIdSuffix:function(){return r},getDeviceName:function(){return"Apple TV"},getPlatformVersion:function(){return"undefined"!=typeof atv&&void 0!==atv.device&&Y.safeGet(atv.device.softwareVersion,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return"undefined"!=typeof atv&&void 0!==atv.device&&Y.safeGet(atv.device.softwareVersion,"")},getResolution:function(){return void 0!==atv.device&&void 0!==atv.device.screenFrame&&void 0!==atv.device.screenFrame.height&&void 0!==atv.device.screenFrame.width?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:""},getLanguage:function(){return"undefined"!=typeof atv&&void 0!==atv.device&&Y.safeGet(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(t,e,n){return"undefined"!=typeof atv&&void 0!==atv.setTimeout&&atv.setTimeout(t,e,n)},clearTimeout:function(t){return"undefined"!=typeof atv&&void 0!==atv.clearTimeout&&atv.clearTimeout(t)},isCompatible:function(){return"undefined"==typeof window&&"undefined"!=typeof atv}}),E={PLATFORM:"chromecast",httpGet:t,httpPost:function(t,e,n){"undefined"!=typeof XMLHttpRequest&&n&&"undefined"!=typeof setTimeout&&setTimeout(n,0);var r=new XMLHttpRequest;r.open("POST",t,!0),r.onreadystatechange=function(){4===r.readyState&&(n&&n(r.status),r=null)},r.send(e)},Storage:v,IO:y,getCrossPublisherId:function(){return null},getAppName:function(){return"undefined"!=typeof document&&document.title||Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return"chromecast"},getPlatformVersion:function(){return"5"},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return Y.safeGet(Y.getBrowserName()+" "+Y.getBrowserFullVersion(),Constants.UNKNOWN_VALUE)},getResolution:function(){var t="undefined"!=typeof window&&Y.exists(window.screen)&&Y.exists(window.screen.availWidth)?window.screen.availWidth:0,e="undefined"!=typeof window&&Y.exists(window.screen)&&Y.exists(window.screen.availHeight)?window.screen.availHeight:0;return 0<t&&0<e?t+"x"+e:""},getLanguage:function(){return"undefined"!=typeof window&&Y.exists(window.navigator)&&Y.safeGet(window.navigator.language,"")||""},getPackageName:function(){return"undefined"!=typeof castReceiverManager&&castReceiverManager.getApplicationData&&"function"==typeof castReceiverManager.getApplicationData&&castReceiverManager.getApplicationData().namespaces&&castReceiverManager.getApplicationData().namespaces[0]||""},isConnectionAvailable:function(){return"undefined"!=typeof window&&Y.exists(window.navigator)&&Y.safeGet(window.navigator.onLine,!0)||!0},isCompatible:function(){return"undefined"!=typeof window&&"undefined"!=typeof document},getConnectionType:function(){return Constants.UNKNOWN_VALUE}};function _(){null==n&&(r="undefined"!=typeof atv&&void 0!==atv.device&&atv.device.idForVendor?(n=Y.safeGet(atv.device.idForVendor,""),"62"):(n=+new Date+~~(1e3*Math.random()),"72"),i=null)}function A(){if(null==o){var t=Y.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:Y.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null;a=null!=t?(s="31",o=t):(o=+new Date+~~(1e3*Math.random()),s="72",null)}}J.autoSelect=function(){T.isCompatible()?it.Utils.extend(J,T):S.isCompatible()&&it.Utils.extend(J,S)},J.setPlatformAPI=function(t){var e=!1;switch(t){case it.PlatformAPIs.Trilithium:it.Utils.extend(J,T),e=!0;break;case it.PlatformAPIs.AppleTV:it.Utils.extend(J,S),e=!0;break;case it.PlatformAPIs.Chromecast:Y.extend(J,E),e=!0}e&&(J.autoSelect=function(){})};var $,Z,w="undefined"!=typeof window&&"undefined"!=typeof document;Z=w?($=window,document):($={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""}),(Y=Y||{}).filterMap=function(t,e){for(var n in t)t.hasOwnProperty(n)&&-1==Y.indexOf(n,e)&&delete t[n]},Y.getKeys=function(t,e){var n,r=[];for(n in t)e&&!e.test(n)||!t.hasOwnProperty(n)||(r[r.length]=n);return r};var P,x,L,R,C,I,tt=(I=["play","pause","end","buffer","keep-alive","hb","custom","ad_play","ad_pause","ad_end","ad_click"],{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(t){return I[t]}}),et=(C=[tt.END,tt.PLAY,tt.PAUSE,tt.BUFFER],{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(t){return C[t]}}),D={ADPLAY:tt.AD_PLAY,ADPAUSE:tt.AD_PAUSE,ADEND:tt.AD_END,ADCLICK:tt.AD_CLICK},nt={STREAMSENSE_VERSION:"4.1505.18",DEFAULT_PLAYERNAME:"streamsense",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sq","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_pt","ns_st_pa","ns_st_ad","ns_st_li","ns_st_ci","ns_ap_jb","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_bt","ns_st_bp","ns_st_pc","ns_st_pp","ns_st_br","ns_st_ub","ns_st_vo","ns_st_ws","ns_st_pl","ns_st_pr","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},O=function(){function r(t,e){var n=e[t];null!=n&&(i[t]=n)}var e,i,o=this,s=0,a=0,u=0,n=0,c=0,l=0;Y.extend(this,{reset:function(t){null!=t&&0<t.length?Y.filterMap(i,t):i={},i.hasOwnProperty("ns_st_cl")||(i.ns_st_cl="0"),i.hasOwnProperty("ns_st_pn")||(i.ns_st_pn="1"),i.hasOwnProperty("ns_st_tp")||(i.ns_st_tp="1"),o.setPauses(0),o.setStarts(0),o.setBufferingTime(0),o.setBufferingTimestamp(-1),o.setPlaybackTime(0),o.setPlaybackTimestamp(-1)},setLabels:function(t,e){null!=t&&Y.extend(i,t),o.setRegisters(i,e)},getLabels:function(){return i},setLabel:function(t,e){var n={};n[t]=e,o.setLabels(n,null)},getLabel:function(t){return i[t]},getClipId:function(){return void 0!==e&&null!=e||o.setClipId("1"),e},setClipId:function(t){e=t},setRegisters:function(t,e){var n=t.ns_st_cn;null!=n&&(o.setClipId(n),delete t.ns_st_cn),null!=(n=t.ns_st_bt)&&(u=Number(n),delete t.ns_st_bt),r("ns_st_cl",t),r("ns_st_pn",t),r("ns_st_tp",t),r("ns_st_ub",t),r("ns_st_br",t),e!=et.PLAYING&&null!=e||null!=(n=t.ns_st_sq)&&(a=Number(n),delete t.ns_st_sq),e==et.BUFFERING||null!=(n=t.ns_st_pt)&&(c=Number(n),delete t.ns_st_pt),e!=et.PAUSED&&e!=et.IDLE&&null!=e||null!=(n=t.ns_st_pc)&&(s=Number(n),delete t.ns_st_pc)},createLabels:function(t,e){var n=e||{};return n.ns_st_cn=o.getClipId(),n.ns_st_bt=String(o.getBufferingTime()),t!=tt.PLAY&&null!=t||(n.ns_st_sq=String(a)),t!=tt.PAUSE&&t!=tt.END&&t!=tt.KEEP_ALIVE&&t!=tt.HEART_BEAT&&null!=t||(n.ns_st_pt=String(o.getPlaybackTime()),n.ns_st_pc=String(s)),Y.extend(n,o.getLabels()),n},incrementPauses:function(){s++},incrementStarts:function(){a++},getBufferingTime:function(){var t=u;return 0<=n&&(t+=+new Date-n),t},setBufferingTime:function(t){u=t},getPlaybackTime:function(){var t=c;return 0<=l&&(t+=+new Date-l),t},setPlaybackTime:function(t){c=t},getPlaybackTimestamp:function(){return l},setPlaybackTimestamp:function(t){l=t},getBufferingTimestamp:function(){return n},setBufferingTimestamp:function(t){n=t},getPauses:function(){return s},setPauses:function(t){s=t},getStarts:function(){return a},setStarts:function(t){a=t}}),i={},o.reset()},rt=function(){var r,n,i=this,o=null,s=0,a=0,u=0,c=0,l=0,e=0,f=!1;Y.extend(this,{reset:function(t){null!=t&&0<t.length?Y.filterMap(n,t):n={},i.setPlaylistId(+new Date+"_"+e),i.setBufferingTime(0),i.setPlaybackTime(0),i.setPauses(0),i.setStarts(0),i.setRebufferCount(0),f=!1},setLabels:function(t,e){null!=t&&Y.extend(n,t),i.setRegisters(n,e)},getLabels:function(){return n},setLabel:function(t,e){var n={};n[t]=e,i.setLabels(n,null)},getLabel:function(t){return n[t]},getClip:function(){return o},getPlaylistId:function(){return r},setPlaylistId:function(t){r=t},setRegisters:function(t,e){var n=t.ns_st_sp;null!=n&&(s=Number(n),delete t.ns_st_sp),null!=(n=t.ns_st_bc)&&(u=Number(n),delete t.ns_st_bc),null!=(n=t.ns_st_bp)&&(c=Number(n),delete t.ns_st_bp),null!=(n=t.ns_st_id)&&(r=n,delete t.ns_st_id),e==et.BUFFERING||null!=(n=t.ns_st_pa)&&(l=Number(n),delete t.ns_st_pa),e!=et.PAUSED&&e!=et.IDLE&&null!=e||null!=(n=t.ns_st_pp)&&(a=Number(n),delete t.ns_st_pp)},createLabels:function(t,e){var n=e||{};return n.ns_st_bp=String(i.getBufferingTime()),n.ns_st_sp=String(s),n.ns_st_id=String(r),0<u&&(n.ns_st_bc=String(u)),t!=tt.PAUSE&&t!=tt.END&&t!=tt.KEEP_ALIVE&&t!=tt.HEART_BEAT&&null!=t||(n.ns_st_pa=String(i.getPlaybackTime()),n.ns_st_pp=String(a)),t!=tt.PLAY&&null!=t||i.didFirstPlayOccurred()||(n.ns_st_pb="1",i.setFirstPlayOccurred(!0)),Y.extend(n,i.getLabels()),n},incrementStarts:function(){s++},incrementPauses:function(){a++,o.incrementPauses()},setPlaylistCounter:function(t){e=t},incrementPlaylistCounter:function(){e++},addPlaybackTime:function(t){if(0<=o.getPlaybackTimestamp()){var e=t-o.getPlaybackTimestamp();o.setPlaybackTimestamp(-1),o.setPlaybackTime(o.getPlaybackTime()+e),i.setPlaybackTime(i.getPlaybackTime()+e)}},addBufferingTime:function(t){if(0<=o.getBufferingTimestamp()){var e=t-o.getBufferingTimestamp();o.setBufferingTimestamp(-1),o.setBufferingTime(o.getBufferingTime()+e),i.setBufferingTime(i.getBufferingTime()+e)}},getBufferingTime:function(){var t=c;return 0<=o.getBufferingTimestamp()&&(t+=+new Date-o.getBufferingTimestamp()),t},setBufferingTime:function(t){c=t},getPlaybackTime:function(){var t=l;return 0<=o.getPlaybackTimestamp()&&(t+=+new Date-o.getPlaybackTimestamp()),t},setPlaybackTime:function(t){l=t},getStarts:function(){return s},setStarts:function(t){s=t},getPauses:function(){return a},setPauses:function(t){a=t},getRebufferCount:function(){return u},incrementRebufferCount:function(){u++},setRebufferCount:function(t){u=t},didFirstPlayOccurred:function(){return f},setFirstPlayOccurred:function(t){f=t}}),o=new O,n={},i.reset()},k=(P=M,x={},R=L=-1,Y.extend(P,{activeIndex:R,newInstance:F,new:F,destroyInstance:G,destroy:G,newPlaylist:function(t){return t=t||{},N().setPlaylist(t),N().getPlaylist()},newClip:function(t,e,n){return t=t||{},"number"==typeof e&&(t.ns_st_cn=e),N().setClip(t,n),N().getClip()},notify:function(t,e,n){return void 0!==t&&(n=n||null,e=e||{},N().notify(t,e,n))},setLabels:function(t){void 0!==t&&N().setLabels(t)},getLabels:function(){return N().getLabels()},setPlaylistLabels:function(t){void 0!==t&&N().getPlaylist().setLabels(t)},getPlaylistLabels:function(){return N().getPlaylist().getLabels()},setClipLabels:function(t){void 0!==t&&N().getClip().setLabels(t)},getClipLabels:function(){return N().getClip().getLabels()},resetInstance:function(t){return N().reset(t||{})},resetPlaylist:function(t){return N().getPlaylist().reset(t||{})},resetClip:function(t){return N().getClip().reset(t||{})},viewEvent:function(t){return t=t||{},N().viewNotify(null,t)},customEvent:function(t,e){return 2<arguments.length&&(t=e,e=arguments[2]),t=t||{},"number"==typeof e&&(t.ns_st_po=e),N().customNotify(t,e)},exportState:function(){return N().exportState()},importState:function(t){N().importState(t)}}),M);function M(t,e,n){function r(t){var e=0;if(null!=V)for(var n=0;n<V.length;n++){var r=V[n],i=r.playingtime;if(!i||t<i){e=r.interval;break}}return e}function d(){o();var t=r(H.getClip().getPlaybackTime());if(0<t){var e=0<K?K:t;f=J.setTimeout(i,e)}K=0}function h(){o();var t=r(H.getClip().getPlaybackTime());K=t-H.getClip().getPlaybackTime()%t,null!=f&&o()}function p(){X=K=0}function i(){X++,E(P(tt.HEART_BEAT,null)),K=0,d()}function o(){null!=f&&(J.clearTimeout(f),f=null)}function g(){v(),l=J.setTimeout(s,W)}function s(){E(P(tt.KEEP_ALIVE,null)),U++,g()}function v(){null!=l&&(J.clearTimeout(l),l=null)}function m(){C==et.PLAYING&&(H.incrementRebufferCount(),H.incrementPauses(),E(P(tt.PAUSE,null)),U++,C=et.PAUSED)}function y(){null!=R&&(J.clearTimeout(R),R=null)}function a(t){return t==et.PLAYING||t==et.PAUSED}function b(){x&&(J.clearTimeout(x),x=null)}function T(t,e,n){if(b(),n)x=J.setTimeout((l=t,f=e,function(){T(l,f)}),n);else if(function(t){return null!=t&&w()!=t}(t)){var r=w(),i=F,o=A(e),s=0<=i?o-i:0;(function(t,e){var n=A(e);if(t==et.PLAYING)H.addPlaybackTime(n),h(),v();else if(t==et.BUFFERING)H.addBufferingTime(n),y();else if(t==et.IDLE){var r=Y.getKeys(H.getClip().getLabels());H.getClip().reset(r)}})(w(),e),function(t,e){var n=A(e);G=function(t){var e=-1;return t.hasOwnProperty("ns_st_po")&&(e=Y.getInteger(t.ns_st_po)),e}(e),t==et.PLAYING?(d(),g(),H.getClip().setPlaybackTimestamp(n),_(t)&&(H.getClip().incrementStarts(),H.getStarts()<1&&H.setStarts(1))):t==et.PAUSED?_(t)&&H.incrementPauses():t==et.BUFFERING?(H.getClip().setBufferingTimestamp(n),j&&(y(),M.isPauseOnBufferingEnabled()&&_(et.PAUSED)&&(R=J.setTimeout(m,q)))):t==et.IDLE&&p()}(t,e),function(t){t}(w()),function(t){L=t,F=+new Date}(t);for(var a=0,u=k.length;a<u;a++)k[a](r,t,e,s);S(e),H.setRegisters(e,t),H.getClip().setRegisters(e,t);var c=P(et.toEventType(t),e);Y.extend(c,e),_(L)&&(E(c),C=L,U++)}var l,f}function S(t){var e=t.ns_st_mp;null!=e&&(I=e,delete t.ns_st_mp),null!=(e=t.ns_st_mv)&&(D=e,delete t.ns_st_mv),null!=(e=t.ns_st_ec)&&(U=Number(e),delete t.ns_st_ec)}function E(t,e){void 0===e&&(e=!0),e&&function(t){O=P(null),Y.extend(O,t)}(t);var n=M.getPixelURL();if(c){if(!function(){var t=c.getAppContext(),e=c.getSalt(),n=c.getPixelURL();return null==t||null==e||0==e.length||null==n||0==n.length}()){var r=z.am,i=z.et,o=r.newApplicationMeasurement(c,i.HIDDEN,t,n);c.getQueue().offer(o)}}else n&&J.httpGet(function(t,e){for(var n,r=$.encodeURIComponent||escape,i=[],o=nt.LABELS_ORDER,s=t.split("?"),a=s[0],u=s[1].split("&"),c=0,l=u.length;c<l;c++){var f=u[c].split("="),d=unescape(f[0]),h=unescape(f[1]);d&&(e[d]=h)}for(var p={},g=0,v=o.length;g<v;g++){var m=o[g];if(e.hasOwnProperty(m)){var y=e[m];void 0!==y&&null!=y&&(p[m]=!0,i.push(r(m)+"="+r(e[m])))}}for(var b in e)if(e.hasOwnProperty(b)){if(p[b])continue;var T=e[b];void 0!==T&&null!=T&&i.push(r(b)+"="+r(e[b]))}n=(n=a+"?"+i.join("&"))+(n.indexOf("&c8=")<0?"&c8="+r(Z.title):"")+(n.indexOf("&c7=")<0?"&c7="+r(Z.URL):"")+(n.indexOf("&c9=")<0?"&c9="+r(Z.referrer):"");var S=Y.browserAcceptsLargeURLs()?nt.URL_LENGTH_LIMIT:nt.RESTRICTED_URL_LENGTH_LIMIT;if(n.length>S&&0<n.indexOf("&")){var E=n.substr(0,S-8).lastIndexOf("&");n=(n.substring(0,E)+"&ns_cut="+r(n.substring(E+1))).substr(0,S)}return n}(n,t))}function _(t){return(t!=et.PAUSED&&t!=et.IDLE||C!=et.IDLE&&null!=C)&&(t!=et.BUFFERING&&C!=t)}function A(t){var e=-1;return t.hasOwnProperty("ns_ts")&&(e=Number(t.ns_ts)),e}function w(){return L}function P(t,e){var n,r;r=1==arguments.length?(n=et.toEventType(L),t):(n=t,e);var i={};if("undefined"!=typeof document){var o=document;i.c7=o.URL,i.c8=o.title,i.c9=o.referrer}return null!=r&&Y.extend(i,r),i.hasOwnProperty("ns_ts")||(i.ns_ts=String(+new Date)),null==n||i.hasOwnProperty("ns_st_ev")||(i.ns_st_ev=tt.toString(n)),Y.extend(i,M.getLabels()),function(t,e){var n=e||{};if(n.ns_st_ec=String(U),!n.hasOwnProperty("ns_st_po")){var r=G,i=A(n);(t==tt.PLAY||t==tt.KEEP_ALIVE||t==tt.HEART_BEAT||null==t&&L==et.PLAYING)&&(r+=i-H.getClip().getPlaybackTimestamp()),n.ns_st_po=Y.getInteger(r)}t==tt.HEART_BEAT&&(n.ns_st_hc=String(X))}(n,i),H.createLabels(n,i),H.getClip().createLabels(n,i),i.hasOwnProperty("ns_st_mp")||(i.ns_st_mp=I),i.hasOwnProperty("ns_st_mv")||(i.ns_st_mv=D),i.hasOwnProperty("ns_st_ub")||(i.ns_st_ub="0"),i.hasOwnProperty("ns_st_br")||(i.ns_st_br="0"),i.hasOwnProperty("ns_st_pn")||(i.ns_st_pn="1"),i.hasOwnProperty("ns_st_tp")||(i.ns_st_tp="1"),i.hasOwnProperty("ns_st_it")||(i.ns_st_it="c"),i.ns_st_sv=nt.STREAMSENSE_VERSION,i.ns_type="hidden",i}var u,x,L,c,R,l,f,C,I,D,O,k,M=this,N=500,B=null,F=0,G=0,U=0,H=null,j=!0,V=nt.DEFAULT_HEARTBEAT_INTERVAL,W=nt.DEFAULT_KEEP_ALIVE_INTERVAL,q=nt.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,K=0,X=0,Q=!1,z={};n?J.setPlatformAPI(n):J.autoSelect(),Y.extend(this,{reset:function(t){H.reset(t),H.setPlaylistCounter(0),H.setPlaylistId(+new Date+"_1"),H.getClip().reset(t),null==t||t.isEmpty()?u={}:Y.filterMap(u,t),U=1,X=0,h(),p(),v(),y(),b(),L=et.IDLE,F=-1,C=null,I=nt.DEFAULT_PLAYERNAME,D=nt.STREAMSENSE_VERSION,O=null},setPauseOnBufferingInterval:function(t){q=t},getPauseOnBufferingInterval:function(){return q},setKeepAliveInterval:function(t){W=t},getKeepAliveInterval:function(){return W},setHeartbeatIntervals:function(t){V=t},notify:function(){var t,e,n,r;if(e=arguments[0],r=3==arguments.length?(n=arguments[1],arguments[2]):(n={},arguments[1]),tt.toString(e)){t=function(t){return t==tt.PLAY?et.PLAYING:t==tt.PAUSE?et.PAUSED:t==tt.BUFFER?et.BUFFERING:t==tt.END?et.IDLE:null}(e);var i=Y.extend({},n);if(function(t){A(t)<0&&(t.ns_ts=String(+new Date))}(i),i.hasOwnProperty("ns_st_po")||(i.ns_st_po=Y.getInteger(r).toString()),e==tt.PLAY||e==tt.PAUSE||e==tt.BUFFER||e==tt.END)M.isThrottlingEnabled()&&a(L)&&a(t)&&(L!=et.PLAYING||t!=et.PAUSED||x)?T(t,i,N):T(t,i);else{var o=P(e,i);Y.extend(o,i),E(o,!1),U++}}},getLabels:function(){return u},getState:function(){return L},setLabels:function(t){for(var e in t)t.hasOwnProperty(e)&&M.setLabel(e,t[e])},getLabel:function(t){return u[t]},setLabel:function(t,e){null==e?delete u[t]:u[t]=e},setPixelURL:function(t){if(null==t||0==t.length)return null;var e=decodeURIComponent||unescape,n=t.indexOf("?");if(0<=n){if(n<t.length-1){for(var r=t.substring(n+1).split("&"),i=0,o=r.length;i<o;i++){var s=r[i].split("=");2==s.length?M.setLabel(s[0],e(s[1])):1==s.length&&M.setLabel(nt.PAGE_NAME_LABEL,e(s[0]))}t=t.substring(0,n+1)}}else t+="?";return B=t},getPixelURL:function(){return B||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?B=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?B=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},isPauseOnBufferingEnabled:function(){return j},setPauseOnBufferingEnabled:function(t){j=t},isThrottlingEnabled:function(){return Q},setThrottlingEnabled:function(t){Q=t},setThrottlingDelay:function(t){t&&0<t&&(N=t)},getThrottlingDelay:function(){return N},setClip:function(t,e){var n=!1;return L==et.IDLE&&(H.getClip().reset(),H.getClip().setLabels(t,null),e&&H.incrementStarts(),n=!0),n},setPlaylist:function(t){var e=!1;return L==et.IDLE&&(H.incrementPlaylistCounter(),H.reset(),H.getClip().reset(),H.setLabels(t,null),e=!0),e},importState:function(t){reset();var e=Y.extend({},t);H.setRegisters(e,null),H.getClip().setRegisters(e,null),S(e),U++},exportState:function(){return O},getVersion:function(){return nt.STREAMSENSE_VERSION},addListener:function(t){k.push(t)},removeListener:function(t){k.splice(Y.indexOf(t,k),1)},getClip:function(){return H.getClip()},getPlaylist:function(){return H},setHttpGet:function(t){"function"==typeof t&&(J.httpGet=t)},setHttpPost:function(t){"function"==typeof t&&(J.httpPost=t)}}),Y.extend(this,{adNotify:function(t,e,n){(e=e||{}).ns_st_ad=1,t>=tt.AD_PLAY&&t<=tt.AD_CLICK&&M.notify(t,e,n)},customNotify:function(t,e){M.notify(tt.CUSTOM,t,e)},viewNotify:function(t,e){(t=t||M.getPixelURL())&&function(t,e){var n=t||"",h="undefined",r=$.comScore||$.sitestat||function(t){var e,n,r,i,o,s="comScore=",a=Z.cookie,u="",c="indexOf",l=Y.browserAcceptsLargeURLs()?nt.URL_LENGTH_LIMIT:nt.RESTRICTED_URL_LENGTH_LIMIT,f="&ns_",d=$.encodeURIComponent||escape;if(a[c](s)+1)for(i=0,o=(r=a.split(";")).length;i<o;i++)(n=r[i][c](s))+1&&(u="&"+unescape(r[i].substring(n+s.length)));(t+=f+"_t="+ +new Date+f+"c="+(Z.characterSet||Z.defaultCharset||"")+u).length>l&&0<t.indexOf("&")&&(e=t.substr(0,l-8).lastIndexOf("&"),t=(t.substring(0,e)+f+"cut="+d(t.substring(e+1))).substr(0,l)),J.httpGet(t),typeof ns_p==h&&(ns_p={src:t}),ns_p.lastMeasurement=t};if(typeof e!=h){var i=[],o=$.encodeURIComponent||escape;for(var s in e)e.hasOwnProperty(s)&&i.push(o(s)+"="+o(e[s]));/[\?\&]$/.test(n)||(n+="&"),n+=i.join("&")}r(n)}(t,e)}}),it.comScore&&(z=it.comScore.exports,c=z.c()),u={},U=1,L=et.IDLE,H=new rt,j=!(R=null),f=null,X=0,p(),Q=!1,C=x=l=null,G=0,k=[],M.reset(),t&&M.setLabels(t),e&&M.setPixelURL(e)}function N(t,e){return x[R]||F(t,e)}function B(){R=-1;for(var t=0;t<=L;t++)if(x.hasOwnProperty(String(t))){R=t;break}return it.StreamSense.activeIndex=R}function F(t,e){return e=e||null,(t=t||null)&&"object"==typeof t&&(e=t,t=null),x[++L]=new it.StreamSense(e,t),B(),x[L]}function G(){var t=!1,e=R;if("number"==typeof arguments[0]&&isFinite(arguments[0]))e=arguments[0];else if(arguments[0]instanceof it.StreamSense)for(var n in x)if(x.hasOwnProperty(n)&&x[n]===arguments[0]){e=n;break}return x.hasOwnProperty(String(e))&&(t=x[e],delete x[e],t.reset(),B()),t}return k.AdEvents=D,k.PlayerEvents=tt,k.InternalStates=et,k.getPlatformAPI=function(){return J},k}(),it.StreamingTag=it.StreamingTag||(y=it.Utils,b=it.StreamSense,T=it.StreamSense.PlayerEvents,it.StreamSense.AdEvents,S=it.StreamSense.InternalStates||null,E=null!=it.StreamSense.InternalStates,function(e){function r(t){return y.exists(t)||(t={}),y.exists(t.ns_st_ci)||(t.ns_st_ci="0"),y.exists(t.c3)||(t.c3="*null"),y.exists(t.c4)||(t.c4="*null"),y.exists(t.c6)||(t.c6="*null"),t}function n(t){return 0<l&&l<=t?f+=t-l:f=0,f}function i(t){p.getState()!=S.IDLE&&p.getState()!=S.PAUSED?p.notify(T.END,n(t)):p.getState()==S.PAUSED&&p.notify(T.END,f)}function o(t,e,n){if(y.exists(t)&&y.exists(e)&&y.exists(n)){var r=e[t],i=n[t];return y.exists(r)&&y.exists(i)&&r===i}return!1}function s(t,e){i(t);var n={ns_st_cn:++c,ns_st_pn:"1",ns_st_tp:"0"};y.extend(n,e),p.setClip(n),d=e,l=t,f=0,p.notify(T.PLAY,f)}function a(t){var e=+new Date;i(e),c++,t=r(t);var n={ns_st_cn:c,ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};y.extend(n,t),p.setClip(n),f=0,p.notify(T.PLAY,f),l=e,h=!1}function u(t,e){var n=+new Date;t=r(t),m==v.None&&(m=e),h&&m==e&&function(t){return o("ns_st_ci",d,t)&&o("c3",d,t)&&o("c4",d,t)&&o("c6",d,t)}(t)?(p.getClip().setLabels(t),p.getState()!=S.PLAYING&&(l=n,p.notify(T.PLAY,f))):s(n,t),h=!0,m=e}var c=0,l=0,f=0,d=null,h=!1,p=null,g=!1,v={None:0,AudioContent:1,VideoContent:2},m=v.None;y.extend(this,{playAdvertisement:function(){p&&(g&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead."),a({ns_st_ct:"va"}))},playVideoAdvertisement:function(t){if(p){var e={ns_st_ct:"va"};t&&y.extend(e,t),a(e)}},playAudioAdvertisement:function(t){if(p){var e={ns_st_ct:"aa"};t&&y.extend(e,t),a(e)}},playContentPart:function(t){if(p){g&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var e={ns_st_ct:"vc"};t&&y.extend(e,t),u(e,v.VideoContent)}},playVideoContentPart:function(t){if(p){var e={ns_st_ct:"vc"};t&&y.extend(e,t),u(e,v.VideoContent)}},playAudioContentPart:function(t){if(p){var e={ns_st_ct:"ac"};t&&y.extend(e,t),u(e,v.AudioContent)}},stop:function(){if(p){var t=+new Date;p.notify(T.PAUSE,n(t))}}}),function(){if(E)if(it.comScore)(p=new b).setLabel("ns_st_it","r");else if(y.exists(e))if(g=y.isTrue(e.debug),y.exists(e.customerC2)&&0<e.customerC2.length){var t=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");(p=new b).setPixelURL(t+".scorecardresearch.com/p?c1=2"),p.setLabel("c2",e.customerC2),p.setLabel("ns_st_it","r")}else g&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}()})}catch(t){}i(void 0!==it?it:window.ns_)}).call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],533:[function(t,e,n){!function(){function t(t){return!!document.currentScript&&(-1!=document.currentScript.src.indexOf("?"+t)||-1!=document.currentScript.src.indexOf("&"+t))}function r(){return"function"==typeof window.__onGCastApiAvailable?window.__onGCastApiAvailable:null}function e(){if(i){function t(){0==--e&&n&&n(!0)}var e=2,n=r();window.__onGCastApiAvailable=t,s("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",a,t)}}var n=t("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",i=t("loadCastFramework")||t("loadCastApplicationFramework"),o=function(t){t.length?s(t.shift(),function(){o(t)}):a()},s=function(t,e,n){var r=document.createElement("script");r.onerror=e,n&&(r.onload=n),r.src=t,(document.head||document.documentElement).appendChild(r)},a=function(){var t=r();t&&t(!1,"No cast extension found")};if(0<=window.navigator.userAgent.indexOf("Android")&&0<=window.navigator.userAgent.indexOf("Chrome/")&&window.navigator.presentation){e();var u=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);o(["//www.gstatic.com/eureka/clank/"+(u?parseInt(u[1],10):0)+n,"//www.gstatic.com/eureka/clank"+n])}else!window.chrome||!window.navigator.presentation||0<=window.navigator.userAgent.indexOf("Edge")?a():(e(),o(["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"].map(function(t){return"chrome-extension://"+t+n})))}()},{}],289:[function(t,e,n){var r=t("youboralib"),i=t("../manifest.json"),o=r.Adapter.extend({getVersion:function(){return i.version+"-"+i.name+"-"+i.tech},getTitle:function(){var t=null;return this.player.mediainfo&&(t=this.player.mediainfo.name),t},getPlayhead:function(){var t=this.player.currentTime();return this.plugin._adsAdapter&&this.plugin._adsAdapter.flags.isStarted&&(t=this.lastPlayhead),t},getIsLive:function(){var t=null;return this.player.mediainfo&&(t=!0,"number"==typeof this.player.mediainfo.duration&&(t=this.player.mediainfo.duration<1)),t},getDuration:function(){var t=this.player.duration();return this.player.mediainfo&&void 0!==this.player.mediainfo.duration&&(t=this.player.mediainfo.duration),t},getResource:function(){var t=null,e=this.getUsedTech();return e&&e.getResource&&(t=e.getResource(this)),t},getBitrate:function(){var t=null,e=this.getUsedTech();return e&&e.getBitrate&&(t=e.getBitrate(this)),t},getRendition:function(){var t=null,e=this.getUsedTech();return e&&e.getRendition&&(t=e.getRendition(this)),t},getPlayerName:function(){var t="videojs";return o.ContribHlsTech.isUsed(this)?t+="-hls":o.HlsJsTech.isUsed(this)?t+="-hlsjs":o.ShakaTech.isUsed(this)?t+="-shaka":o.DashShakaTech.isUsed(this)&&(t+="-dash-shaka"),o.ImaAdsAdapter.isUsed(this)?t+="-ima":o.OnceUXAdsAdapter.isUsed(this)?this.pluginName+="-oux":this.player.FreeWheelPlugin&&(t+="-fw"),this.player.mediainfo&&(t+="-bcove"),t},getPlayerVersion:function(){var t=null;return"undefined"!=typeof videojs&&(t=videojs.VERSION),t},getPlayrate:function(){return this.player.playbackRate()},getTech:function(){return this.player.tech({IWillNotUseThisInPlugins:!0})},getUsedTech:function(){var t=null;return o.ContribHlsTech.isUsed(this)?t=o.ContribHlsTech:o.HlsJsTech.isUsed(this)?t=o.HlsJsTech:o.ShakaTech.isUsed(this)?t=o.ShakaTech:o.DashShakaTech.isUsed(this)&&(t=o.DashShakaTech),t},registerListeners:function(){this.monitorPlayhead(!0,!1),this.references={loadstart:this.loadstartListener.bind(this),adsready:this.loadAdsAdapter.bind(this),play:this.playListener.bind(this),timeupdate:this.timeupdateListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),abort:this.conditionalStop.bind(this),ended:this.conditionalStop.bind(this),dispose:this.conditionalStop.bind(this),seeking:this.seekingListener.bind(this),seeked:this.seekedListener.bind(this),error:this.errorListener.bind(this),adserror:this.aderrorListener.bind(this),adsEnded:this.adsEndedListener.bind(this)},this.player&&Object.keys(this.references).forEach(function(t){this.player.on(t,this.references[t])}.bind(this))},unregisterListeners:function(){this.monitor&&this.monitor.stop(),this.player&&this.references&&(Object.keys(this.references).forEach(function(t){this.player.off(t,this.references[t])}.bind(this)),delete this.references)},aderrorListener:function(t){this.loadAdsAdapter(),this.plugin.getAdsAdapter()&&this.plugin.getAdsAdapter().adPlayerErrorListener&&this.plugin.getAdsAdapter().adPlayerErrorListener(t)},loadstartListener:function(t){r.Log.notice("Player detected "+this.getPlayerName())},playListener:function(t){this.flags.isStarted?this.lastSrc&&this.lastSrc!==this.getResource()&&(this.fireStop(),this.lastPlayhead=void 0,this._startEvent(),this.lastSrc=this.getResource()):(this.lastSrc=this.getResource(),this._startEvent())},_startEvent:function(t){this.fireStart(),this.flags.isJoined||(this.joinPolling||(this.joinPolling=new r.Timer(this._jointimePolling.bind(this),500)),this.joinPolling.start()),this.loadAdsAdapter()},_jointimePolling:function(t){this.plugin.getAdsAdapter()&&this.plugin.getAdsAdapter().flags.isStarted||("number"==typeof this.lastPlayhead&&this.lastPlayhead!==this.getPlayhead()&&(this.fireJoin(),this.joinPolling&&this.joinPolling.stop()),this.lastPlayhead=this.getPlayhead())},timeupdateListener:function(t){.1<this.getPlayhead()&&(this.fireJoin(),this.joinPolling&&this.joinPolling.stop(),!this.flags.isPaused&&this.lastSeekPlayhead&&this.lastSeekPlayhead!==this.getPlayhead()&&(this.fireSeekEnd(),this.lastSeekPlayhead=!1)),this.flags.isJoined||(void 0===this.lastPlayhead&&(this.lastPlayhead=this.getPlayhead()),this.lastPlayhead!==this.getPlayhead()&&(this.fireStart(),this.fireJoin(),this.joinPolling&&this.joinPolling.stop(),this.lastPlayhead=void 0)),this.plugin._adsAdapter&&!this.plugin._adsAdapter.flags.isStarted&&(this.lastPlayhead=this.getPlayhead())},pauseListener:function(t){this.firePause()},playingListener:function(t){this._startEvent(),this.fireResume(),this.getPlayhead()<1&&this.fireSeekEnd()},conditionalStop:function(t){this.plugin&&(this.adsEnded=!1,this.fireStop(),this.lastPlayhead=void 0)},adsEndedListener:function(t){this.adsEnded=!0,this.plugin.requestBuilder.lastSent.adPosition===r.Constants.AdPosition.Postroll&&(this.plugin.fireStop(),this.lastPlayhead=void 0)},seekingListener:function(t){this.fireSeekBegin({},!1)},seekedListener:function(t){this.lastSeekPlayhead=this.getPlayhead()},errorListener:function(t){if(this.player.error&&this.player.error()){this.fireError(this.player.error().code,this.player.error().message);var e=Number(this.player.error().code);(2===e||4===e||e<0)&&(this.plugin.fireStop(),this.lastPlayhead=void 0,this.crashed=!0)}},loadAdsAdapter:function(){if(null===this.plugin.getAdsAdapter()){var t=null;t="undefined"!=typeof google&&o.ImaAdsAdapter.isUsed(this)?new o.ImaAdsAdapter(this.player):o.OnceUXAdsAdapter.isUsed(this)?new o.OnceUXAdsAdapter(this.player):this.player.ads&&"undefined"!=typeof google?new o.BcoveImaAdsAdapter(this.player):this.player.ads&&this.player.FreeWheelPlugin?new o.BcoveFreewheelAdsAdapter(this.player):new o.GenericAdsAdapter(this.player),this.plugin.setAdsAdapter(t)}}},{GenericAdsAdapter:t("./ads/generic"),BcoveImaAdsAdapter:t("./ads/bcove-ima"),BcoveFreewheelAdsAdapter:t("./ads/bcove-freewheel"),ImaAdsAdapter:t("./ads/ima"),OnceUXAdsAdapter:t("./ads/onceux"),ContribHlsTech:t("./tech/contrib-hls"),HlsJsTech:t("./tech/hls-js"),ShakaTech:t("./tech/shaka"),DashShakaTech:t("./tech/dash-shaka")});r.adapters.Videojs=o,e.exports=r.adapters.Videojs},{"../manifest.json":288,"./ads/bcove-freewheel":290,"./ads/bcove-ima":291,"./ads/generic":292,"./ads/ima":293,"./ads/onceux":294,"./tech/contrib-hls":295,"./tech/dash-shaka":296,"./tech/hls-js":297,"./tech/shaka":298,youboralib:359}],298:[function(t,e,n){var a=t("youboralib");e.exports={isUsed:function(t){return!!t.getTech().shakaPlayer},getResource:function(t){return t.getTech().shakaPlayer.getManifestUri()},getBitrate:function(t){return t.getTech().shakaPlayer.getStats().streamBandwidth},getRendition:function(t){var e=t.getTech().shakaPlayer,n=e.getStats(),r=a.Util.buildRenditionString(n.width,n.height,n.streamBandwidth),i=e.getVariantTracks();for(var o in i){var s=i[o];if(s.active&&"video"===s.type){r=a.Util.buildRenditionString(s.width,s.height,s.bandwidth);break}}return r}}},{youboralib:359}],297:[function(t,e,n){var i=t("youboralib");e.exports={isUsed:function(t){return!!t.getTech().hls_},getResource:function(t){var e=null;return t.getTech().hls_&&t.getTech().hls_.url?e=t.getTech().hls_.url:t.getTech().hls&&t.getTech().hls.source_&&(e=t.getTech().hls.source_.src),e},getBitrate:function(t){var e=null,n=t.getTech().hls_.currentLevel;if(void 0!==n&&-1!==n&&t.getTech().hls_.levels){var r=t.getTech().hls_.levels[n];r&&r.bitrate&&(e=r.bitrate)}return e},getRendition:function(t){var e=null,n=t.getTech().hls_.currentLevel;if(void 0!==n&&-1!==n&&t.getTech().hls_.levels){var r=t.getTech().hls_.levels[n];r&&(e=i.Util.buildRenditionString(r.width,r.height,r.bitrate))}return e}}},{youboralib:359}],296:[function(t,e,n){var a=t("youboralib");e.exports={isUsed:function(t){return t.player.dash&&t.player.dash.shakaPlayer},getResource:function(t){return t.player.dash.shakaPlayer.getManifestUri()},getBitrate:function(t){return t.player.dash.shakaPlayer.getStats().streamBandwidth},getRendition:function(t){var e=t.player.dash.shakaPlayer,n=e.getStats(),r=a.Util.buildRenditionString(n.width,n.height,n.streamBandwidth),i=e.getVariantTracks();for(var o in i){var s=i[o];s.active&&"video"===s.type&&(r=a.Util.buildRenditionString(s.width,s.height,s.bandwidth))}return r}}},{youboralib:359}],295:[function(t,e,n){var s=t("youboralib");e.exports={isUsed:function(t){return!!t.getTech().hls},getBitrate:function(t){var e=null,n=t.getTech().hls.playlists.media();if(t.player.qualityLevels){var r=t.player.qualityLevels(),i=r[r.selectedIndex];i&&(e=i.bitrate)}else n&&n.attributes&&(e=n.attributes.BANDWIDTH);return e},getRendition:function(t){var e=null,n=t.getTech().hls.playlists.media();if(t.player.qualityLevels){var r=t.player.qualityLevels(),i=r[r.selectedIndex];i&&(e=s.Util.buildRenditionString(i.width,i.height,i.bitrate))}else if(n&&n.attributes){var o=n.attributes;o.RESOLUTION?e=s.Util.buildRenditionString(o.RESOLUTION.width,o.RESOLUTION.height,o.BANDWIDTH):o.BANDWIDTH?e=s.Util.buildRenditionString(o.BANDWIDTH):o.NAME&&(e=o.NAME)}return e}}},{youboralib:359}],294:[function(t,e,n){var r=t("youboralib"),i=t("../../manifest.json"),o=r.Adapter.extend({getVersion:function(){return i.version+"-videojs-onceux-ads"},getResource:function(){return this.player.ads.contentSrc},getPlayhead:function(){return this.player.onceux.currentTime()},getDuration:function(){return this.player.onceux.duration()},getPosition:function(){var t=r.Constants.AdPosition.Preroll;return this.plugin.getAdapter().flags.isJoined&&(t=this.plugin.getAdapter().getPlayhead()<=this.plugin.getAdapter().getDuration()?r.Constants.AdPosition.Midroll:r.Constants.AdPosition.Postroll),t},registerListeners:function(){r.Util.logAllEvents(this.player,[null,"onceux-ads-complete","onceux-adroll-start","onceux-adroll-complete","onceux-linearad-start","onceux-linearad-impression","onceux-linearad-complete","onceux-linearad-skipped","onceux-linearad-pause","onceux-linearad-resume","onceux-companionad-creativeView","adserror","ads-click"]),this.monitorPlayhead(!0,!1),this.references={"onceux-linearad-start":this.startedListener.bind(this),"onceux-linearad-pause":this.pausedListener.bind(this),"onceux-linearad-resume":this.resumedListener.bind(this),"onceux-linearad-complete":this.completeListener.bind(this),"onceux-linearad-skipped":this.skippedListener.bind(this),adserror:this.errorListener.bind(this),"ads-click":this.clickListener.bind(this)},Object.keys(this.references).forEach(function(t){this.player.on(t,this.references[t])}.bind(this))},unregisterListeners:function(){this.monitor&&this.monitor.stop(),this.player&&this.references&&(Object.keys(this.references).forEach(function(t){this.player.off(t,this.references[t])}.bind(this)),delete this.references)},startedListener:function(t){this.fireStart(),this.fireJoin()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},completeListener:function(t){this.fireStop({adPlayhead:this.getDuration()})},skippedListener:function(t){this.fireSkip()},errorListener:function(t){this.fireError()},clickListener:function(t){this.fireClick()}},{isUsed:function(t){return t.player.onceux}});e.exports=o},{"../../manifest.json":288,youboralib:359}],293:[function(t,e,n){var r=t("youboralib"),i=t("../../manifest.json"),o=r.Adapter.extend({getVersion:function(){return i.version+"-videojs-ima-ads"},getDuration:function(){return this.player.ima.getAdsManager()&&null!==this.player.ima.getAdsManager().getCurrentAd()&&(this.duration=this.player.ima.getAdsManager().getCurrentAd().getDuration()),this.duration},getResource:function(){var t=null,e=this.player.ima.getAdsManager();return e&&(t=e.getCurrentAd().getMediaUrl()),t},getTitle:function(){var t=null,e=this.player.ima.getAdsManager();return e&&(t=e.getCurrentAd().getTitle()),t},getPlayhead:function(){var t=null,e=this.player.ima.getAdsManager();return e&&(t=this.getDuration()-e.getRemainingTime()),t},getPlayerVersion:function(){return"IMA"+google.ima.VERSION+"; contrib-ads "+this.player.ads.VERSION},getPosition:function(){var t=r.Constants.AdPosition.Preroll;return this.plugin._adapter.getDuration()-1<this.plugin._adapter.getPlayhead()?t=r.Constants.AdPosition.Postroll:this.plugin._adapter.flags.isJoined&&(t=r.Constants.AdPosition.Midroll),t},getGivenBreaks:function(){var t=null;return this.cuepoints&&(t=this.cuepoints.length),t},getBreaksTime:function(){return this.cuepoints},getGivenAds:function(){return this.totalAds},getAudioEnabled:function(){return!this.player.ima.adMuted},getIsSkippable:function(){return this.isSkippable},getIsFullscreen:function(){var t=!1,e=this.player.ima.adDisplayContainer;for(var n in e)e[n]&&e[n].width&&e[n].height&&window.innerHeight&&window.innerWidth&&e[n].width&&e[n].height&&(t=window.innerHeight<=e[n].height+30&&window.innerWidth<=e[n].width+30);return t},getIsVisible:function(){return r.Util.calculateAdViewability(this.player.ima.adContainerDiv)},registerListeners:function(){this.monitorPlayhead(!0,!1);var t=google.ima.AdEvent.Type;this.references={},this.references[t.AD_METADATA]=this.metadataListener.bind(this),this.references[t.LOADED]=this.loadedListener.bind(this),this.references[t.CONTENT_PAUSE_REQUESTED]=this.contentPauseRequestedListener.bind(this),this.references[t.STARTED]=this.startedListener.bind(this),this.references[t.PAUSED]=this.pausedListener.bind(this),this.references[t.RESUMED]=this.resumedListener.bind(this),this.references[t.COMPLETE]=this.completeListener.bind(this),this.references[t.SKIPPED]=this.skippedListener.bind(this),this.references[t.CLICK]=this.clickListener.bind(this),this.references[google.ima.AdErrorEvent.Type.AD_ERROR]=this.errorListener.bind(this),this.references[t.ALL_ADS_COMPLETED]=this.adsEndedListener.bind(this),this.references[t.FIRST_QUARTILE]=this.firstQuartileListener.bind(this),this.references[t.MIDPOINT]=this.secondQuartileListener.bind(this),this.references[t.THIRD_QUARTILE]=this.thirdQuartileListener.bind(this),this.playerReferences={adend:this.adEndedListener.bind(this),adstart:this.startedListener.bind(this),adskip:this.skippedListener.bind(this),adserror:this.errorListener.bind(this),"ads-click":this.clickListener.bind(this)},this.player&&this.player.ima&&(Object.keys(this.references).forEach(function(t){this.player.ima.addEventListener(t,this.references[t])}.bind(this)),Object.keys(this.playerReferences).forEach(function(t){this.player.on(t,this.playerReferences[t])}.bind(this)))},metadataListener:function(t){this.cuepoints=t.getAdCuePoints().h.slice(),this.plugin._adapter&&this.cuepoints.forEach(function(t,e){-1!==this.cuepoints[e]&&null!=this.cuepoints[e]&&void 0!==this.cuepoints[e]||(this.cuepoints[e]=this.plugin._adapter.getDuration())}.bind(this))},loadedListener:function(t){this.isSkippable=t.getAdData().skippable,this.totalAds=t.getAdData().adPodInfo.totalAds,this.fireStart()},contentPauseRequestedListener:function(t){this.fireStart()},startedListener:function(t){this.fireStart(),this.fireJoin()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},completeListener:function(t){this.fireStop()},skippedListener:function(t){this.fireSkip()},adEndedListener:function(t){this.fireStop()},errorListener:function(t){var e=t.getError();this.fireError(e.getCode(),e.getMessage())},clickListener:function(t){this.fireClick()},adsEndedListener:function(t){this.plugin.getAdapter().adsEnded=!0,this.fireStop(),this.plugin.requestBuilder.lastSent.adPosition===r.Constants.AdPosition.Postroll&&this.plugin.fireStop()},firstQuartileListener:function(t){this.fireQuartile(1)},secondQuartileListener:function(t){this.fireQuartile(2)},thirdQuartileListener:function(t){this.fireQuartile(3)},unregisterListeners:function(){this.monitor&&this.monitor.stop(),this.player&&this.player.ima&&this.references&&this.playerReferences&&(Object.keys(this.references).forEach(function(t){this.player.ima.removeEventListener(t,this.references[t])}.bind(this)),Object.keys(this.playerReferences).forEach(function(t){this.player.off(t,this.playerReferences[t])}.bind(this))),delete this.references,delete this.playerReferences},adPlayerErrorListener:function(t){var e=t.data.AdError;0<=[1012,1005,301,402,302].indexOf(e.getErrorCode())?this.fireManifest(r.Constants.ManifestError.NO_RESPONSE,e.getMessage()):0<=[1007,1009,303].indexOf(e.getErrorCode())?this.fireManifest(r.Constants.ManifestError.EMPTY,e.getMessage()):0<=[403,100,503,101,102].indexOf(e.getErrorCode())?this.fireManifest(r.Constants.ManifestError.WRONG,e.getMessage()):this.fireError(e.getErrorCode(),e.getMessage())}},{isUsed:function(t){return t.player.ima}});e.exports=o},{"../../manifest.json":288,youboralib:359}],292:[function(t,e,n){var r=t("youboralib"),i=t("../../manifest.json"),o=r.Adapter.extend({getVersion:function(){return i.version+"-videojs-ads"},registerListeners:function(){this.references={adstart:this.adStartListener.bind(this),adend:this.adEndListener.bind(this),adskip:this.adSkipListener.bind(this),adserror:this.errorListener.bind(this),"ads-click":this.clickListener.bind(this)},this.player&&Object.keys(this.references).forEach(function(t){this.player.on(t,this.references[t])}.bind(this))},unregisterListeners:function(){this.player&&this.references&&(Object.keys(this.references).forEach(function(t){this.player.off(t,this.references[t])}.bind(this)),delete this.references)},adStartListener:function(t){this.fireStart(),this.fireJoin()},adEndListener:function(t){this.fireStop()},adSkipListener:function(t){this.fireSkip()},errorListener:function(t){this.fireError()},clickListener:function(t){this.fireClick()}});e.exports=o},{"../../manifest.json":288,youboralib:359}],291:[function(t,e,n){var r=t("youboralib"),i=r.Adapter.extend({getVersion:function(){var t=null;return"undefined"!=typeof google&&google.ima&&(t="bcove-ima "+google.ima.VERSION),t},getPlayhead:function(){var t=this.plugin.getAdapter().player;return this.player.ima3&&this.player.ima3&&this.player.ima3.adPlayer&&(t=this.player.ima3.adPlayer),t.currentTime()},getDuration:function(){var t=null;if(this.player.ads&&this.player.ads.ad&&this.player.ads.ad.duration)t=this.player.ads.ad.duration;else{var e=this.plugin.player;this.player.ima3&&(e=this.player.ima3.adPlayer),t=e&&e.duration?e.duration():null}return t},getPosition:function(){var t=r.Constants.AdPosition.Midroll;if(this.player.ads&&this.player.ads.ad)switch(this.player.ads.ad.type){case"PREROLL":t=r.Constants.AdPosition.Preroll;break;case"MIDROLL":t=r.Constants.AdPosition.Midroll;break;case"POSTROLL":t=r.Constants.AdPosition.Postroll}else this.plugin._adapter.flags.isJoined?this.plugin._adapter.getPlayhead()>=this.plugin._adapter.getDuration()&&(t=r.Constants.AdPosition.Postroll):t=r.Constants.AdPosition.Preroll;return t},getResource:function(){var t="unknown";return this.player.ima3&&(t=this.player.ima3.currentAd.getMediaUrl()),t},getTitle:function(){var t=null;return this.player.ima3&&this.player.ima3.currentAd&&(t=this.player.ima3.currentAd.getTitle()),t},getPlayerVersion:function(){var t=null;return this.player.ima3&&(t=this.player.ima3.VERSION),t},getGivenBreaks:function(){var t=null;return this.player.ima3&&(t=this.player.ima3.adsManager.getCuePoints().length),t},getBreaksTime:function(){var t=null;if(this.player.ima3){var e=this.player.ima3.adsManager.getCuePoints();for(var n in e)(e[n]||0===e[n])&&-1!==e[n]||(e[n]=this.plugin._adapter.getDuration());t=e}return t},getGivenAds:function(){var t=null;return this.player.ima3&&this.player.ima3.currentAd&&this.player.ima3.currentAd.getAdPodInfo()&&(t=this.player.ima3.currentAd.getAdPodInfo().getTotalAds()),t},getAudioEnabled:function(){return!this.player.muted()&&!!this.player.volume()},getIsSkippable:function(){var t=!1;return this.player.ima3&&(t=this.player.ima3.currentAd&&this.player.ima3.currentAd.isSkippable()),t},getIsFullscreen:function(){var t=null;if(this.plugin.deviceDetector.isIphone())t=!this.plugin.deviceDetector.isInBackground;else{var e=null;this.player.ima3&&(e=this.player.ima3.el),t=!!e&&(window.innerHeight<=e.clientHeight+30&&window.innerWidth<=e.clientWidth+30)}return t},getIsVisible:function(){var t=null;return this.plugin.deviceDetector.isIphone()?t=!this.plugin.deviceDetector.isInBackground:this.player.ima3&&(t=r.Util.calculateAdViewability(this.player.ima3.el)),t},getBitrate:function(){var t=-1;return this.player.ima3&&this.player.ima3.currentAd&&this.player.ima3.currentAd.getVastMediaBitrate()&&(t=this.player.ima3.currentAd.getVastMediaBitrate()),t},getCreativeId:function(){var t=null;return this.player.ima3&&this.player.ima3.currentAd?t=this.player.ima3.currentAd.getCreativeAdId()||this.player.ima3.currentAd.getCreativeId():this.titles&&(t=this.titles[(this.plugin.requestBuilder.lastSent.adNumber||1)-1]._creativeId),t},registerListeners:function(){this.monitorPlayhead(!0,!1),this.references={"ima3-started":this.startJoinListener.bind(this),"ima3-paused":this.pausedListener.bind(this),"ima3-resumed":this.resumedListener.bind(this),"ima3-complete":this.adEndedListener.bind(this),"ima3-skipped":this.skippedListener.bind(this),"ima3-ad-error":this.errorListener.bind(this),"ads-pod-ended":this.podEndListener.bind(this),"ads-click":this.clickListener.bind(this),"ads-first-quartile":this.firstQuartileListener.bind(this),"ads-midpoint":this.secondQuartileListener.bind(this),"ads-third-quartile":this.thirdQuartileListener.bind(this)},this.player&&Object.keys(this.references).forEach(function(t){this.player.on(t,this.references[t])}.bind(this))},startJoinListener:function(t){this.plugin._adapter&&this.plugin._adapter.firePause(),this.fireStart(),this.fireJoin()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},skippedListener:function(t){this.fireSkip(),this.plugin._adapter&&this.plugin._adapter.fireResume()},adEndedListener:function(t){var e=this.plugin.requestBuilder.lastSent.adPosition===r.Constants.AdPosition.Preroll?0:this.plugin._adapter.lastPlayhead;this.fireStop({playhead:e,adPlayhead:this.getDuration()})},errorListener:function(t){if(this.player.ima3)if(t.getError&&t.getError()){var e=t.getError();this.fireError(e.getCode(),e.getMessage())}else this.fireError()},clickListener:function(t){if(this.player.ima3){var e=null;this.player.ima3.currentAd&&this.player.ima3.currentAd.g&&(e=this.player.ima3.currentAd.g.clickThroughUrl),this.fireClick(e)}},firstQuartileListener:function(t){this.fireQuartile(1)},secondQuartileListener:function(t){this.fireQuartile(2)},thirdQuartileListener:function(t){this.fireQuartile(3)},podEndListener:function(t){this.fireBreakStop()},unregisterListeners:function(){this.monitor&&this.monitor.stop(),this.player&&this.references&&(Object.keys(this.references).forEach(function(t){this.player.off(t,this.references[t])}).bind(this),this.references={})},adPlayerErrorListener:function(t){var e=t.data.AdError;0<=[1012,1005,301,402,302].indexOf(e.getErrorCode())?this.fireManifest(r.Constants.ManifestError.NO_RESPONSE,e.getMessage()):0<=[1007,1009,303].indexOf(e.getErrorCode())?this.fireManifest(r.Constants.ManifestError.EMPTY,e.getMessage()):0<=[403,100,503,101,102].indexOf(e.getErrorCode())?this.fireManifest(r.Constants.ManifestError.WRONG,e.getMessage()):this.fireError(e.getErrorCode(),e.getMessage())}},{isUsed:function(t){return t.player.ads&&"undefined"!=typeof google}});e.exports=i},{youboralib:359}],290:[function(t,e,n){var i=t("youboralib"),r=i.Adapter.extend({getVersion:function(){var t="unknown";return this.player.FreeWheelPlugin.getVersion?t="bcove-fw "+this.player.FreeWheelPlugin.getVersion():this.player.FreeWheelPlugin.VERSION&&(t="bcove-ssai "+this.player.FreeWheelPlugin.VERSION),t},getDuration:function(){var t=null;if(this.player.ads&&this.player.ads.ad&&this.player.ads.ad.duration)t=this.player.ads.ad.duration;else{var e=this.plugin.player;if(this.player.FreeWheelPlugin){var n=this.player.FreeWheelPlugin.tech;this.player.FreeWheelPlugin[n].adPlayer&&(e=this.player.FreeWheelPlugin[n].adPlayer)}e&&e.duration&&(t=e.duration())}return t},getPosition:function(){var t=i.Constants.AdPosition.Midroll;if(this.player.ads&&this.player.ads.ad)switch(this.player.ads.ad.type){case"PREROLL":t=i.Constants.AdPosition.Preroll;break;case"MIDROLL":t=i.Constants.AdPosition.Midroll;break;case"POSTROLL":t=i.Constants.AdPosition.Postroll}else this.plugin._adapter.flags.isJoined?this.plugin._adapter.getPlayhead()>=this.plugin._adapter.getDuration()&&(t=i.Constants.AdPosition.Postroll):t=i.Constants.AdPosition.Preroll;return t},getResource:function(){var t=null;if(this.slot){var e=this.slot.getAdInstances();if(e){var n=(this.plugin.requestBuilder.lastSent.adNumber||1)-1;if(e[n]&&e[n].getActiveCreativeRendition){var r=e[n].getActiveCreativeRendition();if(r&&r.getPrimaryCreativeRenditionAsset){var i=r.getPrimaryCreativeRenditionAsset();i&&i.getUrl&&i.getUrl()&&(t=i.getUrl())}r&&r.getWrapperUrl&&!t&&(t=r.getWrapperUrl())}}}return t||"unknown"},getTitle:function(){var t=null;return this.player.FreeWheelPlugin.adsManager&&this.player.FreeWheelPlugin.adsManager.getCurrentAd()&&this.player.FreeWheelPlugin.adsManager.getCurrentAd().getTitle()?t=this.player.FreeWheelPlugin.adsManager.getCurrentAd().getTitle():this.titles&&(t=this.titles[(this.plugin.requestBuilder.lastSent.adNumber||1)-1]._adId),t},getPlayhead:function(){var t=this.plugin.getAdapter().player;return this.player.FreeWheelPlugin.adPlayer&&(t=this.player.FreeWheelPlugin.adPlayer),t.currentTime()},getGivenBreaks:function(){var t=this.player.FreeWheelPlugin.tech,e=this.player.FreeWheelPlugin[t]._adContext._adResponse.getTemporalSlots(),n=0;for(var r in e){var i=e[r];if(0<i.getAdCount()){var o=i.getAdInstances();for(var s in o)if("video"===o[s]._creativeRenditions[0]._baseUnit){n++;break}}}return n},getBreaksTime:function(){var t=this.player.FreeWheelPlugin[this.player.FreeWheelPlugin.tech]._adContext._adResponse.getTemporalSlots(),e=[];for(var n in t){var r=t[n];if(0<r.getAdCount()){var i=r.getAdInstances();for(var o in i)if("video"===i[o]._creativeRenditions[0]._baseUnit){this.plugin.getDuration()&&r.getTimePosition()>this.plugin.getDuration()?e.push(this.plugin.getDuration()):e.push(r.getTimePosition());break}}}return e.sort()},getGivenAds:function(){var t=this.player.FreeWheelPlugin.tech;return this.player.FreeWheelPlugin[t]._currentSlot.getAdCount()},getAudioEnabled:function(){return!this.player.muted()&&!!this.player.volume()},getIsSkippable:function(){return!1},getIsFullscreen:function(){var t=null;if(this.plugin.deviceDetector.isIphone())t=!this.plugin.deviceDetector.isInBackground;else{var e,n=this.player.FreeWheelPlugin.tech;t=!!(e=this.player.FreeWheelPlugin[n]._video)&&(window.innerHeight<=e.clientHeight+30&&window.innerWidth<=e.clientWidth+30)}return t},getIsVisible:function(){var t=null;if(this.plugin.deviceDetector.isIphone())t=!this.plugin.deviceDetector.isInBackground;else{if(!this.contentPlayer){var e=this.player.FreeWheelPlugin.tech;for(var n in this.player.FreeWheelPlugin[e]){var r=this.player.FreeWheelPlugin[e][n];if(r.videoHeight&&r.clientHeight){this.contentPlayer=r;break}}}t=i.Util.calculateAdViewability(this.contentPlayer)}return t},getCreativeId:function(){var t=null;return this.titles&&(t=this.titles[(this.plugin.requestBuilder.lastSent.adNumber||1)-1]._creativeId),t},registerListeners:function(){if(this.monitorPlayhead(!0,!1),this.references={"ads-ad-started":this.startJoinListener.bind(this),"ads-pause":this.pausedListener.bind(this),"ads-play":this.resumedListener.bind(this),"ads-ad-ended":this.adEndedListener.bind(this),"ads-pod-ended":this.podEndListener.bind(this),"ads-first-quartile":this.firstQuartileListener.bind(this),"ads-midpoint":this.secondQuartileListener.bind(this),"ads-third-quartile":this.thirdQuartileListener.bind(this)},"undefined"!=typeof tv){var e=this.player.FreeWheelPlugin[this.player.FreeWheelPlugin.tech]._adContext;for(var t in this.events=tv.freewheel.SDK,this.fwreferences={},this.fwreferences[this.events.EVENT_AD]=this.logListener.bind(this),this.fwreferences[this.events.EVENT_SLOT_STARTED]=this.slotListener.bind(this),this.fwreferences[this.events.EVENT_ERROR]=this.errorFwListener.bind(this),this.manifestNoResponse=[this.events.ERROR_SECURITY,this.events.ERROR_TIMEOUT],this.manifestNoResponse)this.fwreferences[t]=this.noResponseManifestListener.bind(this);for(var n in this.manifestEmpty=[this.events.ERROR_NO_AD_AVAILABLE,this.events.ERROR_VAST_NO_AD],this.manifestEmpty)this.fwreferences[n]=this.manifestEmptyListener.bind(this);for(var r in this.manifestWrong=[this.events.ERROR_VAST_VERSION_NOT_SUPPORTED,this.events.ERROR_VAST_WRAPPER_LIMIT_REACH,this.events.ERROR_VAST_XML_PARSING,this.events.ERROR_PARSE],this.manifestWrong)this.fwreferences[r]=this.manifestWrongListener.bind(this);this.player&&Object.keys(this.fwreferences).forEach(function(t){e.addEventListener(t,this.fwreferences[t])}.bind(this))}this.player&&Object.keys(this.references).forEach(function(t){this.player.on(t,this.references[t])}.bind(this))},logListener:function(t){if(t.errorCode||t.errorInfo||t.errorModule)this.errorFwListener(t);else switch(t.subType){case this.events.EVENT_AD_SKIPPED:this.skippedListener(t);break;case this.events.EVENT_SLOT_STARTED:this.slotListener(t);break;case this.events.EVENT_AD_CLICK:this.clickFwListener(t)}},skippedListener:function(t){this.fireSkip(),this.plugin._adapter&&this.plugin._adapter.fireResume()},noResponseManifestListener:function(t){this.fireManifest(i.Constants.ManifestError.NO_RESPONSE,"No response")},manifestEmptyListener:function(t){this.fireManifest(i.Constants.ManifestError.EMPTY,"Empty manifest")},manifestWrongListener:function(t){this.fireManifest(i.Constants.ManifestError.WRONG,"Wrong manifest format")},slotListener:function(t){this.slot=t.slot,t&&t.slot&&t.slot.getAdInstances&&(this.titles=t.slot.getAdInstances())},startJoinListener:function(t){this.plugin._adapter&&this.plugin._adapter.firePause(),this.fireStart(),this.fireJoin()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},adEndedListener:function(t){var e=this.plugin.requestBuilder.lastSent.adPosition===i.Constants.AdPosition.Preroll?0:this.plugin._adapter.lastPlayhead;this.fireStop({playhead:e,adPlayhead:this.getDuration()})},errorFwListener:function(t){this.fireError(t.errorCode||t.subType,t.errorInfo),this.fireStop()},clickFwListener:function(t){var e=t.adInstance.getEventCallbackUrls(this.events.EVENT_AD_CLICK,this.events.EVENT_TYPE_CLICK)[0];this.fireClick(e)},firstQuartileListener:function(t){this.fireQuartile(1)},secondQuartileListener:function(t){this.fireQuartile(2)},thirdQuartileListener:function(t){this.fireQuartile(3)},podEndListener:function(t){this.fireBreakStop()},unregisterListeners:function(){this.monitor&&this.monitor.stop(),this.player&&this.references&&(Object.keys(this.references).forEach(function(t){this.player.off(t,this.references[t])}).bind(this),this.references={})}},{isUsed:function(t){return this.player.ads&&this.player.FreeWheelPlugin}});e.exports=r},{youboralib:359}],288:[function(t,e,n){e.exports={name:"videojs",type:"adapter",tech:"js",author:"Jordi Aguilar",version:"6.5.10",built:"2019-11-12",repo:"https://bitbucket.org/npaw/videojs-adapter-js.git",libVersion:"^6.5.19",features:{buffer:"monitor",seek:"native",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getPlayrate","getDuration","getBitrate","getRendition","getTitle","getIsLive","getResource","getPlayerVersion"]},ads:[{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getDuration","getTitle","getResource","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getIsSkippable","getIsFullscreen","getCreativeId"],filename:"bcove-freewheel.js"},{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getDuration","getBitrate","getTitle","getResource","getPlayerVersion","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getIsSkippable","getIsFullscreen","getCreativeId"],filename:"bcove-ima.js"},{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!1,resume:!1,getters:[],filename:"generic.js"},{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getDuration","getTitle","getResource","getPlayerVersion","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getIsSkippable","getIsFullscreen"],filename:"ima.js"},{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getDuration","getResource","getPosition"],filename:"onceux.js"}]}},{}],287:[function(t,e,n){var r=t("youboralib"),i=t("../manifest.json");r.adapters.Ima=r.Adapter.extend({getVersion:function(){return i.version+"-"+i.name+"-"+i.tech},getPlayhead:function(){return this.flags.isJoined?this.isDAI?this.playhead:this.getDuration()-this.player.getRemainingTime():0},getDuration:function(){return this.isDAI?this.duration:(this.player.getCurrentAd&&this.player.getCurrentAd()&&(this.lastDuration=this.player.getCurrentAd().getDuration()),this.lastDuration)},getRendition:function(){return this.isDAI?this.width&&this.height?this.width+"x"+this.height:null:this.player.getCurrentAd().getVastMediaWidth().toString()+"x"+this.player.getCurrentAd().getVastMediaHeight().toString()},getTitle:function(){return this.isDAI?this.title:this.player.getCurrentAd().getTitle()},getTitle2:function(){return this.isDAI?this.advertiser:this.player.getCurrentAd().getAdvertiserName()},getResource:function(){return this.isDAI?null:this.player.getCurrentAd().getMediaUrl()},getPlayerVersion:function(){return google.ima.VERSION},getPlayerName:function(){return"IMA"},getGivenBreaks:function(){return this.player.getCuePoints?this.player.getCuePoints().length:null},getBreaksTime:function(){if(this.player.getCuePoints){var n=this.player.getCuePoints();return n.forEach(function(t,e){-1!==n[e]&&null!==n[e]&&void 0!==n[e]||(n[e]=this.plugin._adapter.getDuration())}.bind(this)),n}},getGivenAds:function(){return this.totalAds},getAudioEnabled:function(){return!this.player.getVolume||0!==this.player.getVolume()},getIsSkippable:function(){return!!this.player.getCurrentAd&&this.player.getCurrentAd().g.skippable},getIsFullscreen:function(){if(!this.contentPlayer)for(var t in this.player){var e=this.player[t];if(e&&e.videoHeight&&e.clientHeight){this.contentPlayer=e;break}}return!!(this.contentPlayer&&this.contentPlayer.clientWidth&&this.contentPlayer.clientHeight)&&(window.innerHeight<=this.contentPlayer.clientHeight+30&&window.innerWidth<=this.contentPlayer.clientWidth+30)},getIsVisible:function(){if(!this.contentPlayer)for(var t in this.player){var e=this.player[t];if(e&&e.videoHeight&&e.clientHeight){this.contentPlayer=e;break}}return r.Util.calculateAdViewability(this.contentPlayer)},getPosition:function(){return this.plugin.getAdapter()&&!this.plugin.getAdapter().flags.isJoined?r.Constants.AdPosition.Preroll:this.isDAI&&this.plugin.getAdapter()&&this.plugin.getAdapter().getIsLive()?r.Constants.AdPosition.Midroll:this.adPosition||r.Constants.AdPosition.Midroll},getCreativeId:function(){return this.player.getCurrentAd?this.player.getCurrentAd().g.creativeId:null},registerListeners:function(){if(this.references=[],google.ima.AdEvent){this.monitorPlayhead(!0,!1);var t=google.ima.AdEvent.Type;r.Util.logAllEvents(this.player.addEventListener,[null,t.LOADED,t.CONTENT_PAUSE_REQUESTED]),this.references[t.LOADED]=this.readyListener.bind(this),this.references[t.CONTENT_PAUSE_REQUESTED]=this.playListener.bind(this),this.references[t.LOADED]=this.playListener.bind(this),this.references[t.PAUSED]=this.pauseListener.bind(this),this.references[t.STARTED]=this.playingListener.bind(this),this.references[t.RESUMED]=this.playingListener.bind(this),this.references[google.ima.AdErrorEvent.Type.AD_ERROR]=this.errorListener.bind(this),this.references[t.COMPLETE]=this.endedListener.bind(this),this.references[t.CONTENT_RESUME_REQUESTED]=this.endedListener.bind(this),this.references[t.SKIPPED]=this.skippedListener.bind(this),this.references[t.CLICK]=this.clickListener.bind(this),this.references[t.ALL_ADS_COMPLETED]=this.endedViewListener.bind(this),this.references[t.LOG]=this.logListener.bind(this),this.references[t.FIRST_QUARTILE]=this.firstQuartileListener.bind(this),this.references[t.MIDPOINT]=this.secondQuartileListener.bind(this),this.references[t.THIRD_QUARTILE]=this.thirdQuartileListener.bind(this),this.references[t.CONTENT_RESUME_REQUESTED]=this.breakEndListener.bind(this)}if(google.ima.dai){var e=google.ima.dai.api.StreamEvent.Type;this.references[e.SKIPPED]=this.skippedL.bind(this),this.references[e.ERROR]=this.errorDAIListener.bind(this),this.references[e.AD_BREAK_STARTED]=this.startDAIListener.bind(this),this.references[e.AD_BREAK_ENDED]=this.stopDAIListener.bind(this),this.references[e.AD_PROGRESS]=this.progressDAIListener.bind(this),this.references[e.CLICK]=this.clickDAIListener.bind(this),this.references[e.STARTED]=this.joinDAIListener.bind(this),this.references[e.FIRST_QUARTILE]=this.firstQuartileListener.bind(this),this.references[e.MIDPOINT]=this.secondQuartileListener.bind(this),this.references[e.THIRD_QUARTILE]=this.thirdQuartileListener.bind(this)}for(var n in this.references)this.player.addEventListener(n,this.references[n])},unregisterListeners:function(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var t in this.references)this.player.removeEventListener(t,this.references[t]);this.references=[]}},skippedL:function(){this.firstQuartileTriggered=!1,this.secondQuartileTriggered=!1,this.thirdQuartileTriggered=!1,this.fireSkip()},errorDAIListener:function(t){this.fireError(),this.firstQuartileTriggered=!1,this.secondQuartileTriggered=!1,this.thirdQuartileTriggered=!1,this.fireStop()},startDAIListener:function(t){this.isDAI=!0,this.playhead=0,this.adPosition=this.getAdPosition(),this.duration=null,this.plugin.fireInit(),this.fireStart()},progressDAIListener:function(t){t.getStreamData&&t.getStreamData()?this.playhead=t.getStreamData().adProgressData.currentTime:t.getAdData&&t.getAdData()&&(this.playhead=t.getAdData().currentTime),this.fireJoin()},clickDAIListener:function(t){this.fireClick()},stopDAIListener:function(t){this.firstQuartileTriggered=!1,this.secondQuartileTriggered=!1,this.thirdQuartileTriggered=!1,this.fireStop({adPlayhead:this.duration}),this.plugin.getAdapter()&&this.plugin.getAdapter().fireResume(),this.fireBreakStop()},joinDAIListener:function(t){var e=t.getAd();e&&(this.duration=e.getDuration(),this.title=e.getTitle(),this.width=e.getVastMediaWidth(),this.height=e.getVastMediaHeight(),this.advertiser=e.getAdvertiserName()),this.plugin.getAdapter()&&this.plugin.getAdapter().firePause(),this.fireStart(),this.fireJoin()},logListener:function(t){if(t.getAdData()&&t.getAdData().adError){var e=t.getAdData().adError;this.fireError(e.getErrorCode(),e.getMessage())}},playListener:function(t){this.isDAI=!1,this.adPosition=this.getAdPosition();var e=t.getAdData();this.totalAds=e&&e.adPodInfo?e.adPodInfo.totalAds:null,this.plugin.fireInit(),this.plugin.getAdapter()&&this.plugin.getAdapter().firePause(),this.fireStart({adPlayhead:"0"})},pauseListener:function(t){this.firePause()},playingListener:function(t){this.fireResume(),this.fireSeekEnd(),this.fireBufferEnd(),this.fireJoin({adPlayhead:"0"})},errorListener:function(t){this.fireError(),this.firstQuartileTriggered=!1,this.secondQuartileTriggered=!1,this.thirdQuartileTriggered=!1,this.fireStop()},firstQuartileListener:function(t){this.firstQuartileTriggered||(this.firstQuartileTriggered=!0,this.fireQuartile(1))},secondQuartileListener:function(t){this.secondQuartileTriggered||(this.secondQuartileTriggered=!0,this.fireQuartile(2))},thirdQuartileListener:function(t){this.thirdQuartileTriggered||(this.thirdQuartileTriggered=!0,this.fireQuartile(3))},endedListener:function(t){this.firstQuartileTriggered=!1,this.secondQuartileTriggered=!1,this.thirdQuartileTriggered=!1,this.fireStop({adPlayhead:this.lastDuration})},skippedListener:function(t){this.fireSkip({adPlayhead:this.getPlayhead()})},clickListener:function(t){var e=this.player.getCurrentAd().g.clickThroughUrl,n=(new Date).getTime();this.lastUrl===e&&n<(this.lastTime||0)+2e3||(this.lastUrl=e,this.lastTime=n,this.fireClick(e))},endedViewListener:function(t){this.getPosition()===r.Constants.AdPosition.Postroll&&this.plugin.fireStop()},readyListener:function(t){this.totalAds=t.getAdData().adPodInfo.totalAds},breakEndListener:function(t){this.fireBreakStop()},getAdPosition:function(){if(!this.isDAI){switch(this.player.getCurrentAd().getAdPodInfo().getTimeOffset()){case 0:return r.Constants.AdPosition.Preroll;case-1:return r.Constants.AdPosition.Postroll}return r.Constants.AdPosition.Mdiroll}if(this.plugin.getAdapter())return!this.plugin.getAdapter().flags.isJoined||this.plugin.getAdapter().getPlayhead()<1?r.Constants.AdPosition.Preroll:r.Constants.AdPosition.Midroll}}),e.exports=r.adapters.Ima},{"../manifest.json":286,youboralib:359}],359:[function(t,e,n){var r=i,i={noConflict:function(){return i=r,this}};i.VERSION=t("./version"),i.polyfills=t("./polyfills"),i.polyfills(),i.Object=t("./object"),i.Emitter=t("./emitter"),i.Log=t("./log"),i.Log.loadLevelFromUrl(),i.Util=t("./util"),i.HybridNetwork=t("./monitors/hybridnetwork"),i.Chrono=t("./chrono"),i.Timer=t("./timer"),i.Constants=t("./constants"),i.Request=t("./comm/request"),i.Communication=t("./comm/communication"),i.Transform=t("./comm/transform/transform"),i.ViewTransform=t("./comm/transform/view"),i.ResourceTransform=t("./comm/transform/resource"),i.CdnParser=t("./comm/transform/resourceparsers/cdnparser"),i.HlsParser=t("./comm/transform/resourceparsers/hlsparser"),i.OfflineParser=t("./comm/transform/offline"),i.LocationheaderParser=t("./comm/transform/resourceparsers/locationheaderparser"),i.Options=t("./plugin/options"),i.Plugin=t("./plugin/plugin"),i.Storage=t("./plugin/storage"),i.RequestBuilder=t("./plugin/requestbuilder"),i.PlayheadMonitor=t("./adapter/playheadmonitor"),i.Adapter=t("./adapter/adapter"),i.adapters={},i.Infinity=t("./infinity/infinity"),i.BackgroundDetector=t("./detectors/backgroundDetector"),i.DeviceDetector=t("./detectors/deviceDetector"),i.UUIDGenerator=t("./deviceUUID/hashgenerator"),i.registerAdapter=function(t,e){this.adapters[t]=e}.bind(i),i.unregisterAdapter=function(t){this.adapters[t]=null}.bind(i),e.exports=i},{"./adapter/adapter":300,"./adapter/playheadmonitor":303,"./chrono":304,"./comm/communication":305,"./comm/request":306,"./comm/transform/offline":308,"./comm/transform/resource":309,"./comm/transform/resourceparsers/cdnparser":310,"./comm/transform/resourceparsers/hlsparser":319,"./comm/transform/resourceparsers/locationheaderparser":320,"./comm/transform/transform":321,"./comm/transform/view":322,"./constants":324,"./detectors/backgroundDetector":325,"./detectors/deviceDetector":327,"./deviceUUID/hashgenerator":330,"./emitter":332,"./infinity/infinity":333,"./log":334,"./monitors/hybridnetwork":338,"./object":339,"./plugin/options":342,"./plugin/plugin":352,"./plugin/requestbuilder":353,"./plugin/storage":354,"./polyfills":355,"./timer":356,"./util":357,"./version":358}],355:[function(t,e,n){e.exports=function(){Function.prototype.bind=Function.prototype.bind||function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function e(){}function n(){return o.apply(this instanceof e?this:t||window,i.concat(r.call(arguments)))}var r=Array.prototype.slice,i=r.call(arguments,1),o=this;return e.prototype=this.prototype,n.prototype=new e,n},Array.prototype.forEach=Array.prototype.forEach||function(t,e){if("function"!=typeof t)throw new TypeError(t+" is not a function!");for(var n=this.length,r=0;r<n;r++)t.call(e,this[r],r,this)}}},{}],352:[function(t,e,n){var r=t("../emitter"),i=t("../timer"),o=t("../chrono"),f=t("../constants"),s=t("../util"),d=t("../comm/request"),a=t("../comm/communication"),u=t("../comm/transform/flow"),c=t("../comm/transform/view"),l=t("../comm/transform/resource"),h=t("../comm/transform/offline"),p=t("./options"),g=t("./storage"),v=t("./offlineStorage"),m=t("./requestbuilder"),y=t("../infinity/infinity"),b=t("../monitors/hybridnetwork"),T=t("../detectors/backgroundDetector"),S=t("../detectors/deviceDetector"),E=t("../detectors/blockDetector"),_=t("../detectors/resizeScrollDetector"),A=t("../deviceUUID/hashgenerator"),w=r.extend({constructor:function(t,e){this.storage=new g,this.uuidGenerator=new A(this),this.infinity=new y(this),this.isInitiated=!1,this.isAdsManifestSent=!1,this.playedPostrolls=0,this.isBreakStarted=!1,this.initChrono=new o,this.options=new p(t),this.storage=new g(null,this.options.disableCookies),this.offlineStorage=new v,this._adapter=null,this._adsAdapter=null,this._ping=new i(this._sendPing.bind(this),5e3),this._beat=new i(this._sendBeat.bind(this),3e4),this._refreshData=new i(this._checkOldData.bind(this),36e5),this._refreshData.start(),this.sessionExpire=1e3*Number(this.storage.getLocal("sessionExpire"))||3e5,this.requestBuilder=new m(this),this.resourceTransform=new l(this),this.lastEventTime=null,e&&this.setAdapter(e),this.restartViewTransform(),this._initInfinity(),this.hybridNetwork=new b,this.deviceDetector=new S,this.backgroundDetector=new T(this),this.resizeScrollDetector=new _(this),this.options["background.enabled"]&&this.backgroundDetector.startDetection(),this.options["ad.blockDetection"]&&(this.blockDetector=new E(this))},_checkOldData:function(){this._adapter&&this._adapter.flags.isStarted||this.infinity.infinityStarted&&!this.infinity.infinityStopped||this.restartViewTransform()},restartViewTransform:function(t){this.viewTransform=new c(this),this.viewTransform.on(c.Event.DONE,this._receiveData.bind(this)),t?this.viewTransform.setData(t):this.getIsDataExpired()||this.storage.getLocal("accCode")!==this.options.accountCode&&this.storage.getSession("accCode")!==this.options.accountCode?(this.storage.removeStorages("data"),this.storage.removeStorages("session"),this.storage.removeLocal("infinityStarted"),this.storage.removeLocal("infinityStopped"),this.viewTransform.init()):this.viewTransform.setData(this.getStoredData())},_receiveData:function(t){this._ping.interval=1e3*t.target.response.pingTime,this._beat.interval=1e3*t.target.response.beatTime,this.sessionExpire=1e3*t.target.response.sessionExpire,this.storage.setStorages("data",t.target.response.msg),this.storage.setStorages("dataTime",(new Date).getTime()),this.storage.setStorages("accCode",this.options.accountCode),this.getIsSessionExpired()?(this.viewTransform.setSessionId(this.viewTransform.response.code),this.storage.setStorages("session",this.viewTransform.response.code)):this.viewTransform.setSessionId(this.getSessionId())},_reset:function(){this._stopPings(),this.resourceTransform=new l(this),this._adapter&&this._adapter.flags.reset(),this.isInitiated=!1,this.isStarted=!1,this.startDelayed=!1,this.isAdsManifestSent=!1,this.initChrono.reset(),this._totalPrerollsTime=0,this.requestBuilder.lastSent.breakNumber=0,this.requestBuilder.lastSent.adNumber=0,this._savedAdManifest=null,this._savedAdError=null,this.playedPostrolls=0,this.isBreakStarted=!1},_send:function(t,e,n,r,i,o,s){var a=(new Date).getTime();this.options.preventZombieViews&&this.lastEventTime&&a>this.lastEventTime+6e5&&this.viewTransform.nextView(),this.lastEventTime=e===f.Service.STOP?null:a,n=this.requestBuilder.buildParams(n,e),this.getIsLive()&&(n.mediaDuration=void 0,n.playhead=void 0);var u={params:n,plugin:this,adapter:this.getAdapter(),adsAdapter:this.getAdsAdapter()};if(this.emit(t,u),this._comm&&(null!==n||void 0!==i)&&this.options.enabled){this.lastServeiceSent=e;var c={};void 0!==i&&"GET"!==i&&(c.method=i);var l=new d(null,e,n,c);r&&l.setBody(r),this._comm.sendRequest(l,o,s)}},_initComm:function(){this.resourceTransform.init(this.getResource()),this._comm=new a,this._comm.addTransform(new u),this._comm.addTransform(this.viewTransform),this.options&&this.options.offline?this._comm.addTransform(new h(this)):this._comm.addTransform(this.resourceTransform)},getComm:function(){return this._comm},setOptions:function(t){t&&(this.options.setOptions(t),"boolean"==typeof t["background.enabled"]&&(t["background.enabled"]?this.backgroundDetector.startDetection():this.backgroundDetector.stopDetection()))},disable:function(){this.setOptions({enabled:!1})},enable:function(){this.setOptions({enabled:!0})}},{Event:f.WillSendEvent});s.assign(w.prototype,t("./plugin+content")),s.assign(w.prototype,t("./plugin+getters")),s.assign(w.prototype,t("./plugin+content+getters")),s.assign(w.prototype,t("./plugin+ads")),s.assign(w.prototype,t("./plugin+ads+getters")),s.assign(w.prototype,t("./plugin+pings")),s.assign(w.prototype,t("./plugin+fire")),s.assign(w.prototype,t("./plugin+infinity")),s.assign(w.prototype,t("./plugin+infinity+getters")),e.exports=w},{"../chrono":304,"../comm/communication":305,"../comm/request":306,"../comm/transform/flow":307,"../comm/transform/offline":308,"../comm/transform/resource":309,"../comm/transform/view":322,"../constants":324,"../detectors/backgroundDetector":325,"../detectors/blockDetector":326,"../detectors/deviceDetector":327,"../detectors/resizeScrollDetector":328,"../deviceUUID/hashgenerator":330,"../emitter":332,"../infinity/infinity":333,"../monitors/hybridnetwork":338,"../timer":356,"../util":357,"./offlineStorage":341,"./options":342,"./plugin+ads":344,"./plugin+ads+getters":343,"./plugin+content":346,"./plugin+content+getters":345,"./plugin+fire":347,"./plugin+getters":348,"./plugin+infinity":350,"./plugin+infinity+getters":349,"./plugin+pings":351,"./requestbuilder":353,"./storage":354}],353:[function(t,e,n){var r=t("../object"),a=t("../log"),i=["accountCode","username","anonymousUser","rendition","deviceInfo","player","title","title2","live","mediaDuration","mediaResource","parsedResource","transactionCode","properties","cdn","playerVersion","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","param11","param12","param13","param14","param15","param16","param17","param18","param19","param20","obfuscateIp","p2pEnabled","pluginVersion","pluginInfo","isp","connectionType","ip","referer","userType","streamingProtocol","householdId","adsBlocked","adsExpected","deviceUUID","smartswitchConfigCode","smartswitchGroupCode","smartswitchContractCode","libVersion","nodeHost","nodeType","appName","appReleaseVersion","package","saga","tvshow","season","titleEpisode","channel","imdbID","gracenoteID","contentType","genre","contentLanguage","subtitles","cost","price","playbackType","email","drm","videoCodec","audioCodec","codecSettings","codecProfile","containerFormat","contentId","contractedResolution"],o=["playhead","adTitle","adPosition","adDuration","adCampaign","adCreativeId","adProvider","adResource","adPlayerVersion","adProperties","adAdapterVersion","extraparam1","extraparam2","extraparam3","extraparam4","extraparam5","extraparam6","extraparam7","extraparam8","extraparam9","extraparam10","fullscreen","audio","skippable"],u=r.extend({constructor:function(t){this._plugin=t,this._adNumber=0,this.lastSent={}},fetchParams:function(t,e,n){t=t||{},e=e||[];for(var r=0;r<e.length;r++){var i=e[r];if(!t[i]){var o=u.getters[i];if(this._plugin[o]){var s=this._plugin[o]();null===s||n&&this.lastSent[i]===s||(t[i]=s,this.lastSent[i]=s)}else a.warn("Trying to call undefined getter "+i+":"+o)}}return t},getGetters:function(){return u.getters},buildBody:function(t){return this.fetchParams(null,u.bodyParams[t],!1)},buildParams:function(t,e){return t=t||{},this.fetchParams(t,u.params[e],!1),this.fetchParams(t,u.differentParams[e],!0),t},getNewAdNumber:function(){var t=this.lastSent.adNumber;return t&&this.lastSent.adPosition===this._plugin.getAdPosition()?t+=1:t=1,this.lastSent.adNumber=t},getChangedEntities:function(){return this.fetchParams({},u.differentParams.entities,!0)}},{params:{"/data":["system","pluginVersion","requestNumber","username"],"/init":i,"/start":i,"/joinTime":["joinDuration","playhead","mediaDuration"],"/pause":["playhead"],"/resume":["pauseDuration","playhead"],"/seek":["seekDuration","playhead"],"/bufferUnderrun":["bufferDuration","playhead"],"/error":["player"].concat(i),"/stop":["bitrate","playhead","pauseDuration"],"/infinity/video/event":[],"/adInit":o,"/adStart":o,"/adJoin":["playhead","adPosition","adJoinDuration","adPlayhead"],"/adPause":["playhead","adPosition","adPlayhead"],"/adResume":["playhead","adPosition","adPlayhead","adPauseDuration"],"/adBufferUnderrun":["playhead","adPosition","adPlayhead","adBufferDuration"],"/adStop":["playhead","adPosition","adPlayhead","adBitrate","adTotalDuration","pauseDuration","adViewedDuration","adViewability"],"/adClick":["playhead","adPosition","adPlayhead"],"/adError":o,"/adManifest":["givenBreaks","expectedBreaks","expectedPattern","breaksTime"],"/adBreakStart":["breakPosition","givenAds","expectedAds"],"/adBreakStop":[],"/adQuartile":["breakPosition","adPosition","adViewedDuration","adViewability"],"/adBlocked":o,"/ping":["droppedFrames","playrate","cdnDownloadedTraffic","p2pDownloadedTraffic","uploadTraffic","latency","packetLoss","packetSent","metrics"],"/infinity/session/start":["accountCode","username","anonymousUser","navContext","route","page","referer","referral","language","deviceInfo","adsBlocked","deviceUUID","libVersion","appName","appReleaseVersion"],"/infinity/session/stop":[],"/infinity/session/nav":["navContext","route","page"],"/infinity/session/beat":["sessionMetrics"],"/infinity/session/event":["accountCode","navContext"],"/offlineEvents":{}},bodyParams:{"/offlineEvents":["viewJson"]},differentParams:{entities:["rendition","title","title2","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","param11","param12","param13","param14","param15","param16","param17","param18","param19","param20","cdn","nodeHost","nodeType","nodeTypeString","subtitles","contentLanguage"]},getters:{requestNumber:"getRequestNumber",playhead:"getPlayhead",playrate:"getPlayrate",fps:"getFramesPerSecond",droppedFrames:"getDroppedFrames",mediaDuration:"getDuration",bitrate:"getBitrate",throughput:"getThroughput",rendition:"getRendition",title:"getTitle",title2:"getTitle2",live:"getIsLive",mediaResource:"getResource",parsedResource:"getParsedResource",transactionCode:"getTransactionCode",properties:"getMetadata",playerVersion:"getPlayerVersion",player:"getPlayerName",cdn:"getCdn",pluginVersion:"getPluginVersion",libVersion:"getLibVersion",userType:"getUserType",streamingProtocol:"getStreamingProtocol",obfuscateIp:"getObfuscateIp",householdId:"getHouseholdId",latency:"getLatency",packetLoss:"getPacketLoss",packetSent:"getPacketSent",metrics:"getVideoMetrics",param1:"getExtraparam1",param2:"getExtraparam2",param3:"getExtraparam3",param4:"getExtraparam4",param5:"getExtraparam5",param6:"getExtraparam6",param7:"getExtraparam7",param8:"getExtraparam8",param9:"getExtraparam9",param10:"getExtraparam10",param11:"getExtraparam11",param12:"getExtraparam12",param13:"getExtraparam13",param14:"getExtraparam14",param15:"getExtraparam15",param16:"getExtraparam16",param17:"getExtraparam17",param18:"getExtraparam18",param19:"getExtraparam19",param20:"getExtraparam20",extraparam1:"getAdExtraparam1",extraparam2:"getAdExtraparam2",extraparam3:"getAdExtraparam3",extraparam4:"getAdExtraparam4",extraparam5:"getAdExtraparam5",extraparam6:"getAdExtraparam6",extraparam7:"getAdExtraparam7",extraparam8:"getAdExtraparam8",extraparam9:"getAdExtraparam9",extraparam10:"getAdExtraparam10",adPosition:"getAdPosition",adPlayhead:"getAdPlayhead",adDuration:"getAdDuration",adCampaign:"getAdCampaign",adCreativeId:"getAdCreativeId",adBitrate:"getAdBitrate",adTitle:"getAdTitle",adResource:"getAdResource",adPlayerVersion:"getAdPlayerVersion",adProperties:"getAdMetadata",adAdapterVersion:"getAdAdapterVersion",givenBreaks:"getGivenBreaks",expectedBreaks:"getExpectedBreaks",expectedPattern:"getExpectedPattern",breaksTime:"getBreaksTime",breakPosition:"getAdPosition",givenAds:"getGivenAds",expectedAds:"getExpectedAds",adsExpected:"getAdsExpected",adViewedDuration:"getAdViewedDuration",adViewability:"getAdViewability",fullscreen:"getIsFullscreen",audio:"getAudioEnabled",skippable:"getIsSkippable",adProvider:"getAdProvider",pluginInfo:"getPluginInfo",isp:"getIsp",connectionType:"getConnectionType",ip:"getIp",deviceInfo:"getDeviceInfo",system:"getAccountCode",accountCode:"getAccountCode",username:"getUsername",anonymousUser:"getAnonymousUser",joinDuration:"getJoinDuration",bufferDuration:"getBufferDuration",seekDuration:"getSeekDuration",pauseDuration:"getPauseDuration",adJoinDuration:"getAdJoinDuration",adBufferDuration:"getAdBufferDuration",adPauseDuration:"getAdPauseDuration",adTotalDuration:"getAdTotalDuration",referer:"getReferer",referral:"getReferral",language:"getLanguage",nodeHost:"getNodeHost",nodeType:"getNodeType",nodeTypeString:"getNodeTypeString",route:"getReferer",navContext:"getContext",page:"getPageName",cdnDownloadedTraffic:"getCdnTraffic",p2pDownloadedTraffic:"getP2PTraffic",p2pEnabled:"getIsP2PEnabled",uploadTraffic:"getUploadTraffic",viewJson:"getOfflineView",deviceUUID:"getDeviceUUID",sessionMetrics:"getSessionMetrics",adsBlocked:"getIsBlocked",smartswitchConfigCode:"getSmartswitchConfigCode",smartswitchGroupCode:"getSmartswitchGroupCode",smartswitchContractCode:"getSmartswitchContractCode",appName:"getAppName",appReleaseVersion:"getAppReleaseVersion",package:"getPackage",saga:"getSaga",tvshow:"getTvShow",season:"getSeason",titleEpisode:"getEpisodeTitle",channel:"getChannel",drm:"getDRM",videoCodec:"getVideoCodec",audioCodec:"getAudioCodec",codecSettings:"getCodecSettings",codecProfile:"getCodecProfile",containerFormat:"getContainerFormat",contentId:"getID",imdbID:"getImdbId",gracenoteID:"getGracenoteID",contentType:"getType",genre:"getGenre",contentLanguage:"getVideoLanguage",subtitles:"getSubtitles",contractedResolution:"getContractedResolution",cost:"getCost",price:"getPrice",playbackType:"getPlaybackType",email:"getEmail"}});e.exports=u},{"../log":334,"../object":339}],351:[function(t,e,n){var r=t("../log"),i=t("../constants"),o={_startPings:function(){this._ping.isRunning||this._ping.start()},_stopPings:function(){this._ping.stop()},_sendPing:function(t){var e={diffTime:t,entities:this.requestBuilder.getChangedEntities()};this._adapter&&(e=this._adapter.flags.isPaused?this.requestBuilder.fetchParams(e,["pauseDuration"]):this.requestBuilder.fetchParams(e,["bitrate","throughput","fps"]),this._adapter.flags.isJoined&&(e=this.requestBuilder.fetchParams(e,["playhead"])),this._adapter.flags.isBuffering&&(e=this.requestBuilder.fetchParams(e,["bufferDuration"])),this._adapter.flags.isSeeking&&(e=this.requestBuilder.fetchParams(e,["seekDuration"])),this._adsAdapter&&!this.options["ad.ignore"]&&(this._adsAdapter.flags.isStarted&&(e=this.requestBuilder.fetchParams(e,["adPlayhead","adViewedDuration","adViewability"]),e=this._adsAdapter.flags.isPaused?this.requestBuilder.fetchParams(e,["adPauseDuration"]):this.requestBuilder.fetchParams(e,["adBitrate"])),this._adsAdapter.flags.isBuffering&&(e=this.requestBuilder.fetchParams(e,["adBufferDuration"])))),this._send(i.WillSendEvent.WILL_SEND_PING,i.Service.PING,e),this.startDelayed&&this._retryStart(),r.verbose(i.Service.PING)}};e.exports=o},{"../constants":324,"../log":334}],350:[function(t,e,n){var r=t("../constants"),i=t("../log"),o=t("../comm/request"),s=t("../infinity/infinity"),a={_initInfinity:function(){this.infinity.on(s.Event.NAV,this._navListener.bind(this)),this.infinity.on(s.Event.SESSION_START,this._sessionStartListener.bind(this)),this.infinity.on(s.Event.SESSION_STOP,this._sessionStopListener.bind(this)),this.infinity.on(s.Event.EVENT,this._eventListener.bind(this))},_sendInfinity:function(t,e,n){var r={params:n=this.requestBuilder.buildParams(n,e),plugin:this,adapter:this.getAdapter(),adsAdapter:this.getAdsAdapter()};this.emit(t,r),this.infinity._comm&&null!==n&&this.options.enabled&&(this.lastServeiceSent=e,this.infinity._comm.sendRequest(new o(null,e,n)))},_navListener:function(t){var e=t.data.params||{};this._sendInfinity(r.WillSendEvent.WILL_SEND_NAV,r.Service.NAV,e),this._beat.isRunning||this._beat.start(),i.notice(r.Service.NAV+" "+e.route)},_sessionStartListener:function(t){var e=t.data.params||{};this._sendInfinity(r.WillSendEvent.WILL_SEND_SESSION_START,r.Service.SESSION_START,e),this._beat.isRunning||this._beat.start(),i.notice(r.Service.SESSION_START+" "+e.route)},_sessionStopListener:function(t){var e=t.data.params||{};this._sendInfinity(r.WillSendEvent.WILL_SEND_SESSION_STOP,r.Service.SESSION_STOP,e),this._beat.isRunning&&this._beat.stop(),i.notice(r.Service.SESSION_STOP+" "+e.route)},_eventListener:function(t){var e=t.data.params||{};this._sendInfinity(r.WillSendEvent.WILL_SEND_EVENT,r.Service.EVENT,e),i.notice(r.Service.EVENT+" "+e.name)},_sendBeat:function(t){var e={diffTime:t};this._sendInfinity(r.WillSendEvent.WILL_SEND_BEAT,r.Service.BEAT,e),this.infinity&&this.infinity._setLastActive(),i.verbose(r.Service.BEAT)},getSessionMetrics:function(){var t=this.options["session.metrics"];for(var e in t)if("object"!=typeof t[e]||!t[e].value){var n={};n.value=t[e],t[e]=n}return t}};e.exports=a},{"../comm/request":306,"../constants":324,"../infinity/infinity":333,"../log":334}],349:[function(t,e,n){var r={getContext:function(){return this.options["session.context"]?this.storage.getSession("context"):"Default"},getSessionId:function(){return this.storage.getStorages("session")},getStoredData:function(){return this.storage.getStorages("data")},getDataTime:function(){return this.storage.getStorages("dataTime")},getLastActive:function(){return this.storage.getStorages("lastactive")},setStoredData:function(t){this.storage.setStorages("data",t)},setSessionId:function(t){this.storage.setStorages("session",t)},setDataTime:function(t){this.storage.setStorages("dataTime",t)},setLastActive:function(t){this.storage.setStorages("lastactive",t)},getPageName:function(){if("undefined"!=typeof document&&document.title)return document.title},getIsSessionExpired:function(){var t=(new Date).getTime();return!this.getSessionId()||this.infinity.getFirstActive()<t-this.sessionExpire},getIsDataExpired:function(){var t=(new Date).getTime();return!this.storage.isEnabled()||(!this.getStoredData()||this.infinity.getFirstActive()<t-this.sessionExpire)}};e.exports=r},{}],348:[function(t,e,n){var r=t("../util"),i=t("../version"),o={getHost:function(){var t=this.options.host;return this.viewTransform&&this.viewTransform.response&&this.viewTransform.response.host&&(t=this.viewTransform.response.host),r.addProtocol(r.stripProtocol(t),this.options["app.https"])},getUserType:function(){return this.options["user.type"]},isParseHls:function(){return this.options["parse.hls"]},isParseCdnNode:function(){return this.options["parse.cdnNode"]},isLocHeader:function(){return this.options["parse.locationHeader"]},isDash:function(){return this.options["parse.dash"]},getParseCdnNodeList:function(){return this.options["parse.cdnNode.list"]},getParseCdnNodeNameHeader:function(){return this.options["parse.cdnNameHeader"]},getObfuscateIp:function(){return this.options["user.obfuscateIp"]},getExtraparam1:function(){return this.options["content.customDimension.1"]},getExtraparam2:function(){return this.options["content.customDimension.2"]},getExtraparam3:function(){return this.options["content.customDimension.3"]},getExtraparam4:function(){return this.options["content.customDimension.4"]},getExtraparam5:function(){return this.options["content.customDimension.5"]},getExtraparam6:function(){return this.options["content.customDimension.6"]},getExtraparam7:function(){return this.options["content.customDimension.7"]},getExtraparam8:function(){return this.options["content.customDimension.8"]},getExtraparam9:function(){return this.options["content.customDimension.9"]},getExtraparam10:function(){return this.options["content.customDimension.10"]},getExtraparam11:function(){return this.options["content.customDimension.11"]},getExtraparam12:function(){return this.options["content.customDimension.12"]},getExtraparam13:function(){return this.options["content.customDimension.13"]},getExtraparam14:function(){return this.options["content.customDimension.14"]},getExtraparam15:function(){return this.options["content.customDimension.15"]},getExtraparam16:function(){return this.options["content.customDimension.16"]},getExtraparam17:function(){return this.options["content.customDimension.17"]},getExtraparam18:function(){return this.options["content.customDimension.18"]},getExtraparam19:function(){return this.options["content.customDimension.19"]},getExtraparam20:function(){return this.options["content.customDimension.20"]},getAdExtraparam1:function(){return this.options["ad.customDimension.1"]},getAdExtraparam2:function(){return this.options["ad.customDimension.2"]},getAdExtraparam3:function(){return this.options["ad.customDimension.3"]},getAdExtraparam4:function(){return this.options["ad.customDimension.4"]},getAdExtraparam5:function(){return this.options["ad.customDimension.5"]},getAdExtraparam6:function(){return this.options["ad.customDimension.6"]},getAdExtraparam7:function(){return this.options["ad.customDimension.7"]},getAdExtraparam8:function(){return this.options["ad.customDimension.8"]},getAdExtraparam9:function(){return this.options["ad.customDimension.9"]},getAdExtraparam10:function(){return this.options["ad.customDimension.10"]},getPluginInfo:function(){return{lib:i,adapter:this.getAdapterVersion(),adAdapter:this.getAdAdapterVersion()}},getIp:function(){return this.options["network.ip"]},getIsp:function(){return this.options["network.isp"]},getConnectionType:function(){return this.options["network.connectionType"]},getDeviceInfo:function(){var t={};return this.getDeviceCode()&&(t.deviceCode=this.getDeviceCode()),this.getModel()&&(t.model=this.getModel()),this.getBrand()&&(t.brand=this.getBrand()),this.getDeviceType()&&(t.deviceType=this.getDeviceType()),this.getDeviceName()&&(t.deviceName=this.getDeviceName()),this.getOsName()&&(t.osName=this.getOsName()),this.getOsVersion()&&(t.osVersion=this.getOsVersion()),this.getBrowserName()&&(t.browserName=this.getBrowserName()),this.getBrowserVersion()&&(t.browserVersion=this.getBrowserVersion()),this.getBrowserType()&&(t.browserType=this.getBrowserType()),this.getBrowserEngine()&&(t.browserEngine=this.getBrowserEngine()),t!=={}?t:null},getDeviceCode:function(){return this.options["device.code"]},getModel:function(){return this.options["device.model"]},getBrand:function(){return this.options["device.brand"]},getDeviceType:function(){return this.options["device.type"]},getDeviceName:function(){return this.options["device.name"]},getOsName:function(){return this.options["device.osName"]},getOsVersion:function(){return this.options["device.osVersion"]},getBrowserName:function(){return this.options["device.browserName"]},getBrowserVersion:function(){return this.options["device.browserVersion"]},getBrowserType:function(){return this.options["device.browserType"]},getBrowserEngine:function(){return this.options["device.browserEngine"]},getAccountCode:function(){return this.options.accountCode},getUsername:function(){return this.options["user.name"]},getAnonymousUser:function(){return this.options["user.anonymousId"]},getEmail:function(){return this.options["user.email"]},getReferer:function(){if(this.options.referer)return this.options.referer;var t="";return"undefined"!=typeof window&&window.location&&(t=window.location.href),t},getReferral:function(){return"undefined"!=typeof window&&window.document?window.document.referrer:null},getLanguage:function(){return"undefined"!=typeof navigator?navigator.language:null},getNodeHost:function(){return this.options["content.cdnNode"]||this.resourceTransform.getNodeHost()},getNodeType:function(){return this.options["content.cdnType"]||this.resourceTransform.getNodeType()},getNodeTypeString:function(){return this.resourceTransform.getNodeTypeString()},getRequestNumber:function(){return Math.random()},getOfflineView:function(){return this.offlineStorage.getView()},getDeviceUUID:function(){var t=null;return this.options["device.isAnonymous"]||(t=this.uuidGenerator.getKey()),t},getSmartswitchConfigCode:function(){return this.options["smartswitch.configCode"]},getSmartswitchGroupCode:function(){return this.options["smartswitch.groupCode"]},getSmartswitchContractCode:function(){return this.options["smartswitch.contractCode"]},getAppName:function(){return this.options["app.name"]},getAppReleaseVersion:function(){return this.options["app.releaseVersion"]},getIsBlocked:function(){return this.blockDetector?this.blockDetector.isBlocked:null}};e.exports=o},{"../util":357,"../version":358}],347:[function(t,e,n){var o=t("../log"),s=t("../util"),a=t("../constants"),r=t("../comm/transform/transform"),i={fireInit:function(t){this.isInitiated||this.getAdapter()&&(!this.getAdapter()||this.getAdapter().flags.isStarted)||(this.viewTransform.nextView(),this._initComm(),this._startPings(),this.initChrono.start(),this.isInitiated=!0,t=t||{},this._send(a.WillSendEvent.WILL_SEND_INIT,a.Service.INIT,t),this._adSavedError(),this._adSavedManifest(),o.notice(a.Service.INIT+" "+(t.title||t.mediaResource)))},fireError:function(t,e,n,r){this.isInitiated||this.getAdapter()&&this.getAdapter().flags.isStarted||this.viewTransform.nextView(),this._comm||this._initComm();var i=s.buildErrorParams(t,e,n,r);i.code&&delete i.code,this._send(a.WillSendEvent.WILL_SEND_ERROR,a.Service.ERROR,i),this._adSavedError(),this._adSavedManifest(),o.notice(a.Service.ERROR+" "+i.errorLevel+" "+i.errorCode),"fatal"===i.errorLevel&&this.fireStop()},fireFatalError:function(t,e,n,r){this.fireError(t,e,n,r),this.fireStop()},fireStop:function(t){(this.isInitiated||this.isStarted)&&(this._adapter&&(this._adapter.flags.isStopped=!0,this._adapter.monitor&&this._adapter.monitor.stop()),this._adsAdapter&&this.isBreakStarted&&this._adsAdapter.fireBreakStop(),t=t||{},this._send(a.WillSendEvent.WILL_SEND_STOP,a.Service.STOP,t),o.notice(a.Service.STOP+" at "+t.playhead+"s"),this._reset())},fireOfflineEvents:function(t){this.options&&!this.options.offline?this.isInitiated||this._adapter&&this._adapter.flags.isStarted||this._adsAdapter&&this._adsAdapter.flags.isStarted?o.error("Adapters have to be stopped"):(this._offlineParams=t,this.viewTransform.response.code&&this.viewTransform.response.host?this._generateAndSendOffline():(this.offlineReference=this._generateAndSendOffline.bind(this),this.viewTransform.on(r.Event.DONE,this.offlineReference))):o.error("To send offline events, offline option must be disabled")},_generateAndSendOffline:function(){var t=this._offlineParams;for(this._initComm();;){var e=this.requestBuilder.buildBody(a.Service.OFFLINE_EVENTS).viewJson;if(null===e[0])break;var n=this.viewTransform.nextView(),r=e[0].replace(/CODE_PLACEHOLDER/g,n.toString()).replace(/,"sessionId":"SESSION_PLACEHOLDER"/g,"").replace(/,"sessionRoot":"ROOT_PLACEHOLDER"/g,"").replace(/,"parentId":"PARENT_PLACEHOLDER"/g,"");this._send(a.WillSendEvent.WILL_SEND_OFFLINE_EVENTS,a.Service.OFFLINE_EVENTS,t,r,"POST",function(t,e){this.offlineStorage.removeView(e.offlineId)}.bind(this),{offlineId:e[1]})}this.offlineStorage.sent(),this._offlineParams=null}};e.exports=i},{"../comm/transform/transform":321,"../constants":324,"../log":334,"../util":357}],346:[function(t,e,n){var r=t("../log"),i=t("../constants"),o=t("../adapter/adapter"),s={setAdapter:function(t){t.plugin?r.warn("Adapters can only be added to a single plugin"):(this.removeAdapter(),(this._adapter=t).plugin=this,t.on(o.Event.START,this._startListener.bind(this)),t.on(o.Event.JOIN,this._joinListener.bind(this)),t.on(o.Event.PAUSE,this._pauseListener.bind(this)),t.on(o.Event.RESUME,this._resumeListener.bind(this)),t.on(o.Event.SEEK_BEGIN,this._seekBeginListener.bind(this)),t.on(o.Event.SEEK_END,this._seekEndListener.bind(this)),t.on(o.Event.BUFFER_BEGIN,this._bufferBeginListener.bind(this)),t.on(o.Event.BUFFER_END,this._bufferEndListener.bind(this)),t.on(o.Event.ERROR,this._errorListener.bind(this)),t.on(o.Event.STOP,this._stopListener.bind(this)),t.on(o.Event.VIDEO_EVENT,this._videoEventListener.bind(this)))},getAdapter:function(){return this._adapter},removeAdapter:function(){this._adapter&&(this._adapter.dispose(),this._adapter.plugin=null,this._adapter.off(o.Event.START,this._startListener),this._adapter.off(o.Event.JOIN,this._joinListener),this._adapter.off(o.Event.PAUSE,this._pauseListener),this._adapter.off(o.Event.RESUME,this._resumeListener),this._adapter.off(o.Event.SEEK_BEGIN,this._seekBeginListener),this._adapter.off(o.Event.SEEK_END,this._seekEndListener),this._adapter.off(o.Event.BUFFER_BEGIN,this._bufferBeginListener),this._adapter.off(o.Event.BUFFER_END,this._bufferEndListener),this._adapter.off(o.Event.ERROR,this._errorListener),this._adapter.off(o.Event.STOP,this._stopListener),this._adapter.off(o.Event.VIDEO_EVENT,this._videoEventListener),this._adapter=null)},_startListener:function(t){this.isInitiated?0!==this.initChrono.startTime&&(this._adapter.chronos.join.startTime=this.initChrono.startTime):(this.viewTransform.nextView(),this._initComm(),this._startPings());var e=t.data.params||{},n=this.getResource()&&"boolean"==typeof this.getIsLive()&&(this.getIsLive()||"number"==typeof this.getDuration()&&0<this.getDuration())&&this.getTitle();(n=!this.options.forceInit&&(n&&this._isExtraMetadataReady()))&&!this.isInitiated?(this._send(i.WillSendEvent.WILL_SEND_START,i.Service.START,e),this._adSavedError(),this._adSavedManifest(),r.notice(i.Service.START+" "+(e.title||e.mediaResource)),this.isStarted=!0):this.isInitiated||(this.isInitiated=!0,this._adapter.chronos.join.start(),this._send(i.WillSendEvent.WILL_SEND_INIT,i.Service.INIT,e),this._adSavedError(),this._adSavedManifest(),r.notice(i.Service.INIT+" "+(e.title||e.mediaResource)))},_retryStart:function(t){this._isExtraMetadataReady()&&(this._send(i.WillSendEvent.WILL_SEND_START,i.Service.START,{}),this.startDelayed=!1)},_joinListener:function(t){var e=t.data.params||{};this._adsAdapter&&this._adsAdapter.flags.isStarted?(this._adapter.monitor&&this._adapter.monitor.stop(),this._adapter.flags.isJoined=!1,this._adapter.chronos.join.stopTime=0):(this._adsAdapter&&(this._adapter.chronos.join.startTime=Math.min(this._adapter.chronos.join.startTime+(this._totalPrerollsTime||0),(new Date).getTime()),this._totalPrerollsTime=0),this.isInitiated&&!this.isStarted&&(this._isExtraMetadataReady()?this._send(i.WillSendEvent.WILL_SEND_START,i.Service.START,e):this.startDelayed=!0,this._adSavedError(),this._adSavedManifest(),r.notice(i.Service.START+" "+(e.title||e.mediaResource)),this.isStarted=!0),e=t.data.params||{},this._adsAdapter&&this.isBreakStarted&&this._adsAdapter.fireBreakStop(),this._send(i.WillSendEvent.WILL_SEND_JOIN,i.Service.JOIN,e),r.notice(i.Service.JOIN+" "+e.joinDuration+"ms"))},_pauseListener:function(t){this._adapter&&(this._adapter.flags.isBuffering||this._adapter.flags.isSeeking||this._adsAdapter&&this._adsAdapter.flags.isStarted)&&this._adapter.chronos.pause.reset();var e=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_PAUSE,i.Service.PAUSE,e),r.notice(i.Service.PAUSE+" at "+e.playhead+"s")},_resumeListener:function(t){this._adsAdapter&&this.isBreakStarted&&!this._adsAdapter.flags.isStarted&&this._adsAdapter.fireBreakStop();var e=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_RESUME,i.Service.RESUME,e),r.notice(i.Service.RESUME+" "+e.pauseDuration+"ms"),this._adapter.chronos.pause.reset()},_seekBeginListener:function(t){this._adapter&&this._adapter.flags.isPaused&&this._adapter.chronos.pause.reset(),r.notice("Seek Begin")},_seekEndListener:function(t){var e=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_SEEK,i.Service.SEEK,e),r.notice(i.Service.SEEK+" to "+e.playhead+" in "+e.seekDuration+"ms")},_bufferBeginListener:function(t){this._adapter&&this._adapter.flags.isPaused&&this._adapter.chronos.pause.reset(),r.notice("Buffer Begin")},_bufferEndListener:function(t){var e=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_BUFFER,i.Service.BUFFER,e),r.notice(i.Service.BUFFER+" to "+e.playhead+" in "+e.bufferDuration+"ms")},_errorListener:function(t){this._blockError(t.data.params)||(this.fireError(t.data.params||{}),this._adSavedError(),this._adSavedManifest())},_blockError:function(t){var e=Date.now();return!!this._lastErrorParams&&(this._lastErrorParams.errorCode===t.errorCode&&this._lastErrorParams.msg===t.msg)&&this._lastErrorTime+5e3>e?(this._lastErrorTime=e,!0):(this._lastErrorTime=e,this._lastErrorParams=t,!1)},_stopListener:function(t){this.fireStop(t.data.params||{})},_isStopReady:function(t){var e=!0;return this.isAdsManifestSent&&this.options["ad.expectedPattern"]&&this.options["ad.expectedPattern"].post&&this.options["ad.expectedPattern"].post[0]>this.playedPostrolls&&(e=!1),e},_videoEventListener:function(t){this._send(i.WillSendEvent.WILL_SEND_VIDEO_EVENT,i.Service.VIDEO_EVENT,t.data.params)},_isExtraMetadataReady:function(t){if(!this.options.waitForMetadata||this.options.pendingMetadata.length<1)return!0;var e=this.requestBuilder.getGetters();return this.options.pendingMetadata.map(function(t){if(e.hasOwnProperty(t))return!!this[e[t]]()}.bind(this)).indexOf(!1)<0}};e.exports=s},{"../adapter/adapter":300,"../constants":324,"../log":334}],345:[function(t,e,n){var r=t("../log"),i=t("../util"),o=t("../version"),s={getPlayhead:function(){var t=0;if(this._adapter)try{t=this._adapter.getPlayhead()}catch(t){r.warn("An error occurred while calling getPlayhead",t)}return i.parseNumber(t,0)},getPlayrate:function(){var t=0;if(this._adapter)try{t=this._adapter.getPlayrate(),this._adapter.flags&&this._adapter.flags.isPaused&&(t=0)}catch(t){r.warn("An error occured while calling getPlayrate",t)}return t},getFramesPerSecond:function(){var t=this.options["content.fps"];if(null===t&&this._adapter)try{t=this._adapter.getFramesPerSecond()}catch(t){r.warn("An error occured while calling getFramesPerSecond",t)}return t},getDroppedFrames:function(){var t=null;if(this._adapter)try{t=this._adapter.getDroppedFrames()}catch(t){r.warn("An error occured while calling getDroppedFrames",t)}return t=t||this.getWebkitDroppedFrames(),i.parseNumber(t,0)},getWebkitDroppedFrames:function(){return this._adapter&&this._adapter.tag&&this._adapter.tag.webkitDroppedFrameCount?this._adapter.tag.webkitDroppedFrameCount:null},getDuration:function(){var t=this.options["content.duration"];if(null===t&&this._adapter)try{t=this._adapter.getDuration()}catch(t){r.warn("An error occured while calling getDuration",t)}return 0===t&&(t=null),i.parseNumber(Math.round(t),null)},getBitrate:function(){var t=this.options["content.bitrate"];if(null===t&&this._adapter){try{t=this._adapter.getBitrate()}catch(t){r.warn("An error occured while calling getBitrate",t)}t&&-1!==t||(t=this.getWebkitBitrate())}return i.parseNumber(t,-1)},getWebkitBitrate:function(){if(this._adapter&&this._adapter.tag&&this._adapter.tag.webkitVideoDecodedByteCount){var t=this._adapter.tag.webkitVideoDecodedByteCount;if(this._lastWebkitBitrate){var e=this._adapter.tag.webkitVideoDecodedByteCount-this._lastWebkitBitrate;t=Math.round(e/this.viewTransform.response.pingTime*8)}return this._lastWebkitBitrate=this._adapter.tag.webkitVideoDecodedByteCount,0!==t?t:-1}},getThroughput:function(){var t=this.options["content.throughput"];if(null===t&&this._adapter)try{t=this._adapter.getThroughput()}catch(t){r.warn("An error occured while calling getThroughput",t)}return i.parseNumber(t,-1)},getRendition:function(){var t=this.options["content.rendition"];if(null===t&&this._adapter)try{t=this._adapter.getRendition()}catch(t){r.warn("An error occured while calling getRendition",t)}return t},getTitle:function(){var t=this.options["content.title"];if(null===t&&this._adapter)try{t=this._adapter.getTitle()}catch(t){r.warn("An error occured while calling getTitle",t)}return t},getTitle2:function(){var t=this.options["content.program"];if(null===t&&this._adapter)try{t=this._adapter.getTitle2()}catch(t){r.warn("An error occured while calling getTitle2",t)}return t},getIsLive:function(){var t=this.options["content.isLive"];if(null===t&&this._adapter)try{t=this._adapter.getIsLive()}catch(t){r.warn("An error occured while calling getIsLive",t)}return t||!1},getResource:function(){var e=null;if(null===(e=this.options["content.resource"])&&this._adapter)try{e=this._adapter.getResource()}catch(t){r.warn("An error occured while calling getResource",t),e=null}return e||null},getParsedResource:function(){var t=null;return!this.resourceTransform.isBlocking()&&this.resourceTransform.isDone&&(t=this.resourceTransform.getResource()),t===this.getResource()?null:t},getTransactionCode:function(){return this.options["content.transactionCode"]},getMetadata:function(){return this.options["content.metadata"]},getPlayerVersion:function(){var t="";if(this._adapter)try{t=this._adapter.getPlayerVersion()}catch(t){r.warn("An error occured while calling getPlayerVersion",t)}return t},getPlayerName:function(){var t="";if(this._adapter)try{t=this._adapter.getPlayerName()}catch(t){r.warn("An error occured while calling getPlayerName",t)}return t},getCdn:function(){var t=null;return this.resourceTransform.isBlocking()||(t=this.resourceTransform.getCdnName()),t||this.options["content.cdn"]},getPluginVersion:function(){var t=this.getAdapterVersion();return t=t||o+"-adapterless"},getLibVersion:function(){return o},getAdapterVersion:function(){var t=null;if(this._adapter)try{t=this._adapter.getVersion()}catch(t){r.warn("An error occured while calling getPluginVersion",t)}return t},getCdnTraffic:function(){var t=this.hybridNetwork.getCdnTraffic();if(this._adapter)try{t=this._adapter.getCdnTraffic()||t}catch(t){r.warn("An error occured while calling getCdnTraffic",t)}return t},getP2PTraffic:function(){var t=this.hybridNetwork.getP2PTraffic();if(this._adapter)try{t=this._adapter.getP2PTraffic()||t}catch(t){r.warn("An error occured while calling getP2PTraffic",t)}return t},getUploadTraffic:function(){var t=this.hybridNetwork.getUploadTraffic();if(this._adapter)try{t=this._adapter.getUploadTraffic()||t}catch(t){r.warn("An error occured while calling getUploadTraffic",t)}return t},getIsP2PEnabled:function(){var t=this.hybridNetwork.getIsP2PEnabled();if(this._adapter)try{t=this._adapter.getIsP2PEnabled()||t}catch(t){r.warn("An error occured while calling getIsP2PEnabled",t)}return t},getStreamingProtocol:function(){var t=this.options["content.streamingProtocol"];return"string"!=typeof t?null:"HDS"!==(t=t.toUpperCase())&&"HLS"!==t&&"MSS"!==t&&"DASH"!==t&&"RTMP"!==t&&"RTP"!==t&&"RTSP"!==t?(r.warn("Streaming protocol "+t+" is not a valid value"),null):t},getHouseholdId:function(){var t=null;if(this._adapter)try{t=this._adapter.getHouseholdId()}catch(t){r.warn("An error occurred while calling getHouseholdId",t)}return t},getLatency:function(){var t=null;if(this._adapter)try{t=this._adapter.getLatency()}catch(t){r.warn("An error occurred while calling getLatency",t)}return t},getPacketLoss:function(){var t=null;if(this._adapter)try{t=this._adapter.getPacketLoss()}catch(t){r.warn("An error occurred while calling getPacketLoss",t)}return t},getPacketSent:function(){var t=null;if(this._adapter)try{t=this._adapter.getPacketSent()}catch(t){r.warn("An error occurred while calling getPacketSent",t)}return t},getVideoMetrics:function(){var t=this._adapter?this._adapter.getMetrics():null;for(var e in t=t||this.options["content.metrics"])if("object"!=typeof t[e]||!t[e].value){var n={};n.value=t[e],t[e]=n}return t},getJoinDuration:function(){return this._adapter?this._adapter.chronos.join.getDeltaTime(!1):-1},getBufferDuration:function(){return this._adapter?this._adapter.chronos.buffer.getDeltaTime(!1):-1},getSeekDuration:function(){return this._adapter?this._adapter.chronos.seek.getDeltaTime(!1):-1},getPauseDuration:function(){return this._adapter?this._adapter.chronos.pause.getDeltaTime(!1):0},getPackage:function(){return this.options["content.package"]},getSaga:function(){return this.options["content.saga"]},getTvShow:function(){return this.options["content.tvShow"]},getSeason:function(){return this.options["content.season"]},getEpisodeTitle:function(){return this.options["content.episodeTitle"]},getChannel:function(){return this.options["content.channel"]},getID:function(){return this.options["content.id"]},getImdbId:function(){return this.options["content.imdbId"]},getGracenoteID:function(){return this.options["content.gracenoteId"]},getType:function(){return this.options["content.type"]},getGenre:function(){return this.options["content.genre"]},getVideoLanguage:function(){return this.options["content.language"]},getSubtitles:function(){return this.options["content.subtitles"]},getContractedResolution:function(){return this.options["content.contractedResolution"]},getCost:function(){return this.options["content.cost"]},getPrice:function(){return this.options["content.price"]},getPlaybackType:function(){return this.options["content.playbackType"]?this.options["content.playbackType"]:this.getIsLive()?"Live":"VoD"},getDRM:function(){return this.options["content.drm"]},getVideoCodec:function(){return this.options["content.encoding.videoCodec"]},getAudioCodec:function(){return this.options["content.encoding.audioCodec"]},getCodecSettings:function(){return this.options["content.encoding.codecSettings"]},getCodecProfile:function(){return this.options["content.encoding.codecProfile"]},getContainerFormat:function(){return this.options["content.encoding.containerFormat"]}};e.exports=s},{"../log":334,"../util":357,"../version":358}],344:[function(t,e,n){var r=t("../log"),i=t("../constants"),o=t("../adapter/adapter"),s={getAdsAdapter:function(){return this._adsAdapter},setAdsAdapter:function(t){t.plugin?r.warn("Adapters can only be added to a single plugin"):(this.removeAdsAdapter(),(t.plugin=this)._adsAdapter=t,this._adsAdapter.on(o.Event.START,this._adStartListener.bind(this)),this._adsAdapter.on(o.Event.JOIN,this._adJoinListener.bind(this)),this._adsAdapter.on(o.Event.PAUSE,this._adPauseListener.bind(this)),this._adsAdapter.on(o.Event.RESUME,this._adResumeListener.bind(this)),this._adsAdapter.on(o.Event.BUFFER_BEGIN,this._adBufferBeginListener.bind(this)),this._adsAdapter.on(o.Event.BUFFER_END,this._adBufferEndListener.bind(this)),this._adsAdapter.on(o.Event.STOP,this._adStopListener.bind(this)),this._adsAdapter.on(o.Event.ERROR,this._adErrorListener.bind(this)),this._adsAdapter.on(o.Event.CLICK,this._adClickListener.bind(this)),this._adsAdapter.on(o.Event.MANIFEST,this._adManifestListener.bind(this)),this._adsAdapter.on(o.Event.PODSTART,this._adBreakStartListener.bind(this)),this._adsAdapter.on(o.Event.PODSTOP,this._adBreakStopListener.bind(this)),this._adsAdapter.on(o.Event.QUARTILE,this._adQuartileListener.bind(this)),this.resizeScrollDetector.startDetection())},removeAdsAdapter:function(){this._adsAdapter&&(this._adsAdapter.dispose(),this._adsAdapter.plugin=null,this._adsAdapter.off(o.Event.START,this._adStartListener),this._adsAdapter.off(o.Event.JOIN,this._adJoinListener),this._adsAdapter.off(o.Event.PAUSE,this._adPauseListener),this._adsAdapter.off(o.Event.RESUME,this._adResumeListener),this._adsAdapter.off(o.Event.BUFFER_BEGIN,this._adBufferBeginListener),this._adsAdapter.off(o.Event.BUFFER_END,this._adBufferEndListener),this._adsAdapter.off(o.Event.STOP,this._adStopListener),this._adsAdapter.off(o.Event.ERROR,this._adErrorListener),this._adsAdapter.off(o.Event.CLICK,this._adClickListener),this._adsAdapter.off(o.Event.MANIFEST,this._adManifestListener),this._adsAdapter.off(o.Event.PODSTART,this._adBreakStartListener),this._adsAdapter.off(o.Event.PODSTOP,this._adBreakStopListener),this._adsAdapter.off(o.Event.QUARTILE,this._adQuartileListener),this.resizeScrollDetector.stopDetection(),this._adsAdapter=null)},_adStartListener:function(t){this._adapter?(this._adapter.fireBufferEnd(),this._adapter.fireSeekEnd(),this.isInitiated||this._adapter.flags.isStarted||this._adapter.fireStart(),this._adapter.flags.isPaused&&this._adapter.chronos.pause.reset()):this.fireInit(),this._adsAdapter&&(this._adsAdapter.fireManifest(),this._adsAdapter.fireBreakStart(),this._adsAdapter.chronos.viewedMax=[]);var e=t.data.params||{};e.adNumber=this.requestBuilder.getNewAdNumber(),e.breakNumber=this.requestBuilder.lastSent.breakNumber,this.options["ad.ignore"]||((this.getAdResource()||this.getAdTitle())&&"number"==typeof this.getAdDuration()?(this.adStartSent=!0,this._send(i.WillSendEvent.WILL_SEND_AD_START,i.Service.AD_START,e)):(this.adInitSent=!0,this._send(i.WillSendEvent.WILL_SEND_AD_INIT,i.Service.AD_INIT,e)),r.notice(i.Service.AD_INIT+" "+e.adPosition+e.adNumber+" at "+e.playhead+"s"))},_adJoinListener:function(t){var e=t.data.params||{};e.adNumber=this.requestBuilder.lastSent.adNumber,e.breakNumber=this.requestBuilder.lastSent.breakNumber,e.adPosition=this.requestBuilder.lastSent.adPosition,this.options["ad.ignore"]||!this.adInitSent||this.adStartSent||(this._send(i.WillSendEvent.WILL_SEND_AD_START,i.Service.AD_START,e),r.notice(i.Service.AD_START+" "+e.adPosition+e.adNumber+" at "+e.playhead+"s")),this._adsAdapter.startChronoView(),this.adConnected&&(this._adsAdapter.chronos.join.startTime=this.adConnectedTime,this._adsAdapter.chronos.total.startTime=this.adConnectedTime,this.adConnectedTime=0,this.adConnected=!1),this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_JOIN,i.Service.AD_JOIN,e),r.notice(i.Service.AD_JOIN+" "+e.adJoinDuration+"ms"),this.adInitSent=!1,this.adStartSent=!1},_adPauseListener:function(t){var e=t.data.params||{};e.adNumber=this.requestBuilder.lastSent.adNumber,e.breakNumber=this.requestBuilder.lastSent.breakNumber,this._adsAdapter.stopChronoView(),this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_PAUSE,i.Service.AD_PAUSE,e),r.notice(i.Service.AD_PAUSE+" at "+e.adPlayhead+"s")},_adResumeListener:function(t){var e=t.data.params||{};e.adNumber=this.requestBuilder.lastSent.adNumber,e.breakNumber=this.requestBuilder.lastSent.breakNumber,e.adPosition=this.requestBuilder.lastSent.adPosition,this._adsAdapter.startChronoView(),this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_RESUME,i.Service.AD_RESUME,e),r.notice(i.Service.AD_RESUME+" "+e.adPauseDuration+"ms")},_adBufferBeginListener:function(t){r.notice("Ad Buffer Begin"),this._adsAdapter.stopChronoView(),this._adsAdapter&&this._adsAdapter.flags.isPaused&&this._adsAdapter.chronos.pause.reset()},_adBufferEndListener:function(t){var e=t.data.params||{};this._adsAdapter.startChronoView(),e.adNumber=this.requestBuilder.lastSent.adNumber,e.breakNumber=this.requestBuilder.lastSent.breakNumber,e.adPosition=this.requestBuilder.lastSent.adPosition,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_BUFFER,i.Service.AD_BUFFER,e),r.notice(i.Service.AD_BUFFER+" "+e.adBufferDuration+"ms")},_adStopListener:function(t){this._adsAdapter.stopChronoView(),this._adsAdapter.flags.reset(),this._totalPrerollsTime=(this._totalPrerollsTime||0)+this._adsAdapter.chronos.total.getDeltaTime();var e=t.data.params||{};e.adNumber=this.requestBuilder.lastSent.adNumber,e.breakNumber=this.requestBuilder.lastSent.breakNumber,this.requestBuilder.lastSent.adPosition===i.AdPosition.Postroll&&this.playedPostrolls++,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_STOP,i.Service.AD_STOP,e),r.notice(i.Service.AD_STOP+" "+e.adTotalDuration+"ms"),this.options["ad.expectedPattern"]&&this.options["ad.expectedPattern"].post&&this.options["ad.expectedPattern"].post[0]===this.playedPostrolls&&e.adPosition===i.AdPosition.Postroll&&this.fireStop(),this.adConnected=!0,this.adConnectedTime=(new Date).getTime()},_adErrorListener:function(t){var e=t.data.params||{};return!this._adapter||this._adapter.flags.isStarted||this.isInitiated?this._blockAdError(t.data.params)?null:(this._adsAdapter&&(this._adsAdapter.fireManifest(),this._adsAdapter.fireBreakStart()),this._adsAdapter&&this._adsAdapter.flags.isStarted?e.adNumber=this.requestBuilder.lastSent.adNumber:e.adNumber=this.requestBuilder.getNewAdNumber(),e.breakNumber=this.requestBuilder.lastSent.breakNumber,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_ERROR,i.Service.AD_ERROR,e),void r.notice(i.Service.AD_ERROR)):(this._savedAdError=t,null)},_adSavedError:function(){this._savedAdError&&(this._adErrorListener(this._savedAdError),this._savedAdError=null)},_adSavedManifest:function(){this._savedAdManifest&&(this._adManifestListener(this._savedAdManifest),this._savedAdManifest=null)},_blockAdError:function(t){var e=Date.now();return!!this._lastAdErrorParams&&(this._lastAdErrorParams.errorCode===t.errorCode&&this._lastAdErrorParams.msg===t.msg)&&this._lastAdErrorTime+5e3>e?(this._lastAdErrorTime=e,!0):(this._lastAdErrorTime=e,this._lastAdErrorParams=t,!1)},_adClickListener:function(t){var e=t.data.params||{};e.adNumber=this.requestBuilder.lastSent.adNumber,e.breakNumber=this.requestBuilder.lastSent.breakNumber,e.adPosition=this.requestBuilder.lastSent.adPosition,this._adsAdapter.stopChronoView(),this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_CLICK,i.Service.AD_CLICK,e),r.notice(i.Service.AD_CLICK)},_adManifestListener:function(t){if(!this.isAdsManifestSent){if(this._adapter&&!this._adapter.flags.isStarted&&!this.isInitiated)return this._savedAdManifest=t,null;var e=t.data.params||{};this.isAdsManifestSent=!0,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_MANIFEST,i.Service.AD_MANIFEST,e),r.notice(i.Service.AD_MANIFEST)}},_adBreakStartListener:function(t){var e=t.data.params||{};this.requestBuilder.lastSent.breakNumber?this.requestBuilder.lastSent.breakNumber++:this.requestBuilder.lastSent.breakNumber=1,e.breakNumber=this.requestBuilder.lastSent.breakNumber,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_POD_START,i.Service.AD_POD_START,e),r.notice(i.Service.AD_POD_START),this.adConnected=!1},_adBreakStopListener:function(t){var e=t.data.params||{};e.breakNumber=this.requestBuilder.lastSent.breakNumber,e.breakPosition=this.requestBuilder.lastSent.breakPosition,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_POD_STOP,i.Service.AD_POD_STOP,e),r.notice(i.Service.AD_POD_STOP),this.adConnected=!1},_adQuartileListener:function(t){var e=t.data.params||{};e.quartile&&(e.adNumber=this.requestBuilder.lastSent.adNumber,e.adPosition=this.requestBuilder.lastSent.adPosition,e.breakNumber=this.requestBuilder.lastSent.breakNumber,e.breakPosition=this.requestBuilder.lastSent.breakPosition,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_QUARTILE,i.Service.AD_QUARTILE,e),r.notice(i.Service.AD_QUARTILE))}};e.exports=s},{"../adapter/adapter":300,"../constants":324,"../log":334}],343:[function(t,e,n){var r=t("../log"),i=t("../util"),o=t("../constants"),s={getAdPlayerVersion:function(){var t="";if(this._adsAdapter)try{t=this._adsAdapter.getPlayerVersion()}catch(t){r.warn("An error occured while calling getAdPlayerVersion",t)}return t},getAdPosition:function(){var t=o.AdPosition.Preroll;if(this._adsAdapter)try{var e=this._adsAdapter.getPosition();o.AdPosition.Preroll!==e&&o.AdPosition.Midroll!==e&&o.AdPosition.Postroll!==e||(t=e)}catch(t){r.warn("An error occured while calling getAdPosition",t)}return!t&&this._adapter&&(t=this._adapter.flags.isJoined?o.AdPosition.Midroll:o.AdPosition.Preroll),t},getAdPlayhead:function(){var t=null;if(this._adsAdapter)try{t=this._adsAdapter.getPlayhead()}catch(t){r.warn("An error occured while calling getAdPlayhead",t)}return i.parseNumber(t,0)},getAdDuration:function(){var t=null;if(this._adsAdapter)try{t=this._adsAdapter.getDuration()}catch(t){r.warn("An error occured while calling getAdDuration",t)}return i.parseNumber(t,0)},getAdBitrate:function(){var t=null;if(this._adsAdapter){try{t=this._adsAdapter.getBitrate()}catch(t){r.warn("An error occured while calling getAdBitrate",t)}t&&-1!==t||(t=this.getWebkitAdBitrate())}return i.parseNumber(t,-1)},getWebkitAdBitrate:function(){if(this._adapter&&this._adapter.tag&&this._adapter.tag.webkitVideoDecodedByteCount){var t=this._adapter.tag.webkitVideoDecodedByteCount;if(this._lastWebkitAdBitrate){var e=this._adapter.tag.webkitVideoDecodedByteCount-this._lastWebkitAdBitrate;t=Math.round(e/this.viewTransform.response.pingTime*8)}return this._lastWebkitAdBitrate=this._adapter.tag.webkitVideoDecodedByteCount,0!==t?t:-1}},getAdTitle:function(){var t=null;if(this.options["ad.title"])return this.options["ad.title"];if(this._adsAdapter)try{t=this._adsAdapter.getTitle()}catch(t){r.warn("An error occured while calling getAdTitle",t)}return t},getAdResource:function(){var t=null;if(this.options["ad.resource"])return this.options["ad.resource"];if(this._adsAdapter)try{t=this._adsAdapter.getResource()}catch(t){r.warn("An error occured while calling getAdResource",t)}return t},getAdCampaign:function(){var t=null;if(this.options["ad.campaign"])return this.options["ad.campaign"];if(this._adsAdapter)try{t=this._adsAdapter.getCampaign()}catch(t){r.warn("An error occured while calling getCampaign",t)}return t},getAdCreativeId:function(){var t=null;if(this.options["ad.creativeId"])return this.options["ad.creativeId"];if(this._adsAdapter)try{t=this._adsAdapter.getCreativeId()}catch(t){r.warn("An error occured while calling getCreativeId",t)}return t},getAdProvider:function(){var t=null;if(this.options["ad.provider"])return this.options["ad.provider"];if(this._adsAdapter)try{t=this._adsAdapter.getProvider()}catch(t){r.warn("An error occured while calling getProvider",t)}return t},getAdAdapterVersion:function(){var t=null;if(this._adsAdapter)try{t=this._adsAdapter.getVersion()}catch(t){r.warn("An error occured while calling getAdsAdapterVersion",t)}return t},getAdMetadata:function(){return this.options["ad.metadata"]},getGivenBreaks:function(){var t=null;if(this.options["ad.givenBreaks"])t=this.options["ad.givenBreaks"];else if(this._adsAdapter)try{t=this._adsAdapter.getGivenBreaks()}catch(t){r.warn("An error occured while calling getGivenBreaks",t)}return t},getExpectedBreaks:function(){var t=null;if(this.options["ad.expectedBreaks"])t=this.options["ad.expectedBreaks"];else if(this.options["ad.expectedPattern"])t=0,t=this.options["ad.expectedPattern"].pre?this.options["ad.expectedPattern"].pre.length:0,t+=this.options["ad.expectedPattern"].mid?this.options["ad.expectedPattern"].mid.length:0,t+=this.options["ad.expectedPattern"].post?this.options["ad.expectedPattern"].post.length:0;else if(this._adsAdapter)try{t=this._adsAdapter.getExpectedBreaks()}catch(t){r.warn("An error occured while calling expectedBreaks",t)}return t},getExpectedPattern:function(){var t=null;if(this.options["ad.expectedPattern"])t=this.options["ad.expectedPattern"];else if(this._adsAdapter)try{t=this._adsAdapter.getExpectedPattern()}catch(t){r.warn("An error occured while calling expectedPattern",t)}return t},getBreaksTime:function(){var t=null;if(this.options["ad.breaksTime"])t=this.options["ad.breaksTime"];else if(this._adsAdapter)try{t=this._adsAdapter.getBreaksTime()}catch(t){r.warn("An error occured while calling breaksTime",t)}return t},getGivenAds:function(){var t=null;if(this.options["ad.givenAds"])t=this.options["ad.givenAds"];else if(this._adsAdapter)try{t=this._adsAdapter.getGivenAds()}catch(t){r.warn("An error occured while calling givenAds",t)}return t},getExpectedAds:function(){var t=null;try{if(this._adsAdapter)if(this.options["ad.expectedPattern"]&&this.getAdPosition()){var e=[];if(this.options["ad.expectedPattern"].pre&&(e=e.concat(this.options["ad.expectedPattern"].pre)),this.options["ad.expectedPattern"].mid&&(e=e.concat(this.options["ad.expectedPattern"].mid)),this.options["ad.expectedPattern"].post&&(e=e.concat(this.options["ad.expectedPattern"].post)),0<e.length){var n=this.requestBuilder.lastSent.breakNumber;n>e.length&&(n=e.length),t=e[n-1]}}else t=this._adsAdapter.getExpectedAds()}catch(t){r.warn("An error occured while calling expectedAds",t)}return t},getAdsExpected:function(){var t=null;try{t=this.getExpectedPattern()||this.getGivenAds()||!1}catch(t){r.warn("An error occured while calling givenAds or expectedPattern",t)}return t},getAdJoinDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.join.getDeltaTime(!1):-1},getAdBufferDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.buffer.getDeltaTime(!1):-1},getAdPauseDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.pause.getDeltaTime(!1):0},getAdTotalDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.total.getDeltaTime(!1):-1},getAdViewedDuration:function(){var e=0;return this._adsAdapter&&0<this._adsAdapter.chronos.viewedMax.length&&this._adsAdapter.chronos.viewedMax.forEach(function(t){e+=t.getDeltaTime(!1)}),e},getAdViewability:function(){var e=0;return this._adsAdapter&&0<this._adsAdapter.chronos.viewedMax.length&&this._adsAdapter.chronos.viewedMax.forEach(function(t){t&&t.getDeltaTime(!1)>e&&(e=t.getDeltaTime(!1))}),e},getAudioEnabled:function(){var t=null;try{this._adsAdapter&&(t=this._adsAdapter.getAudioEnabled())}catch(t){r.warn("An error occured while calling isAudioEnabled",t)}return t},getIsSkippable:function(){var t=null;try{this._adsAdapter&&(t=this._adsAdapter.getIsSkippable())}catch(t){r.warn("An error occured while calling isSkippable",t)}return t},getIsFullscreen:function(){var t=null;try{this._adsAdapter&&(t=this._adsAdapter.getIsFullscreen())}catch(t){r.warn("An error occured while calling isFullcreen",t)}return t}};e.exports=s},{"../constants":324,"../log":334,"../util":357}],341:[function(t,e,n){var r=t("../object"),i=t("./storage"),o=r.extend({constructor:function(){this.storage=new i("youboraOffline",!0),this.actualView=null,this.viewList=[],this.givenIds=[],this._getOldViewList()},_newView:function(){var t=this._getValidId();this.storage.setLocal(t,""),this.viewList.push(t),this.storage.setLocal("views",this.viewList),this.actualView=t},addEvent:function(t,e){if("/start"===t&&this._newView(),"/init"===t)return null;if(!this.actualView)return null;var n='{"request":"'+t.slice(1)+'",';for(var r in n+='"unixtime":'+Date.now()+",",e){if(void 0===e[r])break;n+='"'+r+'":',"code"===r?n+='"CODE_PLACEHOLDER",':"sessionId"===r?n+='"SESSION_PLACEHOLDER",':"parentId"===r?n+='"PARENT_PLACEHOLDER",':"sessionRoot"===r?n+='"ROOT_PLACEHOLDER",':"string"==typeof e[r]?n+='"'+e[r]+'",':"object"==typeof e[r]?n+='"'+JSON.stringify(e[r]).replace(/"/g,'\\"')+'",':n+=e[r]+","}n=n.slice(0,-1),n+="}";var i=this.storage.getLocal(this.actualView);""!==i&&(i+=","),this.storage.setLocal(this.actualView,i+n)},getView:function(){if(this.viewList.length>this.givenIds.length)for(var t=0;;){var e=this.viewList[t];if(!this.givenIds.includes(e))return this.givenIds.push(e),["["+this.storage.getLocal(e)+"]",e];t++}return[null,null]},removeView:function(t){this.storage.removeLocal(t);var e=this.viewList.indexOf(t);-1!==e&&this.viewList.splice(e,1),-1!==(e=this.givenIds.indexOf(t))&&this.givenIds.splice(e,1),this.storage.setLocal("views",this.viewList.toString()),t===this.actualView&&(this.actualView=null)},_getOldViewList:function(){var t="";this.storage.getLocal("views")?t=this.storage.getLocal("views"):this.storage.setLocal("views",""),""===t?this.viewList=[]:"function"==typeof t.split&&(this.viewList=t.split(","))},_getValidId:function(){var t=Math.floor(1e8*Math.random()).toString();return 0<=this.viewList.indexOf(t)?this._getValidId():t},sent:function(){this.givenIds=[]}});e.exports=o},{"../object":339,"./storage":354}],354:[function(t,e,n){var r=t("../object"),i=t("../log"),o=r.extend({constructor:function(t,e){this.prefix=t||"youbora",this.disableCookies=e},setLocal:function(t,e){try{if("undefined"!=typeof localStorage&&localStorage)return localStorage.setItem(this.prefix+"."+t,e);if(!this.disableCookies)return this._setCookie(this.prefix+"."+t,e)}catch(t){i.error("Youbora Infinity needs localStorage or cookies, not supported by your browser.")}return null},isEnabled:function(){try{if(!this.disableCookies)return!0;localStorage.setItem(this.prefix+".test","true"),localStorage.removeItem(this.prefix+".test")}catch(t){return!1}},getLocal:function(t){try{if("undefined"!=typeof localStorage&&localStorage)return localStorage.getItem(this.prefix+"."+t);if(!this.disableCookies)return this._getCookie(this.prefix+"."+t)}catch(t){i.error("Youbora Infinity needs localStorage or cookies, not supported by your browser.")}return null},removeLocal:function(t){try{if("undefined"!=typeof localStorage&&localStorage)return localStorage.removeItem(this.prefix+"."+t);if(!this.disableCookies)return this._removeCookie(this.prefix+"."+t)}catch(t){i.error("Youbora Infinity needs localStorage or cookies, not supported by your browser.")}return null},setSession:function(t,e){try{if("undefined"!=typeof sessionStorage&&sessionStorage)return sessionStorage.setItem(this.prefix+"."+t,e);if(!this.disableCookies)return this._setCookie(this.prefix+".session."+t,e)}catch(t){i.error("Youbora Infinity needs sessionStorage or cookies, not supported by your browser.")}return null},getSession:function(t){try{if("undefined"!=typeof sessionStorage&&sessionStorage)return sessionStorage.getItem(this.prefix+"."+t);if(!this.disableCookies)return this._getCookie(this.prefix+".session."+t)}catch(t){i.error("Youbora Infinity needs sessionStorage or cookies, not supported by your browser.")}return null},removeSession:function(t){try{if("undefined"!=typeof sessionStorage&&sessionStorage)return sessionStorage.removeItem(this.prefix+"."+t);if(!this.disableCookies)return this._removeCookie(this.prefix+".session."+t)}catch(t){i.error("Youbora Infinity needs sessionStorage or cookies, not supported by your browser.")}return null},getStorages:function(t){return this.getSession(t)||this.getLocal(t)},setStorages:function(t,e){this.setSession(t,e),this.setLocal(t,e)},removeStorages:function(t){this.removeSession(t),this.removeLocal(t)},_setCookie:function(t,e){"undefined"!=typeof document&&(document.cookie=t+"="+e+";")},_getCookie:function(t){if("undefined"!=typeof document)for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null},_removeCookie:function(t){"undefined"!=typeof document&&(document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;")}});e.exports=o},{"../log":334,"../object":339}],328:[function(t,e,n){var r=t("../object").extend({constructor:function(t){this.pluginref=t,this.listenerReference=this._changeListener.bind(this),this.isEnabled=!1},startDetection:function(){this.isEnabled||"undefined"==typeof window||(window.addEventListener("scroll",this.listenerReference),window.addEventListener("resize",this.listenerReference),this.isEnabled=!0)},stopDetection:function(){this.isEnabled&&"undefined"!=typeof window&&(window.removeEventListener("scroll",this.listenerReference),window.removeEventListener("resize",this.listenerReference),this.isEnabled=!1)},_changeListener:function(){var t=this.pluginref.getAdsAdapter();t&&t.flags.isStarted&&(t.getIsVisible()?t.startChronoView():t.stopChronoView())}});e.exports=r},{"../object":339}],326:[function(t,e,n){var r=t("../object"),i=t("../util"),o=r.extend({constructor:function(t){try{this._plugin=t,this.isBlocked=null,this.xhr=null;try{XMLHttpRequest?this.xhr=new XMLHttpRequest:this.xhr=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){return null}if(this.xhr.addEventListener){var e=i.addProtocol("ww.zxcvwwds.com/ww/wwds/-imwwge-wwd_wwds.html",this._plugin.options["app.https"]);this.xhr.open("GET",e.replace(/ww/g,"a"),!0),this.xhr.addEventListener("load",this.notBlocked.bind(this)),this.xhr.addEventListener("error",this.blocked.bind(this)),this.xhr.send()}else this.isBlocked=!1}catch(t){this.isBlocked=!0}},blocked:function(t){this.isBlocked=!0},notBlocked:function(t){this.isBlocked=!1}});e.exports=o},{"../object":339,"../util":357}],307:[function(t,e,n){var r=t("./transform"),i=t("../../constants"),o=r.extend({_services:[i.Service.INIT,i.Service.START,i.Service.OFFLINE_EVENTS],isBlocking:function(t){if(this._isBusy&&null!=t)if(-1!==this._services.indexOf(t.service))this.done();else if(t.service===i.Service.ERROR)return!1;return r.prototype.isBlocking.apply(this,arguments)}});e.exports=o},{"../../constants":324,"./transform":321}],342:[function(t,e,n){var r=t("../object"),a=t("./deprecatedOptions"),u=t("../log"),i=r.extend({constructor:function(t){this.enabled=!0,this.host="a-fds.youborafds01.com",this.accountCode="nicetest",this.preventZombieViews=!0,this.offline=!1,this.referer=null,this.disableCookies=!0,this["user.email"]=null,this["user.type"]=null,this["user.name"]=null,this["user.obfuscateIp"]=!1,this["user.anonymousId"]=null,this["parse.hls"]=!1,this["parse.cdnNameHeader"]="x-cdn-forward",this["parse.cdnNode"]=!1,this["parse.cdnNode.list"]=["Akamai","Cloudfront","Level3","Fastly","Highwinds","Telefonica"],this["parse.locationHeader"]=!1,this["parse.dash"]=!1,this["parse.fdsResponseHost"]=null,this["network.ip"]=null,this["network.isp"]=null,this["network.connectionType"]=null,this["device.code"]=null,this["device.model"]=null,this["device.brand"]=null,this["device.type"]=null,this["device.name"]=null,this["device.osName"]=null,this["device.osVersion"]=null,this["device.browserName"]=null,this["device.browserVersion"]=null,this["device.browserType"]=null,this["device.browserEngine"]=null,this["device.isAnonymous"]=!1,this["content.transactionCode"]=null,this["content.resource"]=null,this["content.isLive"]=null,this["content.isLive.noSeek"]=!1,this["content.title"]=null,this["content.program"]=null,this["content.duration"]=null,this["content.fps"]=null,this["content.bitrate"]=null,this["content.throughput"]=null,this["content.rendition"]=null,this["content.cdn"]=null,this["content.cdnNode"]=null,this["content.cdnType"]=null,this["content.metadata"]={},this["content.metrics"]={},this["content.streamingProtocol"]=null,this["content.package"]=null,this["content.saga"]=null,this["content.tvShow"]=null,this["content.season"]=null,this["content.episodeTitle"]=null,this["content.channel"]=null,this["content.id"]=null,this["content.imdbId"]=null,this["content.gracenoteId"]=null,this["content.type"]=null,this["content.genre"]=null,this["content.language"]=null,this["content.subtitles"]=null,this["content.contractedResolution"]=null,this["content.cost"]=null,this["content.price"]=null,this["content.playbackType"]=null,this["content.drm"]=null,this["content.encoding.videoCodec"]=null,this["content.encoding.audioCodec"]=null,this["content.encoding.codecSettings"]=null,this["content.encoding.codecProfile"]=null,this["content.encoding.containerFormat"]=null,this["ad.metadata"]={},this["ad.campaign"]=null,this["ad.creativeId"]=null,this["ad.provider"]=null,this["ad.resource"]=null,this["ad.title"]=null,this["ad.expectedPattern"]=null,this["ad.givenAds"]=null,this["ad.breaksTime"]=null,this["ad.expectedBreaks"]=null,this["ad.givenBreaks"]=null,this["ad.ignore"]=!1,this["ad.blockDetection"]=!1,this["app.name"]=null,this["app.releaseVersion"]=null,this["app.https"]=!1,this["background.enabled"]=!0,this["background.settings"]=null,this["background.settings.android"]="stop",this["background.settings.iOS"]="stop",this["background.settings.desktop"]=null,this["background.settings.tv"]="stop",this["background.settings.playstation"]="stop",this["smartswitch.configCode"]=null,this["smartswitch.groupCode"]=null,this["smartswitch.contractCode"]=null,this["content.customDimension.1"]=null,this["content.customDimension.2"]=null,this["content.customDimension.3"]=null,this["content.customDimension.4"]=null,this["content.customDimension.5"]=null,this["content.customDimension.6"]=null,this["content.customDimension.7"]=null,this["content.customDimension.8"]=null,this["content.customDimension.9"]=null,this["content.customDimension.10"]=null,this["content.customDimension.11"]=null,this["content.customDimension.12"]=null,this["content.customDimension.13"]=null,this["content.customDimension.14"]=null,this["content.customDimension.15"]=null,this["content.customDimension.16"]=null,this["content.customDimension.17"]=null,this["content.customDimension.18"]=null,this["content.customDimension.19"]=null,this["content.customDimension.20"]=null,this["ad.customDimension.1"]=null,this["ad.customDimension.2"]=null,this["ad.customDimension.3"]=null,this["ad.customDimension.4"]=null,this["ad.customDimension.5"]=null,this["ad.customDimension.6"]=null,this["ad.customDimension.7"]=null,this["ad.customDimension.8"]=null,this["ad.customDimension.9"]=null,this["ad.customDimension.10"]=null,this.forceInit=!1,this["session.metrics"]={},this["session.context"]=!1,this.waitForMetadata=!1,this.pendingMetadata=[],this.setOptions(t)},setOptions:function(t,e){var n=!1;if(void 0===e){e=this,n=!0;var r=new a}if(void 0!==t)for(var i in t){var o=!1,s=null;n&&(this.hasOwnProperty(i)||(r.exists(i)?(s=r.getNewName(i),o=!0):u.warn('The option "'+i+'" does not exist, so it cannot be set'))),"object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])||"parse.cdnNode.list"!==i?o?e[s]=t[i]:e[i]=t[i]:this.setOptions(t[i],e[i])}},setExtraParams:function(t){if("object"==typeof t&&t.length){for(20<=t.length&&(t=t.slice(0,20));t.length<20;)t.push(null);t.forEach(function(t,e){this["content.customDimension."+(e+1).toString()]=t}.bind(this))}},setCustomDimensions:function(){i.prototype.setExtraParams.apply(this,arguments)},setAdExtraParams:function(t){if("object"==typeof t&&t.length){for(10<=t.length&&(t=t.slice(0,10));t.length<10;)t.push(null);t.forEach(function(t,e){this["ad.customDimension."+(e+1).toString()]=t}.bind(this))}},setAdCustomDimensions:function(){i.prototype.setAdExtraParams.apply(this,arguments)}});e.exports=i},{"../log":334,"../object":339,"./deprecatedOptions":340}],340:[function(t,e,n){var r=t("../object"),i=t("../log"),o=r.extend({exists:function(t){return o.Dictionary.hasOwnProperty(t)},getNewName:function(t){var e=o.Dictionary[t];return i.warn('The option "'+t+'" is deprecated, use "'+e+'" instead'),e}},{Dictionary:{httpSecure:"app.https",username:"user.name",anonymousUser:"user.anonymousId",obfuscateIp:"user.obfuscateIp",userType:"user.type","content.title2":"content.program","background.settings.iphone":"background.settings.iOS","extraparam.1":"content.customDimension.1","extraparam.2":"content.customDimension.2","extraparam.3":"content.customDimension.3","extraparam.4":"content.customDimension.4","extraparam.5":"content.customDimension.5","extraparam.6":"content.customDimension.6","extraparam.7":"content.customDimension.7","extraparam.8":"content.customDimension.8","extraparam.9":"content.customDimension.9","extraparam.10":"content.customDimension.10","extraparam.11":"content.customDimension.11","extraparam.12":"content.customDimension.12","extraparam.13":"content.customDimension.13","extraparam.14":"content.customDimension.14","extraparam.15":"content.customDimension.15","extraparam.16":"content.customDimension.16","extraparam.17":"content.customDimension.17","extraparam.18":"content.customDimension.18","extraparam.19":"content.customDimension.19","extraparam.20":"content.customDimension.20","ad.extraparam.1":"ad.content.customDimension.1","ad.extraparam.2":"ad.content.customDimension.2","ad.extraparam.3":"ad.content.customDimension.3","ad.extraparam.4":"ad.content.customDimension.4","ad.extraparam.5":"ad.content.customDimension.5","ad.extraparam.6":"ad.content.customDimension.6","ad.extraparam.7":"ad.content.customDimension.7","ad.extraparam.8":"ad.content.customDimension.8","ad.extraparam.9":"ad.content.customDimension.9","ad.extraparam.10":"ad.content.customDimension.10"}});e.exports=o},{"../log":334,"../object":339}],338:[function(t,e,n){var r=t("../object").extend({getCdnTraffic:function(){var e=0;if("undefined"!=typeof Streamroot){if(Streamroot.p2pAvailable&&Streamroot.peerAgents){for(var t in Streamroot.peerAgents)e+=Streamroot.peerAgents[t].stats.cdn;return e}if(Streamroot.instances&&0<Streamroot.instances.length)return Streamroot.instances.forEach(function(t){e+=t.stats.currentContent.cdnDownload}),e}if("undefined"!=typeof peer5&&peer5.getStats)return peer5.getStats().totalHttpDownloaded;if("undefined"!=typeof teltoo&&teltoo.getStats){var n=teltoo.getStats();return n.totalReceivedBytes-n.p2pReceivedBytes}return null},getP2PTraffic:function(){var e=0;if("undefined"!=typeof Streamroot){if(Streamroot.p2pAvailable&&Streamroot.peerAgents){for(var t in Streamroot.peerAgents)Streamroot.peerAgents[t].isP2PEnabled&&(e+=Streamroot.peerAgents[t].stats.p2p);return e}if(Streamroot.instances&&0<Streamroot.instances.length)return Streamroot.instances.forEach(function(t){e+=t.stats.currentContent.dnaDownload}),e}return"undefined"!=typeof peer5&&peer5.getStats?peer5.getStats().totalP2PDownloaded:"undefined"!=typeof teltoo&&teltoo.getStats?teltoo.getStats().p2pReceivedBytes:null},getUploadTraffic:function(){var e=0;if("undefined"!=typeof Streamroot){if(Streamroot.p2pAvailable&&Streamroot.peerAgents){for(var t in Streamroot.peerAgents)Streamroot.peerAgents[t].isP2PEnabled&&(e+=Streamroot.peerAgents[t].stats.upload);return e}if(Streamroot.instances&&0<Streamroot.instances.length)return Streamroot.instances.forEach(function(t){e+=t.stats.currentContent.dnaUpload}),e}return"undefined"!=typeof peer5&&peer5.getStats?peer5.getStats().totalP2PUploaded:null},getIsP2PEnabled:function(){var e=!1;if("undefined"!=typeof Streamroot){if(Streamroot.p2pAvailable&&Streamroot.peerAgents){for(var t in Streamroot.peerAgents)e=e||Streamroot.peerAgents[t].isP2PEnabled;return e}if(Streamroot.instances&&0<Streamroot.instances.length)return Streamroot.instances.forEach(function(t){e=e||t.dnaDownloadEnabled||t.dnaUploadEnabled}),e}return"undefined"!=typeof peer5&&peer5.isEnabled?peer5.isEnabled():null}});e.exports=r},{"../object":339}],333:[function(t,e,n){var r=t("../emitter"),i=t("../comm/communication"),o=t("../comm/transform/wrong"),s=r.extend({constructor:function(t){this._plugin=t},andBeyond:function(){s.prototype.begin.apply(this,arguments)},begin:function(t){this._comm=new i(this._plugin),this._comm.addTransform(this._plugin.viewTransform),this._comm.addTransform(new o(this._plugin)),this._plugin&&this._plugin.storage&&"function"==typeof this._plugin.storage.getLocal&&(this._registeredProperties=this._plugin.storage.getLocal("inifnityRegisteredProperties")),!this._plugin.getIsSessionExpired()&&this._plugin.storage.getLocal("infinityStarted")?(this.fireNav(t),this._sendExtraBeat()):this.fireSessionStart(t)},_generateNewContext:function(){var e=null;try{e=btoa((new Date).getTime())}catch(t){e="Default"}this._plugin.storage.setSession("context",e)},_setLastActive:function(){this._firstActive||(this._firstActive=this.getFirstActive()),this._plugin.storage.setStorages("lastactive",(new Date).getTime())},getFirstActive:function(){return Number(this._plugin.getLastActive())||0},getComm:function(){return this._comm},fireSessionStart:function(t){this._plugin.storage.setLocal("infinityStarted","true"),this._plugin.storage.removeLocal("infinityStopped"),this.infinityStarted=!0,this.infinityStopped=!1,this._generateNewContext(),this.emit(s.Event.SESSION_START,this._getParamsJson(t,null,null,!0,!0)),this._setLastActive()},fireSessionStop:function(t){this.infinityStopped=!0,this.emit(s.Event.SESSION_STOP,t),this._plugin.storage.removeStorages("data"),this._plugin.storage.removeStorages("session"),this._plugin.storage.removeStorages("lastactive")},newSession:function(t,e){this.fireSessionStop(),this._plugin.storage.removeLocal("data"),this._plugin.setOptions(t),this._plugin.restartViewTransform(),this.fireSessionStart(e)},fireNav:function(t){this.isActive()&&(this._plugin.getContext()||this._generateNewContext(),this.emit(s.Event.NAV,this._getParamsJson(t,null,null,!0)))},_sendExtraBeat:function(){var t=(new Date).getTime();if(this._plugin&&this._plugin._beat){var e=this._plugin._beat.chrono.startTime?t-this._plugin._beat.chrono.startTime:0;this._plugin._sendBeat(e),this._plugin._beat.chrono.startTime=t}this._setLastActive()},fireEvent:function(t,e,n){this.emit(s.Event.EVENT,this._getParamsJson(e,n,t)),this._setLastActive()},register:function(t,e){this._registeredProperties={dimensions:t,values:e},this._plugin.storage.setLocal("inifnityRegisteredProperties",JSON.stringify(this._registeredProperties))},registerOnce:function(t,e){this._registeredProperties||this.register(t,e)},unregister:function(){this._registeredProperties=null,this._plugin.storage.removeLocal("inifnityRegisteredProperties")},_getParamsJson:function(t,e,n,r,i){var o={};if(n&&(o.name=n),o.dimensions=t||{},o.values=e||{},this._registeredProperties){for(var s in this._registeredProperties.dimensions)o.dimensions[s]=this._registeredProperties.dimensions[s];for(var a in this._registeredProperties.values)o.values[a]=this._registeredProperties.values[a]}var u={params:o};return r&&(u.params.dimensions.page&&(u.params.page=u.params.dimensions.page,delete u.params.dimensions.page),u.params.dimensions.route&&(u.params.route=u.params.dimensions.route,delete u.params.dimensions.route),i||delete u.params.dimensions,delete u.params.values),u},isActive:function(){var t=(new Date).getTime();return null!=this._plugin.storage.getLocal("infinityStarted")&&!this._plugin.storage.getLocal("infinityStopped")||Number(this._plugin.getLastActive())+this._plugin.sessionExpire>t}},{Event:{NAV:"nav",SESSION_START:"sessionStart",SESSION_STOP:"sessionStop",BEAT:"beat",EVENT:"event"}});e.exports=s},{"../comm/communication":305,"../comm/transform/wrong":323,"../emitter":332}],323:[function(t,e,n){var r=t("./transform").extend({isBlocking:function(t){return!t.params.sessionId}});e.exports=r},{"./transform":321}],330:[function(t,e,n){var r=t("./dataextractor"),i=t("../object"),o=t("./md5"),s=i.extend({constructor:function(t){this.plugin=t,this.dataExtractor=new r,this.key=this.getPreviousKey()},generateHashKey:function(){if(!this.key){var t=this.dataExtractor.getAllData();this.key=this._hashFunction(t),this.plugin.storage.setLocal("youboraDeviceUUID",this.key)}},getKey:function(){return this.key||this.generateHashKey(),this.key},_hashFunction:function(t){var e=t;return"string"!=typeof t&&(e=JSON.stringify(t)),o(e)},_reset:function(){this.key=void 0},getPreviousKey:function(){return this.plugin.storage.getLocal("youboraDeviceUUID")}});e.exports=s},{"../object":339,"./dataextractor":329,"./md5":331}],331:[function(t,e,n){e.exports=function(t){function a(t,e){return t<<e|t>>>32-e}function u(t,e){var n,r,i,o,s;return i=2147483648&t,o=2147483648&e,s=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(r=1073741824&e)?2147483648^s^i^o:n|r?1073741824&s?3221225472^s^i^o:1073741824^s^i^o:s^i^o}function e(t,e,n,r,i,o,s){return u(a(t=u(t,u(u(function(t,e,n){return t&e|~t&n}(e,n,r),i),s)),o),e)}function n(t,e,n,r,i,o,s){return u(a(t=u(t,u(u(function(t,e,n){return t&n|e&~n}(e,n,r),i),s)),o),e)}function r(t,e,n,r,i,o,s){return u(a(t=u(t,u(u(function(t,e,n){return t^e^n}(e,n,r),i),s)),o),e)}function i(t,e,n,r,i,o,s){return u(a(t=u(t,u(u(function(t,e,n){return e^(t|~n)}(e,n,r),i),s)),o),e)}function o(t){var e,n="",r="";for(e=0;e<=3;e++)n+=(r="0"+(t>>>8*e&255).toString(16)).substr(r.length-2,2);return n}var s,c,l,f,d,h,p,g,v,m=Array();for(m=function(t){for(var e,n=t.length,r=n+8,i=16*(1+(r-r%64)/64),o=Array(i-1),s=0,a=0;a<n;)s=a%4*8,o[e=(a-a%4)/4]=o[e]|t.charCodeAt(a)<<s,a++;return s=a%4*8,o[e=(a-a%4)/4]=o[e]|128<<s,o[i-2]=n<<3,o[i-1]=n>>>29,o}(t=function(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):(127<r&&r<2048?e+=String.fromCharCode(r>>6|192):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128)),e+=String.fromCharCode(63&r|128))}return e}(t)),h=1732584193,p=4023233417,g=2562383102,v=271733878,s=0;s<m.length;s+=16)p=i(p=i(p=i(p=i(p=r(p=r(p=r(p=r(p=n(p=n(p=n(p=n(p=e(p=e(p=e(p=e(l=p,g=e(f=g,v=e(d=v,h=e(c=h,p,g,v,m[s+0],7,3614090360),p,g,m[s+1],12,3905402710),h,p,m[s+2],17,606105819),v,h,m[s+3],22,3250441966),g=e(g,v=e(v,h=e(h,p,g,v,m[s+4],7,4118548399),p,g,m[s+5],12,1200080426),h,p,m[s+6],17,2821735955),v,h,m[s+7],22,4249261313),g=e(g,v=e(v,h=e(h,p,g,v,m[s+8],7,1770035416),p,g,m[s+9],12,2336552879),h,p,m[s+10],17,4294925233),v,h,m[s+11],22,2304563134),g=e(g,v=e(v,h=e(h,p,g,v,m[s+12],7,1804603682),p,g,m[s+13],12,4254626195),h,p,m[s+14],17,2792965006),v,h,m[s+15],22,1236535329),g=n(g,v=n(v,h=n(h,p,g,v,m[s+1],5,4129170786),p,g,m[s+6],9,3225465664),h,p,m[s+11],14,643717713),v,h,m[s+0],20,3921069994),g=n(g,v=n(v,h=n(h,p,g,v,m[s+5],5,3593408605),p,g,m[s+10],9,38016083),h,p,m[s+15],14,3634488961),v,h,m[s+4],20,3889429448),g=n(g,v=n(v,h=n(h,p,g,v,m[s+9],5,568446438),p,g,m[s+14],9,3275163606),h,p,m[s+3],14,4107603335),v,h,m[s+8],20,1163531501),g=n(g,v=n(v,h=n(h,p,g,v,m[s+13],5,2850285829),p,g,m[s+2],9,4243563512),h,p,m[s+7],14,1735328473),v,h,m[s+12],20,2368359562),g=r(g,v=r(v,h=r(h,p,g,v,m[s+5],4,4294588738),p,g,m[s+8],11,2272392833),h,p,m[s+11],16,1839030562),v,h,m[s+14],23,4259657740),g=r(g,v=r(v,h=r(h,p,g,v,m[s+1],4,2763975236),p,g,m[s+4],11,1272893353),h,p,m[s+7],16,4139469664),v,h,m[s+10],23,3200236656),g=r(g,v=r(v,h=r(h,p,g,v,m[s+13],4,681279174),p,g,m[s+0],11,3936430074),h,p,m[s+3],16,3572445317),v,h,m[s+6],23,76029189),g=r(g,v=r(v,h=r(h,p,g,v,m[s+9],4,3654602809),p,g,m[s+12],11,3873151461),h,p,m[s+15],16,530742520),v,h,m[s+2],23,3299628645),g=i(g,v=i(v,h=i(h,p,g,v,m[s+0],6,4096336452),p,g,m[s+7],10,1126891415),h,p,m[s+14],15,2878612391),v,h,m[s+5],21,4237533241),g=i(g,v=i(v,h=i(h,p,g,v,m[s+12],6,1700485571),p,g,m[s+3],10,2399980690),h,p,m[s+10],15,4293915773),v,h,m[s+1],21,2240044497),g=i(g,v=i(v,h=i(h,p,g,v,m[s+8],6,1873313359),p,g,m[s+15],10,4264355552),h,p,m[s+6],15,2734768916),v,h,m[s+13],21,1309151649),g=i(g,v=i(v,h=i(h,p,g,v,m[s+4],6,4149444226),p,g,m[s+11],10,3174756917),h,p,m[s+2],15,718787259),v,h,m[s+9],21,3951481745),h=u(h,c),p=u(p,l),g=u(g,f),v=u(v,d);return(o(h)+o(p)+o(g)+o(v)).toLowerCase()}},{}],329:[function(t,e,n){var r=t("../object").extend({constructor:function(t){this.plugin=t},getAllData:function(){var t=this.getNonRandomData();return t.timestamp=this.getTimestamp(),t},getNonRandomData:function(){var t={};return t.userAgent=this.getUserAgent(),t.threads=this.getVirtualCores(),t.language=this.getLanguage(),t.langList=this.getAvailableLanguages(),t.resolution=this.getResolution(),t.colorDepth=this.getColorDepth(),t.deviceMemory=this.getMemory(),t.touchscreen=this.getTouchscreen(),t.localStorage=this.getLocalStorage(),t.sessionStorage=this.getSessionStorage(),t.cookiesAvailable=this.getCookiesAvailable(),t.flashAvailable=this.getHasFlash(),t.timeZone=this.getTimeZone(),t.plugins=this.getPluginList(),t},getUserAgent:function(){try{return this._navigatorCheck()?navigator.userAgent:null}catch(t){return null}},getVirtualCores:function(){try{return this._navigatorCheck()?navigator.hardwareConcurrency:null}catch(t){return null}},getLanguage:function(){try{return this._navigatorCheck()?navigator.language:null}catch(t){return null}},getAvailableLanguages:function(){try{return this._navigatorCheck()?navigator.languages:null}catch(t){return null}},getResolution:function(){try{return this._navigatorCheck()&&navigator.screen?navigator.screen.width.toString()+navigator.screen.height.toString():null}catch(t){return null}},getColorDepth:function(){try{return this._navigatorCheck()&&navigator.screen?navigator.screen.colorDepth:null}catch(t){return null}},getMemory:function(){try{return this._navigatorCheck()?navigator.deviceMemory:null}catch(t){return null}},getTouchscreen:function(){try{return this._navigatorCheck()?navigator.maxTouchPoints:null}catch(t){return!1}},getLocalStorage:function(){try{return"undefined"!=typeof localStorage}catch(t){return!1}},getSessionStorage:function(){try{return"undefined"!=typeof sessionStorage}catch(t){return!1}},getCookiesAvailable:function(){try{return!!this._navigatorCheck()&&navigator.cookieEnabled}catch(t){return!1}},getHasFlash:function(){try{return!!this._navigatorCheck()&&(void 0!==navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"]||"undefined"!=typeof window&&window.ActiveXObject&&!1!==new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){return!1}},getPluginList:function(){try{if(!this._navigatorCheck()||!navigator.plugins||0===navigator.plugins.length)return null;for(var t="",e=0;e<navigator.plugins.length;e++)t+=navigator.plugins[e].description+" "+navigator.plugins[e].filename+" "+navigator.plugins[e].name+" ";return t}catch(t){return null}},getTimeZone:function(){try{return(new Date).getTimezoneOffset().toString()}catch(t){return null}},getTimestamp:function(){return(new Date).getTime()},_navigatorCheck:function(){return"undefined"!=typeof navigator}});e.exports=r},{"../object":339}],327:[function(t,e,n){var r=t("../object").extend({constructor:function(){"undefined"!=typeof navigator&&navigator.userAgent&&(this._isSmartTVDevice=navigator.userAgent.toLowerCase().match(/smarttv/)||navigator.userAgent.toLowerCase().match(/smart-tv/)||navigator.userAgent.toLowerCase().match(/appletv/)||navigator.userAgent.toLowerCase().match(/apple tv/),this._isPlaystationDevice=null!==navigator.userAgent.match(/PlayStation/),this._isIphoneDevice=null!==navigator.userAgent.match(/iPhone|iPad|iPod/i),this._isAndroidDevice=null!==navigator.userAgent.match(/Android/),this._isSmartphoneDevice=!this._isSmartTVDevice&&!this._isPlaystationDevice&&(this._isIphoneDevice||this._isAndroidDevice),this._isDesktopDevice=!this._isSmartphoneDevice&&!this._isSmartTVDevice&&!this._isPlaystationDevice)},isIphone:function(){return this._isIphoneDevice},isAndroid:function(){return this._isAndroidDevice},isSmartphone:function(){return this._isSmartphoneDevice},isDesktop:function(){return this._isDesktopDevice},isSmartTV:function(){return this._isSmartTVDevice},isPlayStation:function(){return this._isPlaystationDevice}});e.exports=r},{"../object":339}],325:[function(t,e,n){var r=t("../object").extend({constructor:function(t){this.plugin=t,this.isInBackground=!1,this.listenerReference=this._visibilityListener.bind(this),this._reset()},startDetection:function(){this.isBackgroundDetectorStarted||"undefined"==typeof document||(this.isBackgroundDetectorStarted=!0,document.addEventListener("visibilitychange",this.listenerReference))},stopDetection:function(){this.isBackgroundDetectorStarted&&"undefined"!=typeof document&&(document.removeEventListener("visibilitychange",this.listenerReference),this._reset())},_reset:function(){this.isBackgroundDetectorStarted=!1},_visibilityListener:function(t){if("undefined"!=typeof document){var e=this._getSettings();if("hidden"===document.visibilityState){if(this.isInBackground=!0,this.plugin&&this.plugin._adsAdapter&&this.plugin._adsAdapter.stopChronoView(),"string"==typeof e){switch(e){case"stop":this._fireStop();break;case"pause":this._firePause()}if(null!=this.plugin.storage.getLocal("infinityStarted")&&!this.plugin.storage.getLocal("infinityStopped")){this.lastBeatTime=(new Date).getTime();var n=this.plugin._beat.chrono.startTime?this.lastBeatTime-this.plugin._beat.chrono.startTime:0;this.plugin._sendBeat(n),this.plugin._beat.stop()}}}else if("visible"===document.visibilityState&&(this.isInBackground=!1,this.plugin&&this.plugin._adsAdapter&&this.plugin._adsAdapter.startChronoView(),"string"==typeof e&&e&&null!=this.plugin.storage.getLocal("infinityStarted")&&!this.plugin.storage.getLocal("infinityStopped"))){var r=(new Date).getTime();r-this.lastBeatTime<this.plugin.sessionExpire?(this.plugin._sendBeat(r-this.lastBeatTime),this.plugin._beat.start()):(this.plugin.restartViewTransform(),this.plugin.infinity.begin())}}},_getSettings:function(){return"string"==typeof this.plugin.options["background.settings"]&&this.plugin.options["background.settings"]?this.plugin.options["background.settings"]:this.plugin.deviceDetector.isSmartTV()?this.plugin.options["background.settings.tv"]:this.plugin.deviceDetector.isDesktop()?this.plugin.options["background.settings.desktop"]:this.plugin.deviceDetector.isAndroid()?this.plugin.options["background.settings.android"]:this.plugin.deviceDetector.isIphone()?this.plugin.options["background.settings.iOS"]:this.plugin.deviceDetector.isPlayStation()?this.plugin.options["background.settings.playstation"]:void 0},_firePause:function(){this.adsAdapter=this.plugin.getAdsAdapter(),this.contentAdapter=this.plugin.getAdapter(),this.adsAdapter&&this.adsAdapter.flags.isStarted&&!this.adsAdapter.flags.isEnded?this.adsAdapter.firePause():this.contentAdapter&&this.contentAdapter.flags.isStarted&&!this.contentAdapter.flags.isEnded&&this.contentAdapter.firePause()},_fireStop:function(){this.adsAdapter=this.plugin.getAdsAdapter(),this.contentAdapter=this.plugin.getAdapter(),this.adsAdapter&&this.adsAdapter.flags.isStarted&&!this.adsAdapter.flags.isEnded&&this.adsAdapter.fireStop(),this.plugin.fireStop()},canBlockStartCalls:function(){return this.plugin.backgroundDetector.isInBackground&&!0===this.plugin.options["background.enabled"]&&this.plugin.backgroundDetector._getSettings()}});e.exports=r},{"../object":339}],322:[function(t,e,n){var r=t("../request"),i=t("./transform"),o=t("../../log"),s=t("../../util"),a=t("../../constants"),u=i.extend({constructor:function(t,e){i.prototype.constructor.apply(this,arguments),this.response={},this._viewIndex=(new Date).getTime(),this._session=e,this._httpSecure=t.options["app.https"],this._plugin=t,this.transformName="View"},init:function(){if(this._plugin.options&&this._plugin.options.offline)return this.response.host="OFFLINE",this.response.code="OFFLINE",this.response.pingTime=60,this.response.beatTime=60,this.done(),null;if(this._plugin.storage.isEnabled()&&((new Date).getTime()<this._plugin.sessionExpire+(Number(this._plugin.getDataTime())||0)&&this._plugin.getStoredData()))return this.setData(this._plugin.getStoredData()),null;var t=a.Service.DATA,e={apiVersion:"v7",outputformat:"json"};null!==(e=this._plugin.requestBuilder.buildParams(e,t))&&(o.notice(t+" "+e.system),"nicetest"===e.system&&o.error("No accountCode has been set. Please set your accountCode inside plugin's options."),new r(this._plugin.getHost(),t,e).on(r.Event.SUCCESS,this._receiveData.bind(this)).on(r.Event.ERROR,this._failedData.bind(this)).send())},setData:function(t){try{var e=JSON.parse(t);this._plugin.options["parse.fdsResponseHost"]&&(t=t.replace(e.q.h,this._plugin.options["parse.fdsResponseHost"](e.q.h)),e=JSON.parse(t)),this.response.msg=t,this.response.host=s.addProtocol(e.q.h,this._httpSecure),this.response.code=e.q.c,this.response.pingTime=e.q.pt||5,this.response.beatTime=e.q.i&&e.q.i.bt||30,this.response.sessionExpire=e.q.i&&e.q.i.exp||300,this._plugin.storage.setLocal("sessionExpire",this.response.sessionExpire),this.done()}catch(t){o.error("Fastdata response is invalid.")}},_receiveData:function(t,e){var n=t.getXHR().response;this.setData(n)},_failedData:function(t,e){o.error("Fastdata request has failed.")},nextView:function(){return this._viewIndex=(new Date).getTime(),this.getViewCode()},getViewCode:function(){return this.response.code+"_"+this._viewIndex},getSessionId:function(){return this._session},setSessionId:function(t){this._session=t},getParentIdVideo:function(){return this._session},getSessionRoot:function(){return this._plugin.infinity&&this._plugin.infinity.isActive()?this._session:null},setSessionRoot:function(t){this._session=t},parse:function(t){t.host=t.host||this.response.host,t.params.system=this._plugin.getAccountCode(),t.params.sessionRoot=t.params.sessionRoot||this.getSessionRoot(),-1!==u.EventList.PingTime.indexOf(t.service)&&(t.params.pingTime=t.params.pingTime||this.response.pingTime),a.Service.SESSION_STOP===t.service&&(t.params.sessionRoot=this._session||t.params.sessionRoot),-1===u.EventList.Infinity.indexOf(t.service)?(t.params.code=t.params.code||this.getViewCode(),t.params.sessionRoot||(t.params.sessionRoot=t.params.code)):(t.params.sessionId=t.params.sessionId||this.getSessionId(),t.params.sessionRoot||(t.params.sessionRoot=t.params.sessionId)),-1!==[a.Service.START,a.Service.INIT,a.Service.ERROR].indexOf(t.service)&&(this._plugin.infinity.infinityStarted||this._plugin.storage.isEnabled()&&this._plugin.storage.getLocal("infinityStarted"))&&(t.params.parentId=t.params.parentId||this.getParentIdVideo(),t.params.navContext=t.params.navContext||this._plugin.getContext())}},{EventList:{CreateView:[a.Service.START,a.Service.INIT,a.Service.ERROR],Infinity:[a.Service.NAV,a.Service.SESSION_START,a.Service.SESSION_STOP,a.Service.EVENT,a.Service.BEAT],PingTime:[a.Service.START,a.Service.PING]}});e.exports=u},{"../../constants":324,"../../log":334,"../../util":357,"../request":306,"./transform":321}],309:[function(t,e,n){var r=t("./transform"),i=t("./resourceparsers/hlsparser"),o=t("./resourceparsers/cdnparser"),s=t("./resourceparsers/dashparser"),a=t("./resourceparsers/locationheaderparser"),u=t("../../log"),c=t("../../constants"),l=r.extend({constructor:function(t){l.__super__.constructor.apply(this,arguments),this.isDone=!1,this._plugin=t,this._realResource=null,this._initResource=null,this._cdnName=null,this._cdnNodeHost=null,this._cdnNodeTypeString=null,this._cdnNodeType=null,this._responses={},this._isBusy=!1,this.transformName="Resource"},getResource:function(){var t=this._realResource;return this._plugin&&this._plugin.options&&this._plugin.options["content.resource"]&&!this._plugin.options["parse.locationHeader"]&&!this._plugin.options["parse.hls"]&&!this._plugin.options["parse.dash"]&&(t=this._plugin.options["content.resource"]),t},getCdnName:function(){return this._cdnName},getNodeHost:function(){return this._cdnNodeHost},getNodeTypeString:function(){return this._cdnNodeTypeString},getNodeType:function(){return this._cdnNodeType},init:function(t){this._isBusy||this.isDone||(this._isBusy=!0,this._initResource=t,this._hlsEnabled=this._plugin.isParseHls(),this._cdnEnabled=this._plugin.isParseCdnNode(),this._locHeaderEnabled=this._plugin.isLocHeader(),this._dashEnabled=this._plugin.isDash(),this._cdnList=this._plugin.getParseCdnNodeList().slice(),this._cdnNameHeader=this._plugin.getParseCdnNodeNameHeader(),o.setBalancerHeaderName(this._cdnNameHeader),this._setTimeout(),this._locHeaderEnabled&&this._parseLocHeader(),this._hlsEnabled?this._parseHLS():this._dashEnabled?this._dashParse():this._cdnEnabled?this._parseCDN():this.done())},done:function(){this.isDone=!1,r.prototype.done.apply(this,arguments)},_setTimeout:function(){try{this._parseTimeout=setTimeout(function(){this._isBusy&&(this.done(),u.warn("ResourceTransform has exceded the maximum execution time (3s) and will be aborted."))}.bind(this),3e3)}catch(t){"undefined"!=typeof atv?this._parseTimeout=atv.setTimeout(function(){this._isBusy&&(this.done(),u.warn("ResourceTransform has exceded the maximum execution time (3s) and will be aborted."))}.bind(this),3e3):u.error(t)}},_parseLocHeader:function(){var t=new a;t.parse(this._initResource),t.on(a.Event.DONE,function(){this._realResource=t.getResource(),this.done()}.bind(this))},_parseHLS:function(){var t=new i;t.on(i.Event.DONE,function(){this._realResource=t.getResource(),this._cdnEnabled?this._parseCDN():this.done()}.bind(this)),t.parse(this._initResource)},_dashParse:function(){var t=new s;t.on(s.Event.DONE,function(){this._realResource=t.getResource(),this._cdnEnabled?this._parseCDN():this.done()}.bind(this)),t.parse(this._initResource)},_parseCDN:function(){if(0<this._cdnList.length){var t=this._cdnList.shift();if(this.getNodeHost())return;var e=o.create(t);e?(e.on(o.Event.DONE,function(){this._responses=e.getResponses(),this._cdnName=e.getParsedCdnName(),this._cdnNodeHost=e.getParsedNodeHost(),this._cdnNodeTypeString=e.getParsedNodeTypeString(),this._cdnNodeType=e.getParsedNodeType(),this.getNodeHost()?this.done():this._parseCDN()}.bind(this)),e.parse(this.getResource(),this._responses)):this._parseCDN()}else this.done()},parse:function(t){if(t.service===c.Service.START){var e=this._plugin.requestBuilder.lastSent;e.parsedResource=t.params.parsedResource=this.getResource(),this._cdnEnabled&&(e.cdn=t.params.cdn=t.params.cdn||this.getCdnName(),e.nodeHost=t.params.nodeHost=this.getNodeHost(),e.nodeType=t.params.nodeType=this.getNodeType(),e.nodeTypeString=t.params.nodeTypeString=this.getNodeTypeString())}}});e.exports=l},{"../../constants":324,"../../log":334,"./resourceparsers/cdnparser":310,"./resourceparsers/dashparser":318,"./resourceparsers/hlsparser":319,"./resourceparsers/locationheaderparser":320,"./transform":321}],324:[function(t,e,n){e.exports={Service:{DATA:"/data",INIT:"/init",START:"/start",JOIN:"/joinTime",PAUSE:"/pause",RESUME:"/resume",SEEK:"/seek",BUFFER:"/bufferUnderrun",ERROR:"/error",STOP:"/stop",PING:"/ping",VIDEO_EVENT:"/infinity/video/event",AD_INIT:"/adInit",AD_START:"/adStart",AD_JOIN:"/adJoin",AD_PAUSE:"/adPause",AD_RESUME:"/adResume",AD_BUFFER:"/adBufferUnderrun",AD_STOP:"/adStop",AD_CLICK:"/adClick",AD_ERROR:"/adError",AD_MANIFEST:"/adManifest",AD_POD_START:"/adBreakStart",AD_POD_STOP:"/adBreakStop",AD_QUARTILE:"/adQuartile",EVENT:"/infinity/session/event",SESSION_START:"/infinity/session/start",SESSION_STOP:"/infinity/session/stop",NAV:"/infinity/session/nav",BEAT:"/infinity/session/beat",OFFLINE_EVENTS:"/offlineEvents"},WillSendEvent:{WILL_SEND_INIT:"will-send-init",WILL_SEND_START:"will-send-start",WILL_SEND_JOIN:"will-send-join",WILL_SEND_PAUSE:"will-send-pause",WILL_SEND_RESUME:"will-send-resume",WILL_SEND_SEEK:"will-send-seek",WILL_SEND_BUFFER:"will-send-buffer",WILL_SEND_ERROR:"will-send-error",WILL_SEND_FATAL_ERROR:"will-send-fatal-error",WILL_SEND_STOP:"will-send-stop",WILL_SEND_PING:"will-send-ping",WILL_SEND_VIDEO_EVENT:"will-send-video-event",WILL_SEND_AD_START:"will-send-ad-start",WILL_SEND_AD_JOIN:"will-send-ad-join",WILL_SEND_AD_PAUSE:"will-send-ad-pause",WILL_SEND_AD_RESUME:"will-send-ad-resume",WILL_SEND_AD_BUFFER:"will-send-ad-buffer",WILL_SEND_AD_STOP:"will-send-ad-stop",WILL_SEND_AD_CLICK:"will-send-ad-click",WILL_SEND_AD_ERROR:"will-send-ad-error",WILL_SEND_AD_MANIFEST:"will-send-ad-manifest",WILL_SEND_AD_POD_START:"will-send-ad-break-start",WILL_SEND_AD_POD_STOP:"will-send-ad-break-stop",WILL_SEND_AD_QUARTILE:"will-send-ad-quartile",WILL_SEND_SESSION_START:"will-send-session-start",WILL_SEND_SESSION_STOP:"will-send-session-stop",WILL_SEND_NAV:"will-send-nav",WILL_SEND_BEAT:"will-send-beat",WILL_SEND_EVENT:"will-send-event",WILL_SEND_OFFLINE_EVENTS:"will-send-offline-events"},AdPosition:{Preroll:"pre",Midroll:"mid",Postroll:"post"},ManifestError:{NO_RESPONSE:"NO_RESPONSE",EMPTY:"EMPTY_RESPONSE",WRONG:"WRONG_RESPONSE"}}},{}],320:[function(t,e,n){var r=t("../../../emitter"),i=t("../../request"),o=r.extend({constructor:function(){this._realResource=null},done:function(){this.emit(o.Event.DONE)},parse:function(t){var e=new i(t,null,null,{method:"HEAD",maxRetries:0,requestHeaders:{},cache:!0});e.on(i.Event.SUCCESS,function(t){this._realResource=t.getXHR().responseURL,this.done()}.bind(this)),e.on(i.Event.ERROR,function(t){this.done()}.bind(this)),e.send()},getResource:function(){return this._realResource}},{Event:{DONE:"done"}});e.exports=o},{"../../../emitter":332,"../../request":306}],319:[function(t,e,n){var a=t("../../request"),r=t("../../../emitter"),u=t("../../../log"),i=r.extend({constructor:function(){this._realResource=null},done:function(){this.emit(i.Event.DONE)},parse:function(t,e){e=e||"";try{var n=/((\S*?)(\.m3u8|\.m3u|\.ts|\.mp4)((\?|;)\S*|\n|\r|$))/i.exec(t)}catch(t){u.warn("Parse HLS Regex failed",t),this.done()}if(null!==n){var r=n[1].trim(),i="",o=e.lastIndexOf("/");if(0!==r.indexOf("http")&&-1!==o&&(r=e.slice(0,o)+"/"+r,i=e.slice(0,o)+"/"),".m3u8"===n[3]||".m3u"===n[3]){var s=new a(r,null,null,{cache:!0});s.on(a.Event.SUCCESS,function(t){this.parse(t.getXHR().responseText,i+n[2])}.bind(this)),s.on(a.Event.ERROR,function(t){this.done()}.bind(this)),s.send()}else this._realResource=r,this.done()}else this.done()},getResource:function(){return this._realResource}},{Event:{DONE:"done"}});e.exports=i},{"../../../emitter":332,"../../../log":334,"../../request":306}],318:[function(t,e,n){var o=t("../../request"),r=t("../../../emitter"),s=t("../../../log"),i=r.extend({constructor:function(){this._realResource=null},done:function(){this.emit(i.Event.DONE)},parse:function(n){var t=new o(n,null,null,{cache:!0}),r=new RegExp(/.*<Location>(.+)<\/Location>.*/),i=null;t.on(o.Event.SUCCESS,function(t){try{var e=t.getXHR().responseText;(i=r.exec(e))&&i[1]?this.parse(i[1]):this.parseFinalResource(e,n)}catch(t){s.warn("Dash parse failed")}}.bind(this)),t.on(o.Event.ERROR,function(t){this.done()}.bind(this)),t.send()},parseFinalResource:function(t,e){var n=new RegExp(/[\s\S]*<BaseURL>(.+)<\/BaseURL>[\s\S]*/),r=new RegExp(/[\s\S]*<SegmentURL[\s\S]*media="(.+)"[\s\S]*/),i=new RegExp(/[\s\S]*<SegmentTemplate[\s\S]*media="(.+)"[\s\S]*/),o=null;try{o=n.exec(t)||i.exec(t)||r.exec(t)}catch(t){s.warn("Dash manifest parse failed")}o&&o[1]&&this._isFullUrl(o[1])?0<o[1].indexOf('"')?this._realResource=o[1].substr(0,o[1].indexOf('"')):this._realResource=o[1]:this._realResource=e,this.done()},_isFullUrl:function(t){return-1!==t.indexOf("http")},getResource:function(){return this._realResource}},{Event:{DONE:"done"}});e.exports=i},{"../../../emitter":332,"../../../log":334,"../../request":306}],310:[function(t,e,n){var r=t("../../../emitter"),i=t("../../../log"),o=t("../../../util"),s=t("../../request"),a=r.extend({constructor:function(t){this._options=o.assign({cdnName:null,parsers:[],requestMethod:"HEAD",requestHeaders:{},parseType:function(){return 0}},t),this._responses={}},done:function(){this.emit(a.Event.DONE)},addParser:function(t){return this._options.parsers.push(t),this},setCdnName:function(t){return this._options.cdnName=t,this},setRequestMethod:function(t){return this._options.requestMethod=t,this},setRequestHeader:function(t,e){return this._options.requestHeaders[t]=e,this},setParseType:function(t){return this._options.parseType=t,this},getParsedCdnName:function(){return this._cdnName},getParsedNodeHost:function(){return this._cdnNodeHost},getParsedNodeTypeString:function(){return this._cdnNodeTypeString},getParsedNodeType:function(){return this._cdnNodeType},getResponses:function(){return this._responses},parse:function(t,e){this._responses=e||{};var n=JSON.stringify(this._options.requestHeaders);this._responses[n]?this._parseResponse(this._responses[n]):this._requestResponse(t)},_requestResponse:function(t){var e=JSON.stringify(this._options.requestHeaders),n=new s(t,null,null,{method:this._options.requestMethod,maxRetries:0,requestHeaders:this._options.requestHeaders});n.on(s.Event.SUCCESS,function(t){this._responses[e]=t.getXHR().getAllResponseHeaders(),this._parseResponse(this._responses[e])}.bind(this)),n.on(s.Event.ERROR,function(t){this.done()}.bind(this)),n.send()},_parseResponse:function(t){this._options.parsers.forEach(function(n){t.split("\n").forEach(function(t){var e=t.indexOf(":");-1!==e&&t.slice(0,e)===n.headerName&&this._executeParser(n,t.slice(e+1))}.bind(this))}.bind(this)),this.done()},_executeParser:function(t,e){try{var n=t.regex.exec(e.trim());if(null!==n)switch(this._options.cdnName&&(this._cdnName=this._options.cdnName),t.element){case a.ElementType.HOST:this._cdnNodeHost=n[1];break;case a.ElementType.TYPE:this._cdnNodeTypeString=n[1],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString);break;case a.ElementType.HOST_AND_TYPE:this._cdnNodeHost=n[1],this._cdnNodeTypeString=n[2],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString);break;case a.ElementType.TYPE_AND_HOST:this._cdnNodeTypeString=n[1],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString),this._cdnNodeHost=n[2];break;case a.ElementType.NAME:this._cdnName=n[1].toUpperCase()}}catch(t){i.warn("CDN parsing for "+this._options.cdnName+" could not parse header value "+e)}}},{Event:{DONE:"done"},ElementType:{HOST:"host",TYPE:"type",HOST_AND_TYPE:"host+type",TYPE_AND_HOST:"type+host",NAME:"name"},_cdnConfigs:{},setBalancerHeaderName:function(t){a._cdnConfigs.Balancer.parsers[0].headerName=t},create:function(t){if(a._cdnConfigs[t])return new a(a._cdnConfigs[t]);i.warn("Tried to create an unexisting CdnParser named "+t)},add:function(t,e){a._cdnConfigs[t]=e}});a.add("Level3",t("./cdnparsers/level3")),a.add("Cloudfront",t("./cdnparsers/cloudfront")),a.add("Akamai",t("./cdnparsers/akamai")),a.add("Highwinds",t("./cdnparsers/highwinds")),a.add("Fastly",t("./cdnparsers/fastly")),a.add("Telefonica",t("./cdnparsers/telefonica")),a.add("Balancer",t("./cdnparsers/balancer")),e.exports=a},{"../../../emitter":332,"../../../log":334,"../../../util":357,"../../request":306,"./cdnparsers/akamai":311,"./cdnparsers/balancer":312,"./cdnparsers/cloudfront":313,"./cdnparsers/fastly":314,"./cdnparsers/highwinds":315,"./cdnparsers/level3":316,"./cdnparsers/telefonica":317}],317:[function(t,e,n){e.exports={cdnName:"TELEFO",parsers:[{element:"host+type",headerName:"x-tcdn",regex:/Host:(.+)\sType:(.+)/}],requestHeaders:{"x-tcdn":"host"},parseType:function(t){if(t){if(-1!==t.indexOf("p")||-1!==t.indexOf("c"))return 1;if(-1!==t.indexOf("i")||-1!==t.indexOf("m"))return 2}return 0}}},{}],316:[function(t,e,n){e.exports={cdnName:"LEVEL3",parsers:[{element:"host+type",headerName:"X-WR-Diag",regex:/Host:(.+)\sType:(.+)/}],requestHeaders:{"X-WR-Diag":"host"},parseType:function(t){if(t){if(0===t.indexOf("TCP_HIT")||0===t.indexOf("TCP_MEM_HIT")||0===t.indexOf("TCP_IMS_HIT"))return 1;if(0===t.indexOf("TCP_MISS"))return 2}return 0}}},{}],315:[function(t,e,n){e.exports={cdnName:"HIGHNEGR",parsers:[{element:"host+type",headerName:"X-HW",regex:/.+,[0-9]+\.(.+)\.(.+)/}],parseType:function(t){switch(t){case"c":case"x":return 1;default:return 2}}}},{}],314:[function(t,e,n){e.exports={cdnName:"FASTLY",parsers:[{element:"host",headerName:"X-Served-By",regex:/([^,\s]+)$/},{element:"type",headerName:"X-Cache",regex:/([^,\s]+)$/}],parseType:function(t){switch(t){case"HIT":return 1;case"MISS":return 2;default:return 0}}}},{}],313:[function(t,e,n){e.exports={cdnName:"CLOUDFRT",parsers:[{element:"host",headerName:"X-Amz-Cf-Id",regex:/(.+)/},{element:"type",headerName:"X-Cache",regex:/(\S+)\s.+/}],parseType:function(t){switch(t){case"Hit":return 1;case"Miss":return 2;default:return 0}}}},{}],312:[function(t,e,n){e.exports={parsers:[{element:"name",headerName:null,regex:/(.+)/}]}},{}],311:[function(t,e,n){e.exports={cdnName:"AKAMAI",requestMethod:"GET",parsers:[{element:"type+host",headerName:"X-Cache",regex:/(.+)\sfrom.+AkamaiGHost\/(.+)\).+/}],requestHeaders:{Pragma:"akamai-x-cache-on"},parseType:function(t){return-1!==t.indexOf("HIT")?1:-1!==t.indexOf("MISS")?2:0}}},{}],308:[function(t,e,n){var r=t("./transform"),i=r.extend({constructor:function(t,e){this._sendRequest=!1,this._isBusy=!1,this.plugin=t,this.session=e,this.transformName="Offline"},parse:function(t){t&&this.plugin.offlineStorage.addEvent(t.service,t.params)},hasToSend:function(t){return!1},getState:function(){return r.STATE_OFFLINE}});e.exports=i},{"./transform":321}],305:[function(t,e,n){var r=t("../object"),i=t("../log"),o=t("./request"),s=t("./transform/transform"),a=r.extend({constructor:function(t){this.transforms=[],this.pluginRef=t,this._requests=[]},sendRequest:function(t,e,n){t&&("function"==typeof e&&t.on(o.Event.SUCCESS,e,n),this._registerRequest(t))},buildRequest:function(t,e,n,r){var i=new o(t,e,n=n||{});"function"==typeof r&&i.on(o.Event.SUCCESS,r),this._registerRequest(i)},addTransform:function(t){t.parse&&t.isBlocking?(this.transforms.push(t),t.on(s.Event.DONE,this._processRequests.bind(this))):i.warn(t+" is not a valid RequestTransform.")},removeTransform:function(t){var e=this.transforms.indexOf(t);-1!==e?this.transforms.splice(e,1):i.warn("Trying to remove unexisting Transform '"+t+"'.")},_registerRequest:function(t){this._requests.push(t),this._processRequests()},_processRequests:function(){var t=this._requests;this._requests=[];for(var e=[];t.length;){var n=t.shift(),r=this._transform(n);r===s.STATE_NO_BLOCKED?(this.pluginRef&&(n.host=this.pluginRef.getHost()),n.send()):r===s.STATE_BLOCKED&&e.push(n)}for(;e.length;)this._requests.push(e.shift())},_transform:function(e){var n=s.STATE_NO_BLOCKED;return this.transforms.forEach(function(t){t.isBlocking(e)?n=s.STATE_BLOCKED:(t.parse(e),t.getState()===s.STATE_OFFLINE&&(n=s.STATE_OFFLINE))}),n}});e.exports=a},{"../log":334,"../object":339,"./request":306,"./transform/transform":321}],321:[function(t,e,n){var r=t("../../emitter").extend({constructor:function(){this._isBusy=!0,this._sendRequest=!0,this.transformName="Transform"},parse:function(t){},isBlocking:function(t){return this._isBusy},done:function(){this._isBusy=!1,this.emit(r.Event.DONE)},hasToSend:function(t){return this._sendRequest},getState:function(){return this._sendRequest?this._isBusy?this.STATE_BLOCKED:this.STATE_NO_BLOCKED:this.STATE_OFFLINE}},{STATE_OFFLINE:2,STATE_BLOCKED:1,STATE_NO_BLOCKED:0,Event:{DONE:"done"}});e.exports=r},{"../../emitter":332}],306:[function(t,e,n){var r=t("../object"),i=t("../log"),o=t("../util"),s=r.extend({constructor:function(t,e,n,r){this.xhr=this.createXHR(),this.host=t||"",this.service=e||"",this.params=n||{},this.options=o.assign({},s.defaultOptions,r),this.retries=0,this.options.cache||this.setParam("timemark",(new Date).getTime())},createXHR:function(){var t={};try{t=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}catch(t){i.error(t)}return t},getXHR:function(){return this.xhr},getUrl:function(){return this.host+this.service+this.getParamString()},on:function(t,e,n){return this.xhr.addEventListener?this.xhr.addEventListener(t,e.bind(this,this,n)):t===s.Event.SUCCESS&&(this.xhr.onreadystatechange=function(){4===this.xhr.readyState&&e.bind(this,this,n)}.bind(this)),this},off:function(t,e){return this.xhr.removeEventListener(t,e),this},getParamString:function(){try{var t="?";for(var e in this.params){var n=this.params[e];if(null!==n&&"object"==typeof n){var r=JSON.stringify(n);"{}"!==r&&(t+=encodeURIComponent(e)+"="+encodeURIComponent(r)+"&")}else null!=n&&""!==n&&(t+=encodeURIComponent(e)+"="+encodeURIComponent(n)+"&")}return t.slice(0,-1)}catch(t){return i.error(t),""}},getParam:function(t){return this.params[t]},setParam:function(t,e){return this.params[t]=e,this},setBody:function(t){this.body=t},send:function(){try{if(this.xhr.open(this.options.method,this.getUrl(),!0),this.options.requestHeaders)for(var t in this.options.requestHeaders)this.options.requestHeaders.hasOwnProperty(t)&&this.xhr.setRequestHeader(t,this.options.requestHeaders[t]);if(0<this.options.retryAfter&&0<this.options.maxRetries){0===this.retries&&this.on(s.Event.ERROR,function(){if(this.retries>=this.options.maxRetries)i.error('Aborting failed request "'+this.service+'". Max retries reached.');else{i.warn('YBRequest "'+this.service+'" failed. Retry '+(this.retries+1)+" of "+this.options.maxRetries+" in "+this.options.retryAfter+"ms.");try{setTimeout(function(){this.retries+=1,this.send()}.bind(this),this.options.retryAfter)}catch(t){"undefined"!=typeof atv?atv.setTimeout(function(){this.retries+=1,this.send()}.bind(this),this.options.retryAfter):i.error(t)}}}.bind(this))}for(var e in i.logLevel<=i.Level.VERBOSE&&i.verbose("XHR Req: "+this.getUrl()),s._globalListeners)s._globalListeners[e].forEach(function(t){this.on(e,t)}.bind(this));return this.xhr.send(this.body)}catch(t){i.error(t)}}},{Event:{SUCCESS:"load",LOAD:"load",ERROR:"error",ABORT:"abort"},defaultOptions:{method:"GET",requestHeaders:{},maxRetries:3,retryAfter:5e3,cache:!1},_globalListeners:{},onEvery:function(t,e){s._globalListeners[t]=s._globalListeners[t]||[],s._globalListeners[t].push(e)},offEvery:function(t,e){if(s._globalListeners[t]){var n=s._globalListeners[t].indexOf(e);-1!==n&&s._globalListeners[t].splice(n,1)}}});e.exports=s},{"../log":334,"../object":339,"../util":357}],300:[function(t,e,n){var r=t("../emitter"),i=t("../log"),o=t("../util"),s=t("../version"),a=t("./playbackchronos"),u=t("./playbackflags"),c=t("./playheadmonitor"),l=t("../chrono"),f=r.extend({constructor:function(t){this.flags=new u,this.chronos=new a,this.monitor=null,this.plugin=null,this.player=null,this.setPlayer(t),this.tag=this.player,i.notice("Adapter "+this.getVersion()+" with Lib "+s+" is ready.")},setPlayer:function(t){this.player&&this.unregisterListeners(),"string"==typeof t&&"undefined"!=typeof document?this.player=document.getElementById(t):this.player=t,this.registerListeners()},registerListeners:function(){},unregisterListeners:function(){},dispose:function(){this.monitor&&this.monitor.stop(),this.fireStop(),this.unregisterListeners(),this.player=null,this.tag=null},monitorPlayhead:function(t,e,n){this.stopMonitor();var r=0;t&&(r|=c.Type.BUFFER),e&&(r|=c.Type.SEEK),this.monitor&&this.monitor._timer.isRunning?this.monitor.skipNextTick():this.monitor=new c(this,r,n)},stopMonitor:function(){this.monitor&&this.monitor.stop()},getPlayhead:function(){return null},getPlayrate:function(){return this.flags.isPaused?0:1},getFramesPerSecond:function(){return null},getDroppedFrames:function(){return null},getDuration:function(){return null},getBitrate:function(){return null},getThroughput:function(){return null},getRendition:function(){return null},getTitle:function(){return null},getTitle2:function(){return null},getIsLive:function(){return null},getResource:function(){return null},getPlayerVersion:function(){return null},getPlayerName:function(){return null},getVersion:function(){return s+"-generic-js"},getCdnTraffic:function(){return null},getP2PTraffic:function(){return null},getUploadTraffic:function(){return null},getIsP2PEnabled:function(){return null},getHouseholdId:function(){return null},getLatency:function(){return null},getPacketLoss:function(){return null},getPacketSent:function(){return null},getMetrics:function(){return null},getPosition:function(){return null},getGivenBreaks:function(){return null},getExpectedBreaks:function(){return null},getExpectedPattern:function(){return null},getBreaksTime:function(){return null},getGivenAds:function(){return null},getExpectedAds:function(){return null},getIsVisible:function(){return!0},getAudioEnabled:function(){return null},getIsSkippable:function(){return null},getIsFullscreen:function(){return null},getCampaign:function(){return null},getCreativeId:function(){return null},getProvider:function(){return null},fireInit:function(t){this.plugin&&this.plugin.fireInit()},fireStart:function(t){if(this.plugin&&this.plugin.backgroundDetector&&this.plugin.backgroundDetector.canBlockStartCalls())return null;this.flags.isStarted||(this.flags.isStarted=!0,this.chronos.total.start(),this.chronos.join.start(),this.emit(f.Event.START,{params:t}))},fireJoin:function(t){this.flags.isJoined||this.flags.isStarted||this._isAds()||!this.plugin||!this.plugin.isInitiated||this.fireStart(),this.flags.isStarted&&!this.flags.isJoined&&(this.flags.isStarted=!0,this.monitor&&this.monitor.start(),this.flags.isJoined=!0,this.chronos.join.stop(),this.emit(f.Event.JOIN,{params:t}))},firePause:function(t){this.flags.isBuffering&&this.fireBufferEnd(),this.flags.isJoined&&!this.flags.isPaused&&(this.flags.isPaused=!0,this.chronos.pause.start(),this.emit(f.Event.PAUSE,{params:t}))},fireResume:function(t){this.flags.isJoined&&this.flags.isPaused&&(this.flags.isPaused=!1,this.chronos.pause.stop(),this.monitor&&this.monitor.skipNextTick(),this.emit(f.Event.RESUME,{params:t}))},fireBufferBegin:function(t,e){if(this.flags.isJoined&&!this.flags.isBuffering){if(this.flags.isSeeking){if(!e)return;i.notice("Converting current buffer to seek"),this.chronos.buffer=this.chronos.seek.clone(),this.chronos.seek.reset(),this.flags.isSeeking=!1}else this.chronos.buffer.start();this.flags.isBuffering=!0,this.emit(f.Event.BUFFER_BEGIN,{params:t})}},fireBufferEnd:function(t){this.flags.isJoined&&this.flags.isBuffering&&(this.flags.isBuffering=!1,this.chronos.buffer.stop(),this.monitor&&this.monitor.skipNextTick(),this.emit(f.Event.BUFFER_END,{params:t}))},cancelBuffer:function(t){this.flags.isJoined&&this.flags.isBuffering&&(this.flags.isBuffering=!1,this.chronos.buffer.stop(),this.monitor&&this.monitor.skipNextTick())},fireSeekBegin:function(t,e){if(this.plugin&&this.plugin.getIsLive()&&this.plugin.options["content.isLive.noSeek"])return null;if(this.flags.isJoined&&!this.flags.isSeeking){if(this.flags.isBuffering){if(!1===e)return;i.notice("Converting current buffer to seek"),this.chronos.seek=this.chronos.buffer.clone(),this.chronos.buffer.reset(),this.flags.isBuffering=!1}else this.chronos.seek.start();this.flags.isSeeking=!0,this.emit(f.Event.SEEK_BEGIN,{params:t})}},fireSeekEnd:function(t){if(this.plugin&&this.plugin.getIsLive()&&this.plugin.options["content.isLive.noSeek"])return null;this.flags.isJoined&&this.flags.isSeeking&&(this.flags.isSeeking=!1,this.chronos.seek.stop(),this.monitor&&this.monitor.skipNextTick(),this.emit(f.Event.SEEK_END,{params:t}))},cancelSeek:function(t){this.flags.isJoined&&this.flags.isSeeking&&(this.flags.isSeeking=!1,this.chronos.seek.stop(),this.monitor&&this.monitor.skipNextTick())},fireStop:function(t){(this._isAds()||this.plugin&&this.plugin._isStopReady())&&(this._isAds()&&this.flags.isStarted||!this._isAds()&&(this.flags.isStarted||this.plugin&&this.plugin.isInitiated))&&(this.monitor&&this.monitor.stop(),this.flags.reset(),this.chronos.total.stop(),this.chronos.join.reset(),this.chronos.pause.stop(),this.chronos.buffer.stop(),this.chronos.seek.stop(),this.emit(f.Event.STOP,{params:t}),this.chronos.pause.reset(),this.chronos.buffer.reset(),this.chronos.seek.reset(),this.chronos.viewedMax.splice(0,this.chronos.viewedMax.length))},_isAds:function(){return!!this.getPosition()},fireCasted:function(t){(t=t||{}).casted=!0,this.fireStop(t)},fireError:function(t,e,n,r){var i=o.buildErrorParams(t,e,n,r);i.code&&delete i.code,this.emit(f.Event.ERROR,{params:i})},fireFatalError:function(t,e,n,r){this.monitor&&this.monitor.stop(),this.fireError(t,e,n,r),this.fireStop()},fireClick:function(t){"string"==typeof t&&(t={url:t}),this.emit(f.Event.CLICK,{params:t})},fireQuartile:function(t){this.flags.isStarted&&"number"==typeof t&&t>this.flags.lastQuartileSent&&t<4&&(this.flags.lastQuartileSent++,this.emit(f.Event.QUARTILE,{params:{quartile:t}}))},startChronoView:function(){this.getIsVisible()&&!this.plugin.backgroundDetector.isInBackground&&(0!==this.chronos.viewedMax.length&&0===this.chronos.viewedMax[this.chronos.viewedMax.length-1].stopTime||(this.chronos.viewedMax.push(new l),this.chronos.viewedMax[this.chronos.viewedMax.length-1].start()))},stopChronoView:function(){this.chronos.viewedMax[0]&&0<this.chronos.viewedMax.length&&0===this.chronos.viewedMax[this.chronos.viewedMax.length-1].stopTime&&this.chronos.viewedMax[this.chronos.viewedMax.length-1].stop()},fireManifest:function(t,e){"string"==typeof t?this.emit(f.Event.MANIFEST,{params:{errorType:t,errorMessage:e}}):this.emit(f.Event.MANIFEST,{params:t})},fireSkip:function(t){void 0===t&&(t={}),t.skipped=!0,this.fireStop(t)},fireBreakStart:function(t){this.plugin.isBreakStarted||(this.plugin.isBreakStarted=!0,this.emit(f.Event.PODSTART,{params:t}))},fireBreakStop:function(t){this.plugin.isBreakStarted&&(this.emit(f.Event.PODSTOP,{params:t}),this.plugin.isBreakStarted=!1)},fireEvent:function(t,e,n){var r={};r.name=t||"",r.dimensions=e||{},r.values=n||{},this.emit(f.Event.VIDEO_EVENT,{params:r})}},{Event:{START:"start",JOIN:"join",PAUSE:"pause",RESUME:"resume",SEEK_BEGIN:"seek-begin",SEEK_END:"seek-end",BUFFER_BEGIN:"buffer-begin",BUFFER_END:"buffer-end",ERROR:"error",STOP:"stop",CLICK:"click",MANIFEST:"manifest",PODSTART:"break-start",PODSTOP:"break-stop",QUARTILE:"quartile",VIDEO_EVENT:"video-event"}});e.exports=f},{"../chrono":304,"../emitter":332,"../log":334,"../util":357,"../version":358,"./playbackchronos":301,"./playbackflags":302,"./playheadmonitor":303}],358:[function(t,e,n){e.exports=t("../manifest.json").version},{"../manifest.json":299}],299:[function(t,e,n){e.exports={name:"youboralib",type:"lib",tech:"js",author:"Jordi Aguilar",version:"6.5.20",built:"2019-11-20",repo:"https://bitbucket.org/npaw/lib-plugin-js.git"}},{}],357:[function(t,e,n){var o=t("./log"),r={stripProtocol:function(t){var e=t;try{e=t.replace(/^(.*?:\/\/|\/\/)/i,"")}catch(t){o.warn(t)}return e},addProtocol:function(t,e){var n="http://localhost/";try{n="http://"+t,e||"undefined"!=typeof window&&0===window.location.protocol.indexOf("https")?n="https://"+t:"undefined"!=typeof window&&0===window.location.protocol.indexOf("http")&&(n="//"+t)}catch(t){o.warn(t)}return n},parseNumber:function(t,e){return!isNaN(t)&&0<=t&&t!==1/0&&t!==-1/0&&null!=t?t:e},logAllEvents:function(t,e,n){try{if(o.logLevel<=o.Level.DEBUG){n=n||function(t){o.debug("Event: "+t.type)};var r=["canplay","buffering","waiting","ended","play","playing","pause","resume","error","abort","seek","seeking","seeked","stalled","dispose","loadeddata","loadstart"];e&&(r=null===e[0]?(e.shift(),e):r.concat(e));for(var i=0;i<r.length;i++)"function"==typeof t?t.call(window,r[i],n):t.on?t.on(r[i],n):t.addEventListener&&t.addEventListener(r[i],n)}}catch(t){o.error(t)}},buildRenditionString:function(t,e,n){1===arguments.length&&(n=t,e=t=null);var r="";return t&&e&&(r=t+"x"+e),"number"!=typeof n||isNaN(n)||n<1?r:(r&&(r+="@"),(r+=n<1e3?Math.round(n)+"bps":n<1e6?(n=Math.round(n/1e3))+"Kbps":(n=Math.round(n/1e4)/100)+"Mbps")||null)},buildErrorParams:function(t,e,n,r){var i={};return"object"==typeof t?i=t:(i.errorCode=t||"FAILURE",i.msg=e||i.errorCode,i.errorMetadata=n,i.errorLevel=r),i},calculateAdViewability:function(t,e){var n=!0;if("undefined"!=typeof window&&t){var r=t.getBoundingClientRect();if(r.top>=window.innerHeight||r.bottom<=0||r.right<=0||r.left>=window.innerWidth)n=!1;else{var i=Math.trunc(r.height*r.width),o=0<r.top?r.top:0,s=r.bottom>window.innerHeight?window.innerHeight:r.bottom,a=0<r.left?r.left:0;n=i*(e||50)<100*(((r.right>window.innerWidth?window.innerWidth:r.right)-a)*(s-o))}}return n},assign:t("./mixins/assign"),isArray:t("./mixins/isarray")};e.exports=r},{"./log":334,"./mixins/assign":335,"./mixins/isarray":337}],334:[function(t,e,n){var r=t("./emitter"),s=t("./mixins/isarray"),a={_emitter:new r,on:function(){a._emitter.on.apply(a._emitter,arguments)},off:function(){a._emitter.off.apply(a._emitter,arguments)},emit:function(){a._emitter.emit.apply(a._emitter,arguments)},Level:{SILENT:6,ERROR:5,WARNING:4,NOTICE:3,DEBUG:2,VERBOSE:1},Event:{LOG:"log"},logLevel:5,plainLogs:!1,report:function(t,e,n){if("undefined"!=typeof console&&console.log&&"undefined"!=typeof document){n=n||"darkcyan";var r,i={5:"e",4:"w",3:"n",2:"d",1:"v"}[e=e||a.Level.NOTICE],o="[Youbora]"+a._getCurrentTime()+" "+i+":";if(this.emit("log",{level:e,msg:t,prefix:o}),a.logLevel<=e)if(a.plainLogs||document.documentMode)a._plainReport(t,o);else r=e===a.Level.ERROR&&console.error?console.error:e===a.Level.WARNING&&console.warn?console.warn:e===a.Level.DEBUG&&console.debug?console.debug:console.log,o="%c"+o,s(t)?(t.splice(0,0,o,"color: "+n),r.apply(console,t)):r.call(console,o,"color: "+n,t)}},_getCurrentTime:function(){var t=new Date;return"["+("0"+t.getDate()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+"."+("00"+t.getMilliseconds()).slice(-3)+"]"},_plainReport:function(t,e){if(t instanceof Array)for(var n in t)a._plainReport(t[n],e);else"string"==typeof t?console.log(e+" "+t):(console.log(e+" <next line>"),console.log(t))},error:function(){a.report([].slice.call(arguments),a.Level.ERROR,"darkred")},warn:function(){a.report([].slice.call(arguments),a.Level.WARNING,"darkorange")},notice:function(){a.report([].slice.call(arguments),a.Level.NOTICE,"darkgreen")},debug:function(){a.report([].slice.call(arguments),a.Level.DEBUG,"indigo")},verbose:function(){a.report([].slice.call(arguments),a.Level.VERBOSE,"navy")},loadLevelFromUrl:function(){if("undefined"!=typeof window&&window.location&&window.location.search){var t=/\?.*&*youbora-debug=(.+)/i.exec(window.location.search);null!==t&&(a.logLevel=t[1]),null!==/\?.*&*youbora-debug=plain/i.exec(window.location.search)&&(a.plainLogs=!0)}}};e.exports=a},{"./emitter":332,"./mixins/isarray":337}],332:[function(t,e,n){var r=t("./object"),i=t("./mixins/isarray"),o=r.extend({on:function(t,e){if(this._listeners=this._listeners||{},"function"==typeof e)return this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(e),this},off:function(t,e){if(this._listeners=this._listeners||{},this._listeners[t]){var n=this._listeners[t].indexOf(e);-1!==n&&this._listeners[t].splice(n,1)}return this},emit:function(t,e){return this._listeners=this._listeners||{},e=e||{},i(this._listeners[t])&&this._listeners[t].forEach(this._eachCallback.bind(this,t,e)),i(this._listeners["*"])&&this._listeners["*"].forEach(this._eachCallback.bind(this,t,e)),this},_eachCallback:function(t,e,n){"function"==typeof n&&n({type:t,data:e,target:this})}});e.exports=o},{"./mixins/isarray":337,"./object":339}],337:[function(t,e,n){e.exports=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],303:[function(t,e,n){var r=t("../object"),i=t("../timer"),o=t("../chrono"),s=r.extend({constructor:function(t,e,n){this._adapter=t,this._seekEnabled=e&s.Type.SEEK,this._bufferEnabled=e&s.Type.BUFFER,n=n||800,this._chrono=new o,(this._lastPlayhead=0)<n&&(this._timer=new i(this.progress.bind(this),n))},start:function(){this.stop(),this._timer.start()},stop:function(){this._lastPlayhead=0,this._timer&&this._timer.stop()},skipNextTick:function(){this._lastPlayhead=0},progress:function(){var t=this._chrono.stop();this._chrono.start();var e=t*s.kBUFFER_THRESHOLD_RATIO,n=t*s.kSEEK_THRESHOLD_RATIO;this._adapter.getPlayrate&&this._adapter.getPlayrate()&&1!==this._adapter.getPlayrate()&&(e*=this._adapter.getPlayrate(),n*=this._adapter.getPlayrate());var r=this._getPlayhead(),i=1e3*Math.abs(this._lastPlayhead-r);i<e?this._bufferEnabled&&0<this._lastPlayhead&&!this._adapter.flags.isPaused&&!this._adapter.flags.isSeeking&&this._adapter.fireBufferBegin(null,!1):n<i?this._seekEnabled&&0<this._lastPlayhead&&this._adapter.fireSeekBegin(null,!1):(this._seekEnabled&&this._adapter.fireSeekEnd(),this._bufferEnabled&&this._adapter.fireBufferEnd()),this._lastPlayhead=r},_getPlayhead:function(){return this._adapter.getPlayhead()}},{Type:{NONE:0,BUFFER:1,SEEK:2},kBUFFER_THRESHOLD_RATIO:.5,kSEEK_THRESHOLD_RATIO:2});e.exports=s},{"../chrono":304,"../object":339,"../timer":356}],356:[function(t,e,n){var r=t("./object"),i=t("./chrono"),o=r.extend({constructor:function(t,e){this.callback=t,this.interval=e||5e3,this.isRunning=!1,this._timer=null,this.chrono=new i},start:function(){this.isRunning||(this.isRunning=!0,this._setTick())},stop:function(){if(this.isRunning=!1,this._timer)try{clearTimeout(this._timer)}catch(t){"undefined"!=typeof atv&&atv.clearTimeout(this._timer)}},_setTick:function(){this.chrono.start();try{this._timer=setTimeout(function(){this.callback(this.chrono.stop()),this._setTick()}.bind(this),this.interval)}catch(t){"undefined"!=typeof atv&&(this._timer=atv.setTimeout(function(){this.callback(this.chrono.stop()),this._setTick()}.bind(this),this.interval))}}});e.exports=o},{"./chrono":304,"./object":339}],302:[function(t,e,n){var r=t("../object").extend({constructor:function(){this.reset()},reset:function(){this.isStarted=!1,this.isJoined=!1,this.isPaused=!1,this.isSeeking=!1,this.isBuffering=!1,this.isEnded=!1,this.isStopped=!1,this.lastQuartileSent=0}});e.exports=r},{"../object":339}],301:[function(t,e,n){var r=t("../object"),i=t("../chrono"),o=r.extend({constructor:function(){this.reset()},reset:function(){this.join=new i,this.seek=new i,this.pause=new i,this.buffer=new i,this.total=new i,this.viewedMax=[]}});e.exports=o},{"../chrono":304,"../object":339}],304:[function(t,e,n){var r=t("./object").extend({constructor:function(){this.reset()},reset:function(){this.startTime=0,this.stopTime=0,this.pauseTime=0,this.offset=0},getDeltaTime:function(t){var e=-1,n=(new Date).getTime();if(this.startTime){t&&!this.stopTime&&(this.stopTime=n);var r=this.pausetime?n-this.pausetime:0,i=this.stopTime?this.stopTime:n;e=this.offset-r+(i-this.startTime)}return e},start:function(){this.startTime=(new Date).getTime(),this.stopTime=0,this.offset=0},stop:function(){return this.pausetime&&this.resume(),this.stopTime=(new Date).getTime(),this.startTime?this.offset+(this.stopTime-this.startTime):-1},pause:function(){this.pauseTime=(new Date).getTime()},resume:function(){this.offset-=(new Date).getTime()-this.pauseTime,this.pauseTime=0},clone:function(){var t=new r;return t.startTime=this.startTime,t.stopTime=this.stopTime,t.offset=this.offset,t}});e.exports=r},{"./object":339}],339:[function(t,e,n){function r(){}var i=t("./mixins/assign"),o=t("./mixins/create");r.prototype={constructor:function(){}},r.extend=function(t,e){var n,r=this;return n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return r.apply(this,arguments)},i(n,r,e),n.prototype=o(r.prototype),t&&i(n.prototype,t),(n.prototype.constructor=n).__super__=r.prototype,n},e.exports=r},{"./mixins/assign":335,"./mixins/create":336}],336:[function(t,e,n){function r(){}e.exports=function(t){if(1<arguments.length)throw Error("Second argument not supported");if(null===t)throw Error("Cannot set a null [[Prototype]]");if("object"!=typeof t)throw TypeError("Argument must be an object");return r.prototype=t,new r}},{}],335:[function(t,e,n){e.exports=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}},{}],286:[function(t,e,n){e.exports={name:"ima",type:"adapter",tech:"js",author:"Jesus Lopez",version:"6.5.4",built:"2019-11-20",repo:"https://bitbucket.org/npaw/ima-adapter-js",libVersion:"^6.5.20",features:{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getDuration","getRendition","getTitle","getTitle2","getIsLive","getResource","getPlayerVersion","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getIsSkippable","getIsFullscreen","getCreativeId"]},ads:[]}},{}],263:[function(t,e,n){var r,i;r=window,i=function(){return r={},i.m=n=[function(t,e,n){"use strict";function m(r){function t(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)}return t.prototype=r.prototype,t}var y=n(5),b=n(97).f,T=n(146),S=n(8),E=n(46),_=n(20),A=n(17);t.exports=function(t,e){var n,r,i,o,s,a,u,c,l=t.target,f=t.global,d=t.stat,h=t.proto,p=f?y:d?y[l]:(y[l]||{}).prototype,g=f?S:S[l]||(S[l]={}),v=g.prototype;for(i in e)n=!T(f?i:l+(d?".":"#")+i,t.forced)&&p&&A(p,i),s=g[i],n&&(a=t.noTargetGet?(c=b(p,i))&&c.value:p[i]),o=n&&a?a:e[i],n&&typeof s==typeof o||(u=t.bind&&n?E(o,y):t.wrap&&n?m(o):h&&"function"==typeof o?E(Function.call,o):o,(t.sham||o&&o.sham||s&&s.sham)&&_(u,"sham",!0),g[i]=u,h&&(A(S,r=l+"Prototype")||_(S,r,{}),S[r][i]=o,t.real&&v&&!v[i]&&_(v,i,o)))}},function(t,e,n){var r=n(5),i=n(100),o=n(17),s=n(101),a=n(102),u=n(149),c=i("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||s;t.exports=function(t){return o(c,t)||(a&&o(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},function(t,e,n){var r=n(8),i=n(17),o=n(169),s=n(25).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},function(t,e,n){t.exports=n(316)},function(n,t,e){(function(t){function e(t){return t&&t.Math==Math&&t}n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||Function("return this")()}).call(this,e(84))},function(n,t,e){(function(t){function e(t){return t&&t.Math==Math&&t}n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||Function("return this")()}).call(this,e(84))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(4),i=n(114),o=n(23),s=n(118),a=n(119),u=n(195),c=i("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||s;t.exports=function(t){return o(c,t)||(a&&o(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},function(t,e){t.exports={}},function(t,e,n){t.exports=n(231)},function(t,e,n){t.exports=n(313)},function(t,e,n){t.exports=n(325)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(22);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=n(329)},function(t,e,n){var r=n(6);t.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=n(339)},function(t,e,n){var r=n(14);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(16),i=n(25),o=n(38);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(8);t.exports=function(t){return r[t+"Prototype"]}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(16),i=n(145),o=n(19),s=n(69),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(68);t.exports=function(t){return Object(r(t))}},function(t,e,n){function r(t){return"function"==typeof t?t:void 0}var i=n(8),o=n(5);t.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},function(t,e,n){t.exports=n(335)},function(t,e,n){var r=n(30),i=n(31),o=n(87);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(12);t.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,e,n){var r=n(30),i=n(116),o=n(13),s=n(117),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var a=n(4),u=n(29),c=n(23),l=n(85),r=n(91),i=n(56),o=i.get,f=i.enforce,d=String(String).split("String");(t.exports=function(t,e,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||c(n,"name")||u(n,"name",e),f(n).source=d.join("string"==typeof e?e:"")),t!==a?(i?!s&&t[e]&&(o=!0):delete t[e],o?t[e]=n:u(t,e,n)):o?t[e]=n:l(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&o(this).source||r(this)})},function(t,e,n){var r=n(67),i=n(68);t.exports=function(t){return r(i(t))}},function(t,e,n){t.exports=n(241)},function(t,e,n){t.exports=n(356)},function(t,e,n){t.exports=n(367)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(99),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e){t.exports=!0},function(t,e){t.exports={}},function(t,e,n){var o=n(106),s=n(25).f,a=n(20),u=n(17),c=n(253),l=n(1)("toStringTag");t.exports=function(t,e,n,r){if(t){var i=n?t:t.prototype;u(i,l)||s(i,l,{configurable:!0,value:e}),r&&!o&&a(i,"toString",c)}}},function(t,e,n){t.exports=n(351)},function(t,e,n){t.exports=n(324)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(24);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e,n){var r=n(45);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){function s(t){throw t}var a=n(16),u=n(6),c=n(17),l=Object.defineProperty,f={};t.exports=function(t,e){if(c(f,t))return f[t];var n=[][t],r=!!c(e=e||{},"ACCESSORS")&&e.ACCESSORS,i=c(e,0)?e[0]:s,o=c(e,1)?e[1]:void 0;return f[t]=!!n&&!u(function(){if(r&&!a)return!0;var t={length:-1};r?l(t,1,{enumerable:!0,get:s}):t[1]=1,n.call(t,i,o)})}},function(t,e,n){var r,i,o,s=n(250),a=n(5),u=n(14),c=n(20),l=n(17),f=n(73),d=n(74),h=a.WeakMap;if(s){var p=new h,g=p.get,v=p.has,m=p.set;r=function(t,e){return m.call(p,t,e),e},i=function(t){return g.call(p,t)||{}},o=function(t){return v.call(p,t)}}else{var y=f("state");d[y]=!0,r=function(t,e){return c(t,y,e),e},i=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(n){return function(t){var e;if(!u(t)||(e=i(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}}},function(t,e,n){var r=n(106),i=n(45),o=n(1)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var i=n(20);t.exports=function(t,e,n,r){r&&r.enumerable?t[e]=n:i(t,e,n)}},function(t,e,n){var r=n(113),i=n(53);t.exports=function(t){return r(i(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){function r(t){return"function"==typeof t?t:void 0}var i=n(200),o=n(4);t.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports={}},function(t,e,n){var r,i,o,s=n(201),a=n(4),u=n(22),c=n(29),l=n(23),f=n(90),d=n(88),h=a.WeakMap;if(s){var p=new h,g=p.get,v=p.has,m=p.set;r=function(t,e){return m.call(p,t,e),e},i=function(t){return g.call(p,t)||{}},o=function(t){return v.call(p,t)}}else{var y=f("state");d[y]=!0,r=function(t,e){return c(t,y,e),e},i=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(n){return function(t){var e;if(!u(t)||(e=i(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}}},function(t,e,n){"use strict";var r=n(63),i=n(65);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){var r=n(159),i=n(105);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}var i=n(24);t.exports.f=function(t){return new r(t)}},function(t,e){t.exports=!1},function(t,e,n){var r=n(62),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var l=n(4),f=n(92).f,d=n(29),h=n(32),p=n(85),g=n(203),v=n(93);t.exports=function(t,e){var n,r,i,o,s,a=t.target,u=t.global,c=t.stat;if(n=u?l:c?l[a]||p(a,{}):(l[a]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(s=f(n,r))&&s.value:n[r],!v(u?r:a+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;g(o,i)}(t.sham||i&&i.sham)&&d(o,"sham",!0),h(n,r,o,t)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var r,i,f=n(96),o=n(137),d=RegExp.prototype.exec,h=String.prototype.replace,s=d,p=(r=/a/,i=/b*/g,d.call(r,"a"),d.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),g=o.UNSUPPORTED_Y||o.BROKEN_CARET,v=void 0!==/()??/.exec("")[1];(p||v||g)&&(s=function(t){var e,n,r,i,o=this,s=g&&o.sticky,a=f.call(o),u=o.source,c=0,l=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),l=String(t).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),n=new RegExp("^(?:"+u+")",a)),v&&(n=new RegExp("^"+u+"$(?!\\s)",a)),p&&(e=o.lastIndex),r=d.call(s?n:o,l),s?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:p&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),v&&r&&1<r.length&&h.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=s},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(6),i=n(45),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){function r(h){var p=1==h,g=2==h,v=3==h,m=4==h,y=6==h,b=5==h||y;return function(t,e,n,r){for(var i,o,s=E(t),a=S(s),u=T(e,n,3),c=_(a.length),l=0,f=r||A,d=p?f(t,c):g?f(t,0):void 0;l<c;l++)if((b||l in a)&&(o=u(i=a[l],l,s),h))if(p)d[l]=o;else if(o)switch(h){case 3:return!0;case 5:return i;case 6:return l;case 2:w.call(d,i)}else if(m)return!1;return y?-1:v||m?m:d}}var T=n(46),S=n(67),E=n(26),_=n(39),A=n(147),w=[].push;t.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},function(t,e,n){var r=n(6),i=n(1),o=n(103),s=i("species");t.exports=function(e){return 51<=o||!r(function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(t,e,n){n(154);var r=n(255),i=n(5),o=n(50),s=n(20),a=n(41),u=n(1)("toStringTag");for(var c in r){var l=i[c],f=l&&l.prototype;f&&o(f)!==u&&s(f,u,c),a[c]=a.Array}},function(t,e,n){var r=n(100),i=n(101),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports={}},function(t,e,n){function r(){}function i(t){return"<script>"+t+"<\/script>"}var o,s=n(19),a=n(252),u=n(105),c=n(74),l=n(162),f=n(98),d=n(73)("IE_PROTO"),h=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;h=o?function(t){t.write(i("")),t.close();var e=t.parentWindow.Object;return t=null,e}(o):((e=f("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(i("document.F=Object")),t.close(),t.F);for(var n=u.length;n--;)delete h.prototype[u[n]];return h()};c[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=s(t),n=new r,r.prototype=null,n[d]=t):n=h(),void 0===e?n:a(n,e)}},function(t,e,n){"use strict";var i=n(256).charAt,r=n(49),o=n(156),s=r.set,a=r.getterFor("String Iterator");o(String,"String",function(t){s(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=a(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(50),i=n(41),o=n(1)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){function h(t,e){this.stopped=t,this.result=e}var p=n(19),g=n(171),v=n(39),m=n(46),y=n(77),b=n(170);(t.exports=function(t,e,n,r,i){var o,s,a,u,c,l,f,d=m(e,n,r?2:1);if(i)o=t;else{if("function"!=typeof(s=y(t)))throw TypeError("Target is not iterable");if(g(s)){for(a=0,u=v(t.length);a<u;a++)if((c=r?d(p(f=t[a])[0],f[1]):d(t[a]))&&c instanceof h)return c;return new h(!1)}o=s.call(t)}for(l=o.next;!(f=l.call(o)).done;)if("object"==typeof(c=b(o,d,f.value,r))&&c&&c instanceof h)return c;return new h(!1)}).stop=function(t){return new h(!0,t)}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){throw 1},1)})}},function(t,e,n){"use strict";var r=n(63),i=n(113),o=n(52),s=n(334),a=[].join,u=i!=Object,c=s("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},function(t,e,n){t.exports=n(321)},function(t,e,n){t.exports=n(347)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(4),i=n(29);t.exports=function(e,n){try{i(r,e,n)}catch(t){r[e]=n}return n}},function(t,e,n){var r=n(4),i=n(22),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(114),i=n(118),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(115),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(30),i=n(202),o=n(87),s=n(52),a=n(117),u=n(23),c=n(116),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){function r(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?i(e):!!e)}var i=n(12),o=/#|\.prototype\./,s=r.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";t.exports=r},function(t,e,n){var r=n(31).f,i=n(23),o=n(7)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r={};r[n(7)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(13);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(16),i=n(66),o=n(38),s=n(33),a=n(69),u=n(17),c=n(145),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(5),i=n(14),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r=n(40),i=n(148);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(6);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e,n){var r,i,o=n(5),s=n(150),a=o.process,u=a&&a.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||74<=r[1])&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(17),i=n(26),o=n(73),s=n(251),a=o("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r={};r[n(1)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var i=n(69),o=n(25),s=n(38);t.exports=function(t,e,n){var r=i(e);r in t?o.f(t,r,s(0,n)):t[r]=n}},function(t,e,n){t.exports=n(236)},function(t,e,n){t.exports=n(153)},function(t,e,n){var r=n(243),i=n(246),o=n(286),s=n(297);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||s()}},function(t,e,n){t.exports=n(309)},function(t,e,n){"use strict";var r=n(52),i=n(194),o=n(55),s=n(56),a=n(123),u=s.set,c=s.getterFor("Array Iterator");t.exports=a(Array,"Array",function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var r=n(12),i=n(37),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(60),i=n(115);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(4),i=n(85),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(30),i=n(12),o=n(86);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(22);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(12);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e,n){function r(){}function i(t){return"<script>"+t+"<\/script>"}var o,s=n(13),a=n(196),u=n(89),c=n(88),l=n(122),f=n(86),d=n(90)("IE_PROTO"),h=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;h=o?function(t){t.write(i("")),t.close();var e=t.parentWindow.Object;return t=null,e}(o):((e=f("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(i("document.F=Object")),t.close(),t.F);for(var n=u.length;n--;)delete h.prototype[u[n]];return h()};c[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=s(t),n=new r,r.prototype=null,n[d]=t):n=h(),void 0===e?n:a(n,e)}},function(t,e,n){var s=n(23),a=n(52),u=n(198).indexOf,c=n(88);t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)!s(c,n)&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){var r=n(54);t.exports=r("document","documentElement")},function(t,e,n){"use strict";function m(){return this}var y=n(63),b=n(206),T=n(126),S=n(128),E=n(94),_=n(29),A=n(32),r=n(7),w=n(60),P=n(55),i=n(125),x=i.IteratorPrototype,L=i.BUGGY_SAFARI_ITERATORS,R=r("iterator");t.exports=function(t,e,n,r,i,o,s){b(n,e,r);function a(t){if(t===i&&g)return g;if(!L&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}}var u,c,l,f=e+" Iterator",d=!1,h=t.prototype,p=h[R]||h["@@iterator"]||i&&h[i],g=!L&&p||a(i),v="Array"==e&&h.entries||p;if(v&&(u=T(v.call(new t)),x!==Object.prototype&&u.next&&(w||T(u)===x||(S?S(u,x):"function"!=typeof u[R]&&_(u,R,m)),E(u,f,!0,!0),w&&(P[f]=m))),"values"==i&&p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),w&&!s||h[R]===g||_(h,R,g),P[e]=g,i)if(c={values:a("values"),keys:o?g:a("keys"),entries:a("entries")},s)for(l in c)!L&&!d&&l in h||A(h,l,c[l]);else y({target:e,proto:!0,forced:L||d},c);return c}},function(t,e,n){var r=n(121),i=n(89).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r,i,o,s=n(126),a=n(29),u=n(23),c=n(7),l=n(60),f=c("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),l||u(r,f)||a(r,f,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(t,e,n){var r=n(23),i=n(127),o=n(90),s=n(207),a=o("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var r=n(53);t.exports=function(t){return Object(r(t))}},function(t,e,n){var i=n(13),o=n(208);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(n){}return function(t,e){return i(t),o(e),r?n.call(t,e):t.__proto__=e,t}}():void 0)},function(t,e,n){var r=n(95),i=n(37),o=n(7)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){"use strict";var r=n(54),i=n(31),o=n(7),s=n(30),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var o=n(64);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e,n){var i=n(13),o=n(64),s=n(7)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||null==(n=i(r)[s])?e:o(n)}},function(t,e,n){function r(t){if(A.hasOwnProperty(t)){var e=A[t];delete A[t],e()}}function i(t){return function(){r(t)}}function o(t){r(t.data)}function s(t){l.postMessage(t+"",m.protocol+"//"+m.host)}var a,u,c,l=n(4),f=n(12),d=n(37),h=n(131),p=n(122),g=n(86),v=n(134),m=l.location,y=l.setImmediate,b=l.clearImmediate,T=l.process,S=l.MessageChannel,E=l.Dispatch,_=0,A={};y&&b||(y=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return A[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},a(_),_},b=function(t){delete A[t]},"process"==d(T)?a=function(t){T.nextTick(i(t))}:E&&E.now?a=function(t){E.now(i(t))}:S&&!v?(c=(u=new S).port2,u.port1.onmessage=o,a=h(c.postMessage,c,1)):!l.addEventListener||"function"!=typeof postMessage||l.importScripts||f(s)||"file:"===m.protocol?a="onreadystatechange"in g("script")?function(t){p.appendChild(g("script")).onreadystatechange=function(){p.removeChild(this),r(t)}}:function(t){setTimeout(i(t),0)}:(a=s,l.addEventListener("message",o,!1))),t.exports={set:y,clear:b}},function(t,e,n){var r=n(135);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(54);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}var i=n(64);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";var r=n(12);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r(function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),e.BROKEN_CARET=r(function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},function(t,e,n){function r(a){return function(t,e){var n,r,i=String(c(t)),o=u(e),s=i.length;return o<0||s<=o?a?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===s||(r=i.charCodeAt(o+1))<56320||57343<r?a?i.charAt(o):n:a?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}var u=n(62),c=n(53);t.exports={codeAt:r(!1),charAt:r(!0)}},function(t,e,n){"use strict";var r=n(140),f=n(141),b=n(13),d=n(53),T=n(132),S=n(142),E=n(61),_=n(143),h=n(65),i=n(12),p=[].push,A=Math.min,w=!i(function(){return!RegExp(4294967295,"y")});r("split",2,function(i,v,m){var y;return y="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(d(this)),r=void 0===e?4294967295:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!f(t))return v.call(n,t,r);for(var i,o,s,a=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,l=new RegExp(t.source,u+"g");(i=h.call(l,n))&&!((o=l.lastIndex)>c&&(a.push(n.slice(c,i.index)),1<i.length&&i.index<n.length&&p.apply(a,i.slice(1)),s=i[0].length,c=o,a.length>=r));)l.lastIndex===i.index&&l.lastIndex++;return c===n.length?!s&&l.test("")||a.push(""):a.push(n.slice(c)),a.length>r?a.slice(0,r):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:v.call(this,t,e)}:v,[function(t,e){var n=d(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):y.call(String(n),t,e)},function(t,e){var n=m(y,t,this,e,y!==v);if(n.done)return n.value;var r=b(t),i=String(this),o=T(r,RegExp),s=r.unicode,a=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(w?"y":"g"),u=new o(w?r:"^(?:"+r.source+")",a),c=void 0===e?4294967295:e>>>0;if(0==c)return[];if(0===i.length)return null===_(u,i)?[i]:[];for(var l=0,f=0,d=[];f<i.length;){u.lastIndex=w?f:0;var h,p=_(u,w?i:i.slice(f));if(null===p||(h=A(E(u.lastIndex+(w?0:f)),i.length))===l)f=S(i,f,s);else{if(d.push(i.slice(l,f)),d.length===c)return d;for(var g=1;g<=p.length-1;g++)if(d.push(p[g]),d.length===c)return d;f=l=h}}return d.push(i.slice(l)),d}]},!w)},function(t,e,n){"use strict";n(57);var f=n(32),d=n(12),h=n(7),p=n(65),g=n(29),v=h("species"),m=!d(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),y="$0"==="a".replace(/./,"$0"),r=h("replace"),b=!!/./[r]&&""===/./[r]("a","$0"),T=!d(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});t.exports=function(n,t,e,r){var i=h(n),o=!d(function(){var t={};return t[i]=function(){return 7},7!=""[n](t)}),s=o&&!d(function(){var t=!1,e=/a/;return"split"===n&&((e={}).constructor={},e.constructor[v]=function(){return e},e.flags="",e[i]=/./[i]),e.exec=function(){return t=!0,null},e[i](""),!t});if(!o||!s||"replace"===n&&(!m||!y||b)||"split"===n&&!T){var a=/./[i],u=e(i,""[n],function(t,e,n,r,i){return e.exec===p?o&&!i?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:y,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:b}),c=u[0],l=u[1];f(String.prototype,n,c),f(RegExp.prototype,i,2==t?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}r&&g(RegExp.prototype[i],"sham",!0)}},function(t,e,n){var r=n(22),i=n(37),o=n(7)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(138).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var i=n(37),o=n(65);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){t.exports=n(228)},function(t,e,n){var r=n(16),i=n(6),o=n(98);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){function r(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?i(e):!!e)}var i=n(6),o=/#|\.prototype\./,s=r.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";t.exports=r},function(t,e,n){var r=n(14),i=n(47),o=n(1)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(5),i=n(235),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(102);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(27);t.exports=r("navigator","userAgent")||""},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){n(242);var r=n(8);t.exports=r.Array.isArray},function(t,e,n){var r=function(s){"use strict";var t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function a(t,e,n,r){var o,s,a,u,i=e&&e.prototype instanceof h?e:h,c=Object.create(i.prototype),l=new E(r||[]);return c._invoke=(o=t,s=n,a=l,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return{value:void 0,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var r=b(n,a);if(r){if(r===d)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";var i=f(o,s,a);if("normal"===i.type){if(u=a.done?"completed":"suspendedYield",i.arg===d)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(u="completed",a.method="throw",a.arg=i.arg)}}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}s.wrap=a;var d={};function h(){}function o(){}function u(){}var c={};c[i]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(_([])));g&&g!==t&&l.call(g,i)&&(c=g);var v=u.prototype=h.prototype=Object.create(c);function m(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function y(u,c){var e;this._invoke=function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,i){var o=f(u[t],u,n);if("throw"!==o.type){var s=o.arg,a=s.value;return a&&"object"==typeof a&&l.call(a,"__await")?c.resolve(a.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):c.resolve(a).then(function(t){s.value=t,r(s)},function(t){return e("throw",t,r,i)})}i(o.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return o.prototype=v.constructor=u,u.constructor=o,u[r]=o.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(v),t},s.awrap=function(t){return{__await:t}},m(y.prototype),y.prototype[n]=function(){return this},s.AsyncIterator=y,s.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new y(a(t,e,n,r),i);return s.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},m(v),v[r]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},s.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},s.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var s=l.call(i,"catchLoc"),a=l.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},s}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";var r=n(33),i=n(249),o=n(41),s=n(49),a=n(156),u=s.set,c=s.getterFor("Array Iterator");t.exports=a(Array,"Array",function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var r=n(148),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){"use strict";function m(){return this}var y=n(0),b=n(157),T=n(104),S=n(163),E=n(42),_=n(20),A=n(51),r=n(1),w=n(40),P=n(41),i=n(158),x=i.IteratorPrototype,L=i.BUGGY_SAFARI_ITERATORS,R=r("iterator");t.exports=function(t,e,n,r,i,o,s){b(n,e,r);function a(t){if(t===i&&g)return g;if(!L&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}}var u,c,l,f=e+" Iterator",d=!1,h=t.prototype,p=h[R]||h["@@iterator"]||i&&h[i],g=!L&&p||a(i),v="Array"==e&&h.entries||p;if(v&&(u=T(v.call(new t)),x!==Object.prototype&&u.next&&(w||T(u)===x||(S?S(u,x):"function"!=typeof u[R]&&_(u,R,m)),E(u,f,!0,!0),w&&(P[f]=m))),"values"==i&&p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),w&&!s||h[R]===g||_(h,R,g),P[e]=g,i)if(c={values:a("values"),keys:o?g:a("keys"),entries:a("entries")},s)for(l in c)!L&&!d&&l in h||A(h,l,c[l]);else y({target:e,proto:!0,forced:L||d},c);return c}},function(t,e,n){"use strict";function i(){return this}var o=n(158).IteratorPrototype,s=n(75),a=n(38),u=n(42),c=n(41);t.exports=function(t,e,n){var r=e+" Iterator";return t.prototype=s(o,{next:a(1,n)}),u(t,r,!1,!0),c[r]=i,t}},function(t,e,n){"use strict";var r,i,o,s=n(104),a=n(20),u=n(17),c=n(1),l=n(40),f=c("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),l||u(r,f)||a(r,f,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(t,e,n){var s=n(17),a=n(33),u=n(160).indexOf,c=n(74);t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)!s(c,n)&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){function r(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}var u=n(33),c=n(39),l=n(161);t.exports={includes:r(!0),indexOf:r(!1)}},function(t,e,n){var r=n(99),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(27);t.exports=r("document","documentElement")},function(t,e,n){var i=n(19),o=n(254);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(n){}return function(t,e){return i(t),o(e),r?n.call(t,e):t.__proto__=e,t}}():void 0)},function(t,e,n){var r=n(19),i=n(77);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){"use strict";function c(t){if(!s(t))return!1;var e=t[g];return void 0!==e?!!e:o(t)}var r=n(0),i=n(6),o=n(47),s=n(14),l=n(26),f=n(39),d=n(107),h=n(147),a=n(71),u=n(1),p=n(103),g=u("isConcatSpreadable"),v=51<=p||!i(function(){var t=[];return t[g]=!1,t.concat()[0]!==t}),m=a("concat");r({target:"Array",proto:!0,forced:!v||!m},{concat:function(t){var e,n,r,i,o,s=l(this),a=h(s,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(c(o=-1===e?s:arguments[e])){if(9007199254740991<u+(i=f(o.length)))throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,u++)n in o&&d(a,u,o[n])}else{if(9007199254740991<=u)throw TypeError("Maximum allowed index exceeded");d(a,u++,o)}return a.length=u,a}})},function(t,e){},function(t,e,n){var r=n(159),i=n(105).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(1);e.f=r},function(t,e,n){var o=n(19);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(t,e,n){var r=n(1),i=n(41),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var i=n(1)("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){var r=n(294),i=Array.prototype;t.exports=function(t){var e=t.slice;return t===i||t instanceof Array&&e===i.slice?r:e}},function(t,e,n){n(166),n(76),n(72),n(300),n(182),n(304);var r=n(8);t.exports=r.Promise},function(t,e,n){var r=n(5);t.exports=r.Promise},function(t,e,n){var i=n(51);t.exports=function(t,e,n){for(var r in e)n&&n.unsafe&&t[r]?t[r]=e[r]:i(t,r,e[r],n);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var i=n(19),o=n(24),s=n(1)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||null==(n=i(r)[s])?e:o(n)}},function(t,e,n){function r(t){if(A.hasOwnProperty(t)){var e=A[t];delete A[t],e()}}function i(t){return function(){r(t)}}function o(t){r(t.data)}function s(t){l.postMessage(t+"",m.protocol+"//"+m.host)}var a,u,c,l=n(5),f=n(6),d=n(45),h=n(46),p=n(162),g=n(98),v=n(180),m=l.location,y=l.setImmediate,b=l.clearImmediate,T=l.process,S=l.MessageChannel,E=l.Dispatch,_=0,A={};y&&b||(y=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return A[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},a(_),_},b=function(t){delete A[t]},"process"==d(T)?a=function(t){T.nextTick(i(t))}:E&&E.now?a=function(t){E.now(i(t))}:S&&!v?(c=(u=new S).port2,u.port1.onmessage=o,a=h(c.postMessage,c,1)):!l.addEventListener||"function"!=typeof postMessage||l.importScripts||f(s)||"file:"===m.protocol?a="onreadystatechange"in g("script")?function(t){p.appendChild(g("script")).onreadystatechange=function(){p.removeChild(this),r(t)}}:function(t){setTimeout(i(t),0)}:(a=s,l.addEventListener("message",o,!1))),t.exports={set:y,clear:b}},function(t,e,n){var r=n(150);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(19),i=n(14),o=n(59);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(0),c=n(24),i=n(59),o=n(79),l=n(78);r({target:"Promise",stat:!0},{allSettled:function(t){var a=this,e=i.f(a),u=e.resolve,n=e.reject,r=o(function(){var r=c(a.resolve),i=[],o=0,s=1;l(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]={status:"fulfilled",value:t},--s||u(i))},function(t){n||(n=!0,i[e]={status:"rejected",reason:t},--s||u(i))})}),--s||u(i)});return r.error&&n(r.value),e.promise}})},function(t,e,n){var r=n(144);t.exports=function(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var c=n(298);function u(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):c.resolve(u).then(r,i)}t.exports=function(a){return function(){var t=this,s=arguments;return new c(function(e,n){var r=a.apply(t,s);function i(t){u(r,e,n,i,o,"next",t)}function o(t){u(r,e,n,i,o,"throw",t)}i(void 0)})}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var i=n(144);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i(t,r.key,r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(e,t,n){(e.exports?function(t){e.exports=t()}:n(345))(function(){"use strict";var a,u={mobileDetectRules:{phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",OnePlus:"ONEPLUS",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z930|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b(?!\\))",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",iPadOS:"CPU OS 13",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},detectMobileBrowsers:{fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i}},c=Object.prototype.hasOwnProperty;function e(t,e){return null!=t&&null!=e&&t.toLowerCase()===e.toLowerCase()}function n(t,e){var n,r,i=t.length;if(!i||!e)return!1;for(n=e.toLowerCase(),r=0;r<i;++r)if(n===t[r].toLowerCase())return!0;return!1}function l(t){for(var e in t)c.call(t,e)&&(t[e]=new RegExp(t[e],"i"))}function s(t,e){this.ua=(t||"").substr(0,500),this._cache={},this.maxPhoneWidth=e||600}return u.FALLBACK_PHONE="UnknownPhone",u.FALLBACK_TABLET="UnknownTablet",u.FALLBACK_MOBILE="UnknownMobile",a="isArray"in Array?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},function(){var t,e,n,r,i,o,s=u.mobileDetectRules;for(t in s.props)if(c.call(s.props,t)){for(e=s.props[t],a(e)||(e=[e]),i=e.length,r=0;r<i;++r)0<=(o=(n=e[r]).indexOf("[VER]"))&&(n=n.substring(0,o)+"([\\w._\\+]+)"+n.substring(o+5)),e[r]=new RegExp(n,"i");s.props[t]=e}l(s.oss),l(s.phones),l(s.tablets),l(s.uas),l(s.utils),s.oss0={WindowsPhoneOS:s.oss.WindowsPhoneOS,WindowsMobileOS:s.oss.WindowsMobileOS}}(),u.findMatch=function(t,e){for(var n in t)if(c.call(t,n)&&t[n].test(e))return n;return null},u.findMatches=function(t,e){var n=[];for(var r in t)c.call(t,r)&&t[r].test(e)&&n.push(r);return n},u.getVersionStr=function(t,e){var n,r,i,o,s=u.mobileDetectRules.props;if(c.call(s,t))for(i=(n=s[t]).length,r=0;r<i;++r)if(null!==(o=n[r].exec(e)))return o[1];return null},u.getVersion=function(t,e){var n=u.getVersionStr(t,e);return n?u.prepareVersionNo(n):NaN},u.prepareVersionNo=function(t){var e;return 1===(e=t.split(/[a-z._ \/\-]/i)).length&&(t=e[0]),1<e.length&&(t=e[0]+".",e.shift(),t+=e.join("")),Number(t)},u.isMobileFallback=function(t){return u.detectMobileBrowsers.fullPattern.test(t)||u.detectMobileBrowsers.shortPattern.test(t.substr(0,4))},u.isTabletFallback=function(t){return u.detectMobileBrowsers.tabletPattern.test(t)},u.prepareDetectionCache=function(t,e,n){if(void 0===t.mobile){var r,i,o;if(i=u.findMatch(u.mobileDetectRules.tablets,e))return t.mobile=t.tablet=i,void(t.phone=null);if(r=u.findMatch(u.mobileDetectRules.phones,e))return t.mobile=t.phone=r,void(t.tablet=null);u.isMobileFallback(e)?void 0===(o=s.isPhoneSized(n))?(t.mobile=u.FALLBACK_MOBILE,t.tablet=t.phone=null):o?(t.mobile=t.phone=u.FALLBACK_PHONE,t.tablet=null):(t.mobile=t.tablet=u.FALLBACK_TABLET,t.phone=null):u.isTabletFallback(e)?(t.mobile=t.tablet=u.FALLBACK_TABLET,t.phone=null):t.mobile=t.tablet=t.phone=null}},u.mobileGrade=function(t){var e=null!==t.mobile();return t.os("iOS")&&4.3<=t.version("iPad")||t.os("iOS")&&3.1<=t.version("iPhone")||t.os("iOS")&&3.1<=t.version("iPod")||2.1<t.version("Android")&&t.is("Webkit")||7<=t.version("Windows Phone OS")||t.is("BlackBerry")&&6<=t.version("BlackBerry")||t.match("Playbook.*Tablet")||1.4<=t.version("webOS")&&t.match("Palm|Pre|Pixi")||t.match("hp.*TouchPad")||t.is("Firefox")&&12<=t.version("Firefox")||t.is("Chrome")&&t.is("AndroidOS")&&4<=t.version("Android")||t.is("Skyfire")&&4.1<=t.version("Skyfire")&&t.is("AndroidOS")&&2.3<=t.version("Android")||t.is("Opera")&&11<t.version("Opera Mobi")&&t.is("AndroidOS")||t.is("MeeGoOS")||t.is("Tizen")||t.is("Dolfin")&&2<=t.version("Bada")||(t.is("UC Browser")||t.is("Dolfin"))&&2.3<=t.version("Android")||t.match("Kindle Fire")||t.is("Kindle")&&3<=t.version("Kindle")||t.is("AndroidOS")&&t.is("NookTablet")||11<=t.version("Chrome")&&!e||5<=t.version("Safari")&&!e||4<=t.version("Firefox")&&!e||7<=t.version("MSIE")&&!e||10<=t.version("Opera")&&!e?"A":t.os("iOS")&&t.version("iPad")<4.3||t.os("iOS")&&t.version("iPhone")<3.1||t.os("iOS")&&t.version("iPod")<3.1||t.is("Blackberry")&&5<=t.version("BlackBerry")&&t.version("BlackBerry")<6||5<=t.version("Opera Mini")&&t.version("Opera Mini")<=6.5&&(2.3<=t.version("Android")||t.is("iOS"))||t.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||11<=t.version("Opera Mobi")&&t.is("SymbianOS")?"B":(t.version("BlackBerry")<5||t.match("MSIEMobile|Windows CE.*Mobile")||t.version("Windows Mobile"),"C")},u.detectOS=function(t){return u.findMatch(u.mobileDetectRules.oss0,t)||u.findMatch(u.mobileDetectRules.oss,t)},u.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},s.prototype={constructor:s,mobile:function(){return u.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return u.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return u.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return void 0===this._cache.userAgent&&(this._cache.userAgent=u.findMatch(u.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return void 0===this._cache.userAgents&&(this._cache.userAgents=u.findMatches(u.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return void 0===this._cache.os&&(this._cache.os=u.detectOS(this.ua)),this._cache.os},version:function(t){return u.getVersion(t,this.ua)},versionStr:function(t){return u.getVersionStr(t,this.ua)},is:function(t){return n(this.userAgents(),t)||e(t,this.os())||e(t,this.phone())||e(t,this.tablet())||n(u.findMatches(u.mobileDetectRules.utils,this.ua),t)},match:function(t){return t instanceof RegExp||(t=new RegExp(t,"i")),t.test(this.ua)},isPhoneSized:function(t){return s.isPhoneSized(t||this.maxPhoneWidth)},mobileGrade:function(){return void 0===this._cache.grade&&(this._cache.grade=u.mobileGrade(this)),this._cache.grade}},s.isPhoneSized="undefined"!=typeof window&&window.screen?function(t){return t<0?void 0:u.getDeviceSmallerSide()<=t}:function(){},s._impl=u,s.version="1.4.4 2019-09-21",s})},function(t,o,s){"use strict";(function(e){s.d(o,"a",function(){return t});var u=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},c=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},n=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform},l=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},f=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},r=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},d=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],p=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function t(t){return t?i(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new r:"undefined"!=typeof navigator?i(navigator.userAgent):void 0!==e&&e.version?new n(e.version.slice(1)):null}function i(t){var e=function(o){return""!==o&&h.reduce(function(t,e){var n=e[0],r=e[1];if(t)return t;var i=r.exec(o);return!!i&&[n,i]},!1)}(t);if(!e)return null;var n=e[0],r=e[1];if("searchbot"===n)return new f;var i=r[1]&&r[1].split(/[._]/).slice(0,3);i?i.length<3&&(i=u(i,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-i.length))):i=[];var o=i.join("."),s=function(t){for(var e=0,n=p.length;e<n;e++){var r=p[e],i=r[0];if(r[1].exec(t))return i}return null}(t),a=d.exec(t);return a&&a[1]?new l(n,o,s,a[1]):new c(n,o,s)}}).call(this,s(346))},function(t,e,n){t.exports=n(352)},function(t,e,n){t.exports=n(361)},function(t,e,n){"use strict";var O=n(371),k=n(373);function x(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=o,e.resolve=function(t,e){return o(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?o(t,!1,!0).resolveObject(e):e},e.format=function(t){return k.isString(t)&&(t=o(t)),t instanceof x?t.format():x.prototype.format.call(t)},e.Url=x;var M=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,N=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),B=["'"].concat(i),F=["%","/","?",";","#"].concat(B),G=["/","?","#"],U=/^[+a-z0-9A-Z_-]{0,63}$/,H=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,j={javascript:!0,"javascript:":!0},V={javascript:!0,"javascript:":!0},W={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},q=n(374);function o(t,e,n){if(t&&k.isObject(t)&&t instanceof x)return t;var r=new x;return r.parse(t,e,n),r}x.prototype.parse=function(t,e,n){if(!k.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(i);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(i);if(s=s.trim(),!n&&1===t.split("#").length){var a=N.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?q.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=M.exec(s);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,s=s.substr(u.length)}if(n||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===s.substr(0,2);!l||u&&V[u]||(s=s.substr(2),this.slashes=!0)}if(!V[u]&&(l||u&&!W[u])){for(var f,d,h=-1,p=0;p<G.length;p++)-1!==(g=s.indexOf(G[p]))&&(-1===h||g<h)&&(h=g);for(-1!==(d=-1===h?s.lastIndexOf("@"):s.lastIndexOf("@",h))&&(f=s.slice(0,d),s=s.slice(d+1),this.auth=decodeURIComponent(f)),h=-1,p=0;p<F.length;p++){var g;-1!==(g=s.indexOf(F[p]))&&(-1===h||g<h)&&(h=g)}-1===h&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var m=this.hostname.split(/\./),y=(p=0,m.length);p<y;p++){var b=m[p];if(b&&!b.match(U)){for(var T="",S=0,E=b.length;S<E;S++)127<b.charCodeAt(S)?T+="x":T+=b[S];if(!T.match(U)){var _=m.slice(0,p),A=m.slice(p+1),w=b.match(H);w&&(_.push(w[1]),A.unshift(w[2])),A.length&&(s="/"+A.join(".")+s),this.hostname=_.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=O.toASCII(this.hostname));var P=this.port?":"+this.port:"",x=this.hostname||"";this.host=x+P,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!j[c])for(p=0,y=B.length;p<y;p++){var L=B[p];if(-1!==s.indexOf(L)){var R=encodeURIComponent(L);R===L&&(R=escape(L)),s=s.split(L).join(R)}}var C=s.indexOf("#");-1!==C&&(this.hash=s.substr(C),s=s.slice(0,C));var I=s.indexOf("?");if(-1!==I?(this.search=s.substr(I),this.query=s.substr(I+1),e&&(this.query=q.parse(this.query)),s=s.slice(0,I)):e&&(this.search="",this.query={}),s&&(this.pathname=s),W[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var D=this.search||"";this.path=P+D}return this.href=this.format(),this},x.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&k.isObject(this.query)&&Object.keys(this.query).length&&(o=q.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||W[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i=i||"",r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},x.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},x.prototype.resolveObject=function(t){if(k.isString(t)){var e=new x;e.parse(t,!1,!0),t=e}for(var n=new x,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(n[u]=t[u])}return W[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!W[t.protocol]){for(var c=Object.keys(t),l=0;l<c.length;l++){var f=c[l];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||V[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var h=n.pathname||"",p=n.search||"";n.path=h+p}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),m=v||g||n.host&&t.pathname,y=m,b=n.pathname&&n.pathname.split("/")||[],T=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!W[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),m=m&&(""===d[0]||""===b[0])),v)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,b=d;else if(d.length)(b=b||[]).pop(),b=b.concat(d),n.search=t.search,n.query=t.query;else if(!k.isNullOrUndefined(t.search))return T&&(n.hostname=n.host=b.shift(),(w=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift())),n.search=t.search,n.query=t.query,k.isNull(n.pathname)&&k.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=b.slice(-1)[0],E=(n.host||t.host||1<b.length)&&("."===S||".."===S)||""===S,_=0,A=b.length;0<=A;A--)"."===(S=b[A])?b.splice(A,1):".."===S?(b.splice(A,1),_++):_&&(b.splice(A,1),_--);if(!m&&!y)for(;_--;)b.unshift("..");!m||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),E&&"/"!==b.join("/").substr(-1)&&b.push("");var w,P=""===b[0]||b[0]&&"/"===b[0].charAt(0);return T&&(n.hostname=n.host=P?"":b.length?b.shift():"",(w=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift())),(m=m||n.host&&b.length)&&!P&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),k.isNull(n.pathname)&&k.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},x.prototype.parseHost=function(){var t=this.host,e=r.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){t.exports=n(377)},function(t,e,n){t.exports=n(381)},function(t,e,n){var r=n(7),i=n(120),o=n(31),s=r("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,n){var r=n(119);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(30),s=n(31),a=n(13),u=n(197);t.exports=r?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){var r=n(121),i=n(89);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){function r(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}var u=n(52),c=n(61),l=n(199);t.exports={includes:r(!0),indexOf:r(!1)}},function(t,e,n){var r=n(62),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(4);t.exports=r},function(t,e,n){var r=n(4),i=n(91),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var a=n(23),u=n(204),c=n(92),l=n(31);t.exports=function(t,e){for(var n=u(e),r=l.f,i=c.f,o=0;o<n.length;o++){var s=n[o];a(t,s)||r(t,s,i(e,s))}}},function(t,e,n){var r=n(54),i=n(124),o=n(205),s=n(13);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";function i(){return this}var o=n(125).IteratorPrototype,s=n(120),a=n(87),u=n(94),c=n(55);t.exports=function(t,e,n){var r=e+" Iterator";return t.prototype=s(o,{next:a(1,n)}),u(t,r,!1,!0),c[r]=i,t}},function(t,e,n){var r=n(12);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(22);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(95),i=n(32),o=n(210);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,n){"use strict";var r=n(95),i=n(129);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){"use strict";function g(t){var e;return!(!S(t)||"function"!=typeof(e=t.then))&&e}function o(f,d,h){if(!d.notified){d.notified=!0;var p=d.reactions;C(function(){for(var t=d.value,e=1==d.state,n=0;p.length>n;){var r,i,o,s=p[n++],a=e?s.ok:s.fail,u=s.resolve,c=s.reject,l=s.domain;try{a?(e||(2===d.rejection&&rt(f,d),d.rejection=1),!0===a?r=t:(l&&l.enter(),r=a(t),l&&(l.exit(),o=!0)),r===s.promise?c(q("Promise-chain cycle")):(i=g(r))?i.call(r,u,c):u(r)):c(t)}catch(t){l&&!o&&l.exit(),c(t)}}d.reactions=[],d.notified=!1,h&&!d.rejection&&et(f,d)})}}function i(t,e,n){var r,i;$?((r=K.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),h.dispatchEvent(r)):r={promise:e,reason:n},(i=h["on"+t])?i(r):"unhandledrejection"===t&&D("Unhandled promise rejection",n)}function s(e,n,r,i){return function(t){e(n,r,t,i)}}function a(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,o(t,e,!0))}var r,u,c,l,f=n(63),d=n(60),h=n(4),p=n(54),v=n(212),m=n(32),y=n(213),b=n(94),T=n(130),S=n(22),E=n(64),_=n(214),A=n(37),w=n(91),P=n(215),x=n(219),L=n(132),R=n(133).set,C=n(220),I=n(221),D=n(222),O=n(136),k=n(223),M=n(56),N=n(93),B=n(7),F=n(224),G=B("species"),U="Promise",H=M.get,j=M.set,V=M.getterFor(U),W=v,q=h.TypeError,K=h.document,X=h.process,Q=p("fetch"),z=O.f,Y=z,J="process"==A(X),$=!!(K&&K.createEvent&&h.dispatchEvent),Z=N(U,function(){if(w(W)===String(W)){if(66===F)return!0;if(!J&&"function"!=typeof PromiseRejectionEvent)return!0}if(d&&!W.prototype.finally)return!0;if(51<=F&&/native code/.test(W))return!1;function t(t){t(function(){},function(){})}var e=W.resolve(1);return(e.constructor={})[G]=t,!(e.then(function(){})instanceof t)}),tt=Z||!x(function(t){W.all(t).catch(function(){})}),et=function(n,r){R.call(h,function(){var t,e=r.value;if(nt(r)&&(t=k(function(){J?X.emit("unhandledRejection",e,n):i("unhandledrejection",n,e)}),r.rejection=J||nt(r)?2:1,t.error))throw t.value})},nt=function(t){return 1!==t.rejection&&!t.parent},rt=function(t,e){R.call(h,function(){J?X.emit("rejectionHandled",t):i("rejectionhandled",t,e.value)})},it=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw q("Promise can't be resolved itself");var i=g(t);i?C(function(){var e={done:!1};try{i.call(t,s(it,n,e,r),s(a,n,e,r))}catch(t){a(n,e,t,r)}}):(r.value=t,r.state=1,o(n,r,!1))}catch(t){a(n,{done:!1},t,r)}}};Z&&(W=function(t){_(this,W,U),E(t),r.call(this);var e=H(this);try{t(s(it,this,e),s(a,this,e))}catch(t){a(this,e,t)}},(r=function(t){j(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(W.prototype,{then:function(t,e){var n=V(this),r=z(L(this,W));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=J?X.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&o(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new r,e=H(t);this.promise=t,this.resolve=s(it,t,e),this.reject=s(a,t,e)},O.f=z=function(t){return t===W||t===c?new u(t):Y(t)},d||"function"!=typeof v||(l=v.prototype.then,m(v.prototype,"then",function(t,e){var n=this;return new W(function(t,e){l.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Q&&f({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(W,Q.apply(h,arguments))}}))),f({global:!0,wrap:!0,forced:Z},{Promise:W}),b(W,U,!1,!0),T(U),c=p(U),f({target:U,stat:!0,forced:Z},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),f({target:U,stat:!0,forced:d||Z},{resolve:function(t){return I(d&&this===c?W:this,t)}}),f({target:U,stat:!0,forced:tt},{all:function(t){var a=this,e=z(a),u=e.resolve,c=e.reject,n=k(function(){var r=E(a.resolve),i=[],o=0,s=1;P(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]=t,--s||u(i))},c)}),--s||u(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=z(n),i=r.reject,e=k(function(){var e=E(n.resolve);P(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}})},function(t,e,n){var r=n(4);t.exports=r.Promise},function(t,e,n){var i=n(32);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){function h(t,e){this.stopped=t,this.result=e}var p=n(13),g=n(216),v=n(61),m=n(131),y=n(217),b=n(218);(t.exports=function(t,e,n,r,i){var o,s,a,u,c,l,f,d=m(e,n,r?2:1);if(i)o=t;else{if("function"!=typeof(s=y(t)))throw TypeError("Target is not iterable");if(g(s)){for(a=0,u=v(t.length);a<u;a++)if((c=r?d(p(f=t[a])[0],f[1]):d(t[a]))&&c instanceof h)return c;return new h(!1)}o=s.call(t)}for(l=o.next;!(f=l.call(o)).done;)if("object"==typeof(c=b(o,d,f.value,r))&&c&&c instanceof h)return c;return new h(!1)}).stop=function(t){return new h(!0,t)}},function(t,e,n){var r=n(7),i=n(55),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var r=n(129),i=n(55),o=n(7)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var o=n(13);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(t,e,n){var i=n(7)("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){var r,i,o,s,a,u,c,l,f=n(4),d=n(92).f,h=n(37),p=n(133).set,g=n(134),v=f.MutationObserver||f.WebKitMutationObserver,m=f.process,y=f.Promise,b="process"==h(m),T=d(f,"queueMicrotask"),S=T&&T.value;S||(r=function(){var t,e;for(b&&(t=m.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},s=b?function(){m.nextTick(r)}:v&&!g?(a=!0,u=document.createTextNode(""),new v(r).observe(u,{characterData:!0}),function(){u.data=a=!a}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,function(){l.call(c,r)}):function(){p.call(f,r)}),t.exports=S||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},function(t,e,n){var r=n(13),i=n(22),o=n(136);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(4);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r,i,o=n(4),s=n(135),a=o.process,u=a&&a.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||74<=r[1])&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){"use strict";var i=n(138).charAt,r=n(56),o=n(123),s=r.set,a=r.getterFor("String Iterator");o(String,"String",function(t){s(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=a(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(4),i=n(227),o=n(112),s=n(29),a=n(7),u=a("iterator"),c=a("toStringTag"),l=o.values;for(var f in i){var d=r[f],h=d&&d.prototype;if(h){if(h[u]!==l)try{s(h,u,l)}catch(t){h[u]=l}if(h[c]||s(h,c,f),i[f])for(var p in o)if(h[p]!==o[p])try{s(h,p,o[p])}catch(t){h[p]=o[p]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(229);t.exports=r},function(t,e,n){n(230);var r=n(8).Object,i=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(i.sham=!0)},function(t,e,n){var r=n(0),i=n(16);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(25).f})},function(t,e,n){var r=n(232);t.exports=r},function(t,e,n){var r=n(233),i=Array.prototype;t.exports=function(t){var e=t.map;return t===i||t instanceof Array&&e===i.map?r:e}},function(t,e,n){n(234);var r=n(21);t.exports=r("Array").map},function(t,e,n){"use strict";var r=n(0),i=n(70).map,o=n(71),s=n(48),a=o("map"),u=s("map");r({target:"Array",proto:!0,forced:!a||!u},{map:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){var r=n(5),i=n(20);t.exports=function(e,n){try{i(r,e,n)}catch(t){r[e]=n}return n}},function(t,e,n){var r=n(237);t.exports=r},function(t,e,n){n(238);var r=n(8);t.exports=r.parseInt},function(t,e,n){var r=n(0),i=n(239);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(t,e,n){var r=n(5),i=n(240).trim,o=n(151),s=r.parseInt,a=/^[+-]?0[Xx]/,u=8!==s(o+"08")||22!==s(o+"0x16");t.exports=u?function(t,e){var n=i(String(t));return s(n,e>>>0||(a.test(n)?16:10))}:s},function(t,e,n){function r(n){return function(t){var e=String(i(t));return 1&n&&(e=e.replace(s,"")),2&n&&(e=e.replace(a,"")),e}}var i=n(68),o="["+n(151)+"]",s=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$");t.exports={start:r(1),end:r(2),trim:r(3)}},function(t,e,n){var r=n(152);t.exports=r},function(t,e,n){n(0)({target:"Array",stat:!0},{isArray:n(47)})},function(t,e,n){var r=n(244);t.exports=function(t){if(r(t))return t}},function(t,e,n){t.exports=n(245)},function(t,e,n){var r=n(152);t.exports=r},function(t,e,n){var u=n(247),c=n(257),l=n(260);t.exports=function(t,e){if(void 0!==l&&c(Object(t))){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=u(t);!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}},function(t,e,n){t.exports=n(248)},function(t,e,n){n(72),n(76);var r=n(164);t.exports=r},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(5),i=n(155),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,n){var r=n(6);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(16),s=n(25),a=n(19),u=n(58);t.exports=r?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){"use strict";var r=n(106),i=n(50);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){var r=n(14);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){function r(a){return function(t,e){var n,r,i=String(c(t)),o=u(e),s=i.length;return o<0||s<=o?a?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===s||(r=i.charCodeAt(o+1))<56320||57343<r?a?i.charAt(o):n:a?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}var u=n(99),c=n(68);t.exports={codeAt:r(!1),charAt:r(!0)}},function(t,e,n){t.exports=n(258)},function(t,e,n){n(72),n(76);var r=n(259);t.exports=r},function(t,e,n){var r=n(50),i=n(1),o=n(41),s=i("iterator");t.exports=function(t){var e=Object(t);return void 0!==e[s]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){t.exports=n(261)},function(t,e,n){var r=n(262);n(281),n(282),n(283),n(284),n(285),t.exports=r},function(t,e,n){n(165),n(166),n(263),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280);var r=n(8);t.exports=r.Symbol},function(t,e,n){"use strict";function r(t,e){var n=tt[t]=_(Q.prototype);return q(n,{type:"Symbol",tag:t,description:e}),f||(n.description=e),n}function i(e,t){y(e);var n=T(t),r=A(n).concat(ft(n));return j(r,function(t){f&&!lt.call(n,t)||ct(e,t,n[t])}),e}function o(t,e){var n=T(t),r=S(e,!0);if(n!==X||!g(tt,r)||g(et,r)){var i=Y(n,r);return!i||!g(tt,r)||g(n,V)&&n[V][r]||(i.enumerable=!0),i}}function s(t){var e=$(T(t)),n=[];return j(e,function(t){g(tt,t)||g(M,t)||n.push(t)}),n}var a=n(0),u=n(5),c=n(27),l=n(40),f=n(16),d=n(102),h=n(149),p=n(6),g=n(17),v=n(47),m=n(14),y=n(19),b=n(26),T=n(33),S=n(69),E=n(38),_=n(75),A=n(58),w=n(167),P=n(264),x=n(168),L=n(97),R=n(25),C=n(66),I=n(20),D=n(51),O=n(100),k=n(73),M=n(74),N=n(101),B=n(1),F=n(169),G=n(2),U=n(42),H=n(49),j=n(70).forEach,V=k("hidden"),W=B("toPrimitive"),q=H.set,K=H.getterFor("Symbol"),X=Object.prototype,Q=u.Symbol,z=c("JSON","stringify"),Y=L.f,J=R.f,$=P.f,Z=C.f,tt=O("symbols"),et=O("op-symbols"),nt=O("string-to-symbol-registry"),rt=O("symbol-to-string-registry"),it=O("wks"),ot=u.QObject,st=!ot||!ot.prototype||!ot.prototype.findChild,at=f&&p(function(){return 7!=_(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Y(X,e);r&&delete X[e],J(t,e,n),r&&t!==X&&J(X,e,r)}:J,ut=h?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Q},ct=function(t,e,n){t===X&&ct(et,e,n),y(t);var r=S(e,!0);return y(n),g(tt,r)?(n.enumerable?(g(t,V)&&t[V][r]&&(t[V][r]=!1),n=_(n,{enumerable:E(0,!1)})):(g(t,V)||J(t,V,E(1,{})),t[V][r]=!0),at(t,r,n)):J(t,r,n)},lt=function(t){var e=S(t,!0),n=Z.call(this,e);return!(this===X&&g(tt,e)&&!g(et,e))&&(!(n||!g(this,e)||!g(tt,e)||g(this,V)&&this[V][e])||n)},ft=function(t){var e=t===X,n=$(e?et:T(t)),r=[];return j(n,function(t){!g(tt,t)||e&&!g(X,t)||r.push(tt[t])}),r};d||(D((Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=N(t),n=function(t){this===X&&n.call(et,t),g(this,V)&&g(this[V],e)&&(this[V][e]=!1),at(this,e,E(1,t))};return f&&st&&at(X,e,{configurable:!0,set:n}),r(e,t)}).prototype,"toString",function(){return K(this).tag}),D(Q,"withoutSetter",function(t){return r(N(t),t)}),C.f=lt,R.f=ct,L.f=o,w.f=P.f=s,x.f=ft,F.f=function(t){return r(B(t),t)},f&&(J(Q.prototype,"description",{configurable:!0,get:function(){return K(this).description}}),l||D(X,"propertyIsEnumerable",lt,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Q}),j(A(it),function(t){G(t)}),a({target:"Symbol",stat:!0,forced:!d},{for:function(t){var e=String(t);if(g(nt,e))return nt[e];var n=Q(e);return nt[e]=n,rt[n]=e,n},keyFor:function(t){if(!ut(t))throw TypeError(t+" is not a symbol");if(g(rt,t))return rt[t]},useSetter:function(){st=!0},useSimple:function(){st=!1}}),a({target:"Object",stat:!0,forced:!d,sham:!f},{create:function(t,e){return void 0===e?_(t):i(_(t),e)},defineProperty:ct,defineProperties:i,getOwnPropertyDescriptor:o}),a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:s,getOwnPropertySymbols:ft}),a({target:"Object",stat:!0,forced:p(function(){x.f(1)})},{getOwnPropertySymbols:function(t){return x.f(b(t))}}),z&&a({target:"JSON",stat:!0,forced:!d||p(function(){var t=Q();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))})},{stringify:function(t,e,n){for(var r,i=[t],o=1;o<arguments.length;)i.push(arguments[o++]);if((m(r=e)||void 0!==t)&&!ut(t))return v(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ut(e))return e}),i[1]=e,z.apply(null,i)}}),Q.prototype[W]||I(Q.prototype,W,Q.prototype.valueOf),U(Q,"Symbol"),M[V]=!0},function(t,e,n){var r=n(33),i=n(167).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){n(2)("asyncIterator")},function(t,e){},function(t,e,n){n(2)("hasInstance")},function(t,e,n){n(2)("isConcatSpreadable")},function(t,e,n){n(2)("iterator")},function(t,e,n){n(2)("match")},function(t,e,n){n(2)("matchAll")},function(t,e,n){n(2)("replace")},function(t,e,n){n(2)("search")},function(t,e,n){n(2)("species")},function(t,e,n){n(2)("split")},function(t,e,n){n(2)("toPrimitive")},function(t,e,n){n(2)("toStringTag")},function(t,e,n){n(2)("unscopables")},function(t,e,n){n(42)(Math,"Math",!0)},function(t,e,n){var r=n(5);n(42)(r.JSON,"JSON",!0)},function(t,e,n){n(2)("asyncDispose")},function(t,e,n){n(2)("dispose")},function(t,e,n){n(2)("observable")},function(t,e,n){n(2)("patternMatch")},function(t,e,n){n(2)("replaceAll")},function(t,e,n){var i=n(287),o=n(292),s=n(296);t.exports=function(t,e){var n;if(t){if("string"==typeof t)return s(t,e);var r=o(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?i(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}},function(t,e,n){t.exports=n(288)},function(t,e,n){var r=n(289);t.exports=r},function(t,e,n){n(76),n(290);var r=n(8);t.exports=r.Array.from},function(t,e,n){var r=n(0),i=n(291);r({target:"Array",stat:!0,forced:!n(172)(function(t){Array.from(t)})},{from:i})},function(t,e,n){"use strict";var p=n(46),g=n(26),v=n(170),m=n(171),y=n(39),b=n(107),T=n(77);t.exports=function(t){var e,n,r,i,o,s,a=g(t),u="function"==typeof this?this:Array,c=arguments.length,l=1<c?arguments[1]:void 0,f=void 0!==l,d=T(a),h=0;if(f&&(l=p(l,2<c?arguments[2]:void 0,2)),null==d||u==Array&&m(d))for(n=new u(e=y(a.length));h<e;h++)s=f?l(a[h],h):a[h],b(n,h,s);else for(o=(i=d.call(a)).next,n=new u;!(r=o.call(i)).done;h++)s=f?v(i,l,[r.value,h],!0):r.value,b(n,h,s);return n.length=h,n}},function(t,e,n){t.exports=n(293)},function(t,e,n){var r=n(173);t.exports=r},function(t,e,n){n(295);var r=n(21);t.exports=r("Array").slice},function(t,e,n){"use strict";var r=n(0),c=n(14),l=n(47),f=n(161),d=n(39),h=n(33),p=n(107),i=n(1),o=n(71),s=n(48),a=o("slice"),u=s("slice",{ACCESSORS:!0,0:0,1:2}),g=i("species"),v=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!a||!u},{slice:function(t,e){var n,r,i,o=h(this),s=d(o.length),a=f(t,s),u=f(void 0===e?s:e,s);if(l(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!l(n.prototype)?c(n)&&null===(n=n[g])&&(n=void 0):n=void 0,n===Array||void 0===n))return v.call(o,a,u);for(r=new(void 0===n?Array:n)(m(u-a,0)),i=0;a<u;a++,i++)a in o&&p(r,i,o[a]);return r.length=i,r}})},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){t.exports=n(299)},function(t,e,n){var r=n(174);n(305),n(306),n(307),n(308),t.exports=r},function(t,e,n){"use strict";function g(t){var e;return!(!S(t)||"function"!=typeof(e=t.then))&&e}function o(f,d,h){if(!d.notified){d.notified=!0;var p=d.reactions;C(function(){for(var t=d.value,e=1==d.state,n=0;p.length>n;){var r,i,o,s=p[n++],a=e?s.ok:s.fail,u=s.resolve,c=s.reject,l=s.domain;try{a?(e||(2===d.rejection&&rt(f,d),d.rejection=1),!0===a?r=t:(l&&l.enter(),r=a(t),l&&(l.exit(),o=!0)),r===s.promise?c(q("Promise-chain cycle")):(i=g(r))?i.call(r,u,c):u(r)):c(t)}catch(t){l&&!o&&l.exit(),c(t)}}d.reactions=[],d.notified=!1,h&&!d.rejection&&et(f,d)})}}function i(t,e,n){var r,i;$?((r=K.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),h.dispatchEvent(r)):r={promise:e,reason:n},(i=h["on"+t])?i(r):"unhandledrejection"===t&&D("Unhandled promise rejection",n)}function s(e,n,r,i){return function(t){e(n,r,t,i)}}function a(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,o(t,e,!0))}var r,u,c,l,f=n(0),d=n(40),h=n(5),p=n(27),v=n(175),m=n(51),y=n(176),b=n(42),T=n(301),S=n(14),E=n(24),_=n(177),A=n(45),w=n(155),P=n(78),x=n(172),L=n(178),R=n(179).set,C=n(302),I=n(181),D=n(303),O=n(59),k=n(79),M=n(49),N=n(146),B=n(1),F=n(103),G=B("species"),U="Promise",H=M.get,j=M.set,V=M.getterFor(U),W=v,q=h.TypeError,K=h.document,X=h.process,Q=p("fetch"),z=O.f,Y=z,J="process"==A(X),$=!!(K&&K.createEvent&&h.dispatchEvent),Z=N(U,function(){if(w(W)===String(W)){if(66===F)return!0;if(!J&&"function"!=typeof PromiseRejectionEvent)return!0}if(d&&!W.prototype.finally)return!0;if(51<=F&&/native code/.test(W))return!1;function t(t){t(function(){},function(){})}var e=W.resolve(1);return(e.constructor={})[G]=t,!(e.then(function(){})instanceof t)}),tt=Z||!x(function(t){W.all(t).catch(function(){})}),et=function(n,r){R.call(h,function(){var t,e=r.value;if(nt(r)&&(t=k(function(){J?X.emit("unhandledRejection",e,n):i("unhandledrejection",n,e)}),r.rejection=J||nt(r)?2:1,t.error))throw t.value})},nt=function(t){return 1!==t.rejection&&!t.parent},rt=function(t,e){R.call(h,function(){J?X.emit("rejectionHandled",t):i("rejectionhandled",t,e.value)})},it=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw q("Promise can't be resolved itself");var i=g(t);i?C(function(){var e={done:!1};try{i.call(t,s(it,n,e,r),s(a,n,e,r))}catch(t){a(n,e,t,r)}}):(r.value=t,r.state=1,o(n,r,!1))}catch(t){a(n,{done:!1},t,r)}}};Z&&(W=function(t){_(this,W,U),E(t),r.call(this);var e=H(this);try{t(s(it,this,e),s(a,this,e))}catch(t){a(this,e,t)}},(r=function(t){j(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(W.prototype,{then:function(t,e){var n=V(this),r=z(L(this,W));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=J?X.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&o(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new r,e=H(t);this.promise=t,this.resolve=s(it,t,e),this.reject=s(a,t,e)},O.f=z=function(t){return t===W||t===c?new u(t):Y(t)},d||"function"!=typeof v||(l=v.prototype.then,m(v.prototype,"then",function(t,e){var n=this;return new W(function(t,e){l.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Q&&f({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(W,Q.apply(h,arguments))}}))),f({global:!0,wrap:!0,forced:Z},{Promise:W}),b(W,U,!1,!0),T(U),c=p(U),f({target:U,stat:!0,forced:Z},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),f({target:U,stat:!0,forced:d||Z},{resolve:function(t){return I(d&&this===c?W:this,t)}}),f({target:U,stat:!0,forced:tt},{all:function(t){var a=this,e=z(a),u=e.resolve,c=e.reject,n=k(function(){var r=E(a.resolve),i=[],o=0,s=1;P(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]=t,--s||u(i))},c)}),--s||u(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=z(n),i=r.reject,e=k(function(){var e=E(n.resolve);P(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}})},function(t,e,n){"use strict";var r=n(27),i=n(25),o=n(1),s=n(16),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r,i,o,s,a,u,c,l,f=n(5),d=n(97).f,h=n(45),p=n(179).set,g=n(180),v=f.MutationObserver||f.WebKitMutationObserver,m=f.process,y=f.Promise,b="process"==h(m),T=d(f,"queueMicrotask"),S=T&&T.value;S||(r=function(){var t,e;for(b&&(t=m.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},s=b?function(){m.nextTick(r)}:v&&!g?(a=!0,u=document.createTextNode(""),new v(r).observe(u,{characterData:!0}),function(){u.data=a=!a}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,function(){l.call(c,r)}):function(){p.call(f,r)}),t.exports=S||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},function(t,e,n){var r=n(5);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){"use strict";var r=n(0),i=n(40),o=n(175),s=n(6),a=n(27),u=n(178),c=n(181),l=n(51);r({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){o.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var n=u(this,a("Promise")),t="function"==typeof e;return this.then(t?function(t){return c(n,e()).then(function(){return t})}:e,t?function(t){return c(n,e()).then(function(){throw t})}:e)}}),i||"function"!=typeof o||o.prototype.finally||l(o.prototype,"finally",a("Promise").prototype.finally)},function(t,e,n){"use strict";var r=n(0),i=n(16),o=n(104),s=n(163),a=n(75),u=n(25),c=n(38),l=n(78),f=n(20),d=n(49),h=d.set,p=d.getterFor("AggregateError"),g=function(t,e){var n=this;if(!(n instanceof g))return new g(t,e);s&&(n=s(new Error(e),o(n)));var r=[];return l(t,r.push,r),i?h(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==e&&f(n,"message",String(e)),n};g.prototype=a(Error.prototype,{constructor:c(5,g),message:c(5,""),name:c(5,"AggregateError")}),i&&u.f(g.prototype,"errors",{get:function(){return p(this).errors},configurable:!0}),r({global:!0},{AggregateError:g})},function(t,e,n){n(182)},function(t,e,n){"use strict";var r=n(0),i=n(59),o=n(79);r({target:"Promise",stat:!0},{try:function(t){var e=i.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},function(t,e,n){"use strict";var r=n(0),f=n(24),d=n(27),i=n(59),o=n(79),h=n(78);r({target:"Promise",stat:!0},{any:function(t){var u=this,e=i.f(u),c=e.resolve,l=e.reject,n=o(function(){var r=f(u.resolve),i=[],o=0,s=1,a=!1;h(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(u,t).then(function(t){n||a||(a=!0,c(t))},function(t){n||a||(n=!0,i[e]=t,--s||l(new(d("AggregateError"))(i,"No one promise resolved")))})}),--s||l(new(d("AggregateError"))(i,"No one promise resolved"))});return n.error&&l(n.value),e.promise}})},function(t,e,n){var r=n(310);t.exports=r},function(t,e,n){n(311);var r=n(8);t.exports=r.URLSearchParams},function(t,e,n){"use strict";n(154);function i(e){try{return decodeURIComponent(e)}catch(t){return e}}function s(t){var e,n=t.replace(M," "),r=4;try{return decodeURIComponent(n)}catch(t){for(;r;)n=n.replace((e=r--,N[e-1]||(N[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))),i);return n}}function r(t){return F[t]}function o(t){return encodeURIComponent(t).replace(B,r)}function f(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:s(r.shift()),value:s(r.join("="))}))}function d(t){this.entries.length=0,f(this.entries,t)}function c(t,e){if(t<e)throw TypeError("Not enough arguments")}var a=n(0),u=n(27),l=n(312),h=n(51),p=n(176),g=n(42),v=n(157),m=n(49),y=n(177),b=n(17),T=n(46),S=n(50),E=n(19),_=n(14),A=n(75),w=n(38),P=n(164),x=n(77),L=n(1),R=u("fetch"),C=u("Headers"),I=L("iterator"),D=m.set,O=m.getterFor("URLSearchParams"),k=m.getterFor("URLSearchParamsIterator"),M=/\+/g,N=Array(4),B=/[!'()~]|%20/g,F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},G=v(function(t,e){D(this,{type:"URLSearchParamsIterator",iterator:P(O(t).entries),kind:e})},"Iterator",function(){var t=k(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),U=function(){y(this,U,"URLSearchParams");var t,e,n,r,i,o,s,a,u,c=0<arguments.length?arguments[0]:void 0,l=[];if(D(this,{type:"URLSearchParams",entries:l,updateURL:function(){},updateSearchParams:d}),void 0!==c)if(_(c))if("function"==typeof(t=x(c)))for(n=(e=t.call(c)).next;!(r=n.call(e)).done;){if((s=(o=(i=P(E(r.value))).next).call(i)).done||(a=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");l.push({key:s.value+"",value:a.value+""})}else for(u in c)b(c,u)&&l.push({key:u,value:c[u]+""});else f(l,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},H=U.prototype;p(H,{append:function(t,e){c(arguments.length,2);var n=O(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){c(arguments.length,1);for(var e=O(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){c(arguments.length,1);for(var e=O(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){c(arguments.length,1);for(var e=O(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){c(arguments.length,1);for(var e=O(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){c(arguments.length,1);for(var n,r=O(this),i=r.entries,o=!1,s=t+"",a=e+"",u=0;u<i.length;u++)(n=i[u]).key===s&&(o?i.splice(u--,1):(o=!0,n.value=a));o||i.push({key:s,value:a}),r.updateURL()},sort:function(){var t,e,n,r=O(this),i=r.entries,o=i.slice();for(n=i.length=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=O(this).entries,r=T(t,1<arguments.length?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),h(H,I,H.entries),h(H,"toString",function(){for(var t,e=O(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(o(t.key)+"="+o(t.value));return n.join("&")},{enumerable:!0}),g(U,"URLSearchParams"),a({global:!0,forced:!l},{URLSearchParams:U}),l||"function"!=typeof R||"function"!=typeof C||a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return 1<arguments.length&&(_(e=arguments[1])&&(n=e.body,"URLSearchParams"===S(n)&&((r=e.headers?new C(e.headers):new C).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=A(e,{body:w(0,String(n)),headers:w(0,r)}))),i.push(e)),R.apply(this,i)}}),t.exports={URLSearchParams:U,getState:O}},function(t,e,n){var r=n(6),i=n(1),o=n(40),s=i("iterator");t.exports=!r(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),n=t.searchParams,r="";return t.pathname="c%20d",n.forEach(function(t,e){n.delete("b"),r+=e+t}),o&&!t.toJSON||!n.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})},function(t,e,n){var r=n(314);t.exports=r},function(t,e,n){n(315);var r=n(8);t.exports=r.Object.keys},function(t,e,n){var r=n(0),i=n(26),o=n(58);r({target:"Object",stat:!0,forced:n(6)(function(){o(1)})},{keys:function(t){return o(i(t))}})},function(t,e,n){n(72);var r=n(317),i=n(50),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===o||t instanceof Array&&e===o.forEach||s.hasOwnProperty(i(t))?r:e}},function(t,e,n){var r=n(318);t.exports=r},function(t,e,n){n(319);var r=n(21);t.exports=r("Array").forEach},function(t,e,n){"use strict";var r=n(0),i=n(320);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){"use strict";var r=n(70).forEach,i=n(80),o=n(48),s=i("forEach"),a=o("forEach");t.exports=s&&a?[].forEach:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}},function(t,e,n){var r=n(322);t.exports=r},function(t,e,n){n(323),t.exports=9007199254740991},function(t,e,n){n(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(174);t.exports=r},function(t,e,n){var r=n(326);t.exports=r},function(t,e,n){n(327);var r=n(8);t.exports=r.Object.assign},function(t,e,n){var r=n(0),i=n(328);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e,n){"use strict";var d=n(16),r=n(6),h=n(58),p=n(168),g=n(66),v=n(26),m=n(67),i=Object.assign,o=Object.defineProperty;t.exports=!i||r(function(){if(d&&1!==i({b:1},i(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=i({},t)[n]||"abcdefghijklmnopqrst"!=h(i({},e)).join("")})?function(t,e){for(var n=v(t),r=arguments.length,i=1,o=p.f,s=g.f;i<r;)for(var a,u=m(arguments[i++]),c=o?h(u).concat(o(u)):h(u),l=c.length,f=0;f<l;)a=c[f++],d&&!s.call(u,a)||(n[a]=u[a]);return n}:i},function(t,e,n){var r=n(330);t.exports=r},function(t,e,n){var r=n(331),i=Function.prototype;t.exports=function(t){var e=t.bind;return t===i||t instanceof Function&&e===i.bind?r:e}},function(t,e,n){n(332);var r=n(21);t.exports=r("Function").bind},function(t,e,n){n(0)({target:"Function",proto:!0},{bind:n(333)})},function(t,e,n){"use strict";var o=n(24),s=n(14),a=[].slice,u={};t.exports=Function.bind||function(e){var n=o(this),r=a.call(arguments,1),i=function(){var t=r.concat(a.call(arguments));return this instanceof i?function(t,e,n){if(!(e in u)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";u[e]=Function("C,a","return new C("+r.join(",")+")")}return u[e](t,n)}(n,t.length,t):n.apply(e,t)};return s(n.prototype)&&(i.prototype=n.prototype),i}},function(t,e,n){"use strict";var r=n(12);t.exports=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){throw 1},1)})}},function(t,e,n){var r=n(336);t.exports=r},function(t,e,n){var r=n(337),i=Array.prototype;t.exports=function(t){var e=t.filter;return t===i||t instanceof Array&&e===i.filter?r:e}},function(t,e,n){n(338);var r=n(21);t.exports=r("Array").filter},function(t,e,n){"use strict";var r=n(0),i=n(70).filter,o=n(71),s=n(48),a=o("filter"),u=s("filter");r({target:"Array",proto:!0,forced:!a||!u},{filter:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){var r=n(340);t.exports=r},function(t,e,n){var r=n(341),i=Array.prototype;t.exports=function(t){var e=t.concat;return t===i||t instanceof Array&&e===i.concat?r:e}},function(t,e,n){n(165);var r=n(21);t.exports=r("Array").concat},function(an,un,t){var cn;!function(t,e){"use strict";"object"==typeof an.exports?an.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(_,t){"use strict";function g(t){return null!=t&&t===t.window}var e=[],r=Object.getPrototypeOf,a=e.slice,v=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},u=e.push,i=e.indexOf,n={},o=n.toString,m=n.hasOwnProperty,s=m.toString,c=s.call(Object),y={},b=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},A=_.document,l={type:!0,src:!0,nonce:!0,noModule:!0};function T(t,e,n){var r,i,o=(n=n||A).createElement("script");if(o.text=t,e)for(r in l)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function S(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[o.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)};function f(t){var e=!!t&&"length"in t&&t.length,n=S(t);return!b(t)&&!g(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}w.fn=w.prototype={jquery:"3.5.0",constructor:w,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(n){return this.pushStack(w.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:e.sort,splice:e.splice},w.extend=w.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||b(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&(c&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[e],o=i&&!Array.isArray(n)?[]:i||w.isPlainObject(n)?n:{},i=!1,s[e]=w.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},w.extend({expando:"jQuery"+("3.5.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==o.call(t)||(e=r(t))&&("function"!=typeof(n=m.call(e,"constructor")&&e.constructor)||s.call(n)!==c))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){T(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(f(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(f(Object(t))?w.merge(n,"string"==typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:i.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!=s&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,s=[];if(f(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&s.push(i);return v(s)},guid:1,support:y}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=e[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var d=function(n){function f(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320))}function i(){E()}var t,h,T,o,s,p,d,g,S,u,c,E,_,a,A,v,l,m,y,w="sizzle"+1*new Date,b=n.document,P=0,r=0,x=ut(),L=ut(),R=ut(),C=ut(),I=function(t,e){return t===e&&(c=!0),0},D={}.hasOwnProperty,e=[],O=e.pop,k=e.push,M=e.push,N=e.slice,B=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",G="[\\x20\\t\\r\\n\\f]",U="(?:\\\\[\\da-fA-F]{1,6}"+G+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\["+G+"*("+U+")(?:"+G+"*([*^$|!~]?=)"+G+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+G+"*\\]",j=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",V=new RegExp(G+"+","g"),W=new RegExp("^"+G+"+|((?:^|[^\\\\])(?:\\\\.)*)"+G+"+$","g"),q=new RegExp("^"+G+"*,"+G+"*"),K=new RegExp("^"+G+"*([>+~]|"+G+")"+G+"*"),X=new RegExp(G+"|>"),Q=new RegExp(j),z=new RegExp("^"+U+"$"),Y={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+G+"*(even|odd|(([+-]|)(\\d*)n|)"+G+"*(?:([+-]|)"+G+"*(\\d+)|))"+G+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+G+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+G+"*((?:-\\d)?\\d*)"+G+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,$=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,nt=/[+~]/,rt=new RegExp("\\\\[\\da-fA-F]{1,6}"+G+"?|\\\\([^\\r\\n\\f])","g"),it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=Tt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{M.apply(e=N.call(b.childNodes),b.childNodes),e[b.childNodes.length].nodeType}catch(n){M={apply:e.length?function(t,e){k.apply(t,N.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function at(t,e,n,r){var i,o,s,a,u,c,l,f=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!r&&(E(e),e=e||_,A)){if(11!==d&&(u=et.exec(t)))if(i=u[1]){if(9===d){if(!(s=e.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(f&&(s=f.getElementById(i))&&y(e,s)&&s.id===i)return n.push(s),n}else{if(u[2])return M.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&h.getElementsByClassName&&e.getElementsByClassName)return M.apply(n,e.getElementsByClassName(i)),n}if(h.qsa&&!C[t+" "]&&(!v||!v.test(t))&&(1!==d||"object"!==e.nodeName.toLowerCase())){if(l=t,f=e,1===d&&(X.test(t)||K.test(t))){for((f=nt.test(t)&&mt(e.parentNode)||e)===e&&h.scope||((a=e.getAttribute("id"))?a=a.replace(it,ot):e.setAttribute("id",a=w)),o=(c=p(t)).length;o--;)c[o]=(a?"#"+a:":scope")+" "+bt(c[o]);l=c.join(",")}try{return M.apply(n,f.querySelectorAll(l)),n}catch(e){C(t,!0)}finally{a===w&&e.removeAttribute("id")}}}return g(t.replace(W,"$1"),e,n,r)}function ut(){var r=[];return function t(e,n){return r.push(e+" ")>T.cacheLength&&delete t[r.shift()],t[e+" "]=n}}function ct(t){return t[w]=!0,t}function lt(t){var e=_.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ft(t,e){for(var n=t.split("|"),r=n.length;r--;)T.attrHandle[n[r]]=e}function dt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pt(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function gt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&st(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function vt(s){return ct(function(o){return o=+o,ct(function(t,e){for(var n,r=s([],t.length,o),i=r.length;i--;)t[n=r[i]]&&(t[n]=!(e[n]=t[n]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in h=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!J.test(e||n&&n.nodeName||"HTML")},E=at.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:b;return r!=_&&9===r.nodeType&&r.documentElement&&(a=(_=r).documentElement,A=!s(_),b!=_&&(n=_.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",i,!1):n.attachEvent&&n.attachEvent("onunload",i)),h.scope=lt(function(t){return a.appendChild(t).appendChild(_.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),h.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),h.getElementsByTagName=lt(function(t){return t.appendChild(_.createComment("")),!t.getElementsByTagName("*").length}),h.getElementsByClassName=tt.test(_.getElementsByClassName),h.getById=lt(function(t){return a.appendChild(t).id=w,!_.getElementsByName||!_.getElementsByName(w).length}),h.getById?(T.filter.ID=function(t){var e=t.replace(rt,f);return function(t){return t.getAttribute("id")===e}},T.find.ID=function(t,e){if(void 0!==e.getElementById&&A){var n=e.getElementById(t);return n?[n]:[]}}):(T.filter.ID=function(t){var n=t.replace(rt,f);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},T.find.ID=function(t,e){if(void 0!==e.getElementById&&A){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),T.find.TAG=h.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):h.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},T.find.CLASS=h.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&A)return e.getElementsByClassName(t)},l=[],v=[],(h.qsa=tt.test(_.querySelectorAll))&&(lt(function(t){var e;a.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+G+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+G+"*(?:value|"+F+")"),t.querySelectorAll("[id~="+w+"-]").length||v.push("~="),(e=_.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||v.push("\\["+G+"*name"+G+"*="+G+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]"),t.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=_.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+G+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(h.matchesSelector=tt.test(m=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&lt(function(t){h.disconnectedMatch=m.call(t,"*"),m.call(t,"[s!='']:x"),l.push("!=",j)}),v=v.length&&new RegExp(v.join("|")),l=l.length&&new RegExp(l.join("|")),e=tt.test(a.compareDocumentPosition),y=e||tt.test(a.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return c=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!h.sortDetached&&e.compareDocumentPosition(t)===n?t==_||t.ownerDocument==b&&y(b,t)?-1:e==_||e.ownerDocument==b&&y(b,e)?1:u?B(u,t)-B(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return c=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!i||!o)return t==_?-1:e==_?1:i?-1:o?1:u?B(u,t)-B(u,e):0;if(i===o)return dt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?dt(s[r],a[r]):s[r]==b?-1:a[r]==b?1:0}),_},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(E(t),h.matchesSelector&&A&&!C[e+" "]&&(!l||!l.test(e))&&(!v||!v.test(e)))try{var n=m.call(t,e);if(n||h.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){C(e,!0)}return 0<at(e,_,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!=_&&E(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=_&&E(t);var n=T.attrHandle[e.toLowerCase()],r=n&&D.call(T.attrHandle,e.toLowerCase())?n(t,e,!A):void 0;return void 0!==r?r:h.attributes||!A?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},at.escape=function(t){return(t+"").replace(it,ot)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],r=0,i=0;if(c=!h.detectDuplicates,u=!h.sortStable&&t.slice(0),t.sort(I),c){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return u=null,t},o=at.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=o(e);return n},(T=at.selectors={cacheLength:50,createPseudo:ct,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(rt,f),t[3]=(t[3]||t[4]||t[5]||"").replace(rt,f),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Q.test(n)&&(e=p(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(rt,f).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+" "];return e||(e=new RegExp("(^|"+G+")"+t+"("+G+"|$)"))&&x(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(t){var e=at.attr(t,n);return null==e?"!="===r:!r||(e+="","="===r?e===i:"!="===r?e!==i:"^="===r?i&&0===e.indexOf(i):"*="===r?i&&-1<e.indexOf(i):"$="===r?i&&e.slice(-i.length)===i:"~="===r?-1<(" "+e.replace(V," ")+" ").indexOf(i):"|="===r&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,t,e,g,v){var m="nth"!==p.slice(0,3),y="last"!==p.slice(-4),b="of-type"===t;return 1===g&&0===v?function(t){return!!t.parentNode}:function(t,e,n){var r,i,o,s,a,u,c=m!=y?"nextSibling":"previousSibling",l=t.parentNode,f=b&&t.nodeName.toLowerCase(),d=!n&&!b,h=!1;if(l){if(m){for(;c;){for(s=t;s=s[c];)if(b?s.nodeName.toLowerCase()===f:1===s.nodeType)return!1;u=c="only"===p&&!u&&"nextSibling"}return!0}if(u=[y?l.firstChild:l.lastChild],y&&d){for(h=(a=(r=(i=(o=(s=l)[w]||(s[w]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===P&&r[1])&&r[2],s=a&&l.childNodes[a];s=++a&&s&&s[c]||(h=a=0)||u.pop();)if(1===s.nodeType&&++h&&s===t){i[p]=[P,a,h];break}}else if(d&&(h=a=(r=(i=(o=(s=t)[w]||(s[w]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===P&&r[1]),!1===h)for(;(s=++a&&s&&s[c]||(h=a=0)||u.pop())&&((b?s.nodeName.toLowerCase()!==f:1!==s.nodeType)||!++h||(d&&((i=(o=s[w]||(s[w]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[P,h]),s!==t)););return(h-=v)===g||h%g==0&&0<=h/g}}},PSEUDO:function(t,o){var e,s=T.pseudos[t]||T.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return s[w]?s(o):1<s.length?(e=[t,t,"",o],T.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,e){for(var n,r=s(t,o),i=r.length;i--;)t[n=B(t,r[i])]=!(e[n]=r[i])}):function(t){return s(t,0,e)}):s}},pseudos:{not:ct(function(t){var r=[],i=[],a=d(t.replace(W,"$1"));return a[w]?ct(function(t,e,n,r){for(var i,o=a(t,null,r,[]),s=t.length;s--;)(i=o[s])&&(t[s]=!(e[s]=i))}):function(t,e,n){return r[0]=t,a(r,null,n,i),r[0]=null,!i.pop()}}),has:ct(function(e){return function(t){return 0<at(e,t).length}}),contains:ct(function(e){return e=e.replace(rt,f),function(t){return-1<(t.textContent||o(t)).indexOf(e)}}),lang:ct(function(n){return z.test(n||"")||at.error("unsupported lang: "+n),n=n.replace(rt,f).toLowerCase(),function(t){var e;do{if(e=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return $.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt(function(){return[0]}),last:vt(function(t,e){return[e-1]}),eq:vt(function(t,e,n){return[n<0?n+e:n]}),even:vt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:vt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:vt(function(t,e,n){for(var r=n<0?n+e:e<n?e:n;0<=--r;)t.push(r);return t}),gt:vt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=T.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[t]=ht(t);for(t in{submit:!0,reset:!0})T.pseudos[t]=pt(t);function yt(){}function bt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function Tt(a,t,e){var u=t.dir,c=t.next,l=c||u,f=e&&"parentNode"===l,d=r++;return t.first?function(t,e,n){for(;t=t[u];)if(1===t.nodeType||f)return a(t,e,n);return!1}:function(t,e,n){var r,i,o,s=[P,d];if(n){for(;t=t[u];)if((1===t.nodeType||f)&&a(t,e,n))return!0}else for(;t=t[u];)if(1===t.nodeType||f)if(i=(o=t[w]||(t[w]={}))[t.uniqueID]||(o[t.uniqueID]={}),c&&c===t.nodeName.toLowerCase())t=t[u]||t;else{if((r=i[l])&&r[0]===P&&r[1]===d)return s[2]=r[2];if((i[l]=s)[2]=a(t,e,n))return!0}return!1}}function St(i){return 1<i.length?function(t,e,n){for(var r=i.length;r--;)if(!i[r](t,e,n))return!1;return!0}:i[0]}function Et(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function _t(h,p,g,v,m,t){return v&&!v[w]&&(v=_t(v)),m&&!m[w]&&(m=_t(m,t)),ct(function(t,e,n,r){var i,o,s,a=[],u=[],c=e.length,l=t||function(t,e,n){for(var r=0,i=e.length;r<i;r++)at(t,e[r],n);return n}(p||"*",n.nodeType?[n]:n,[]),f=!h||!t&&p?l:Et(l,a,h,n,r),d=g?m||(t?h:c||v)?[]:e:f;if(g&&g(f,d,n,r),v)for(i=Et(d,u),v(i,[],n,r),o=i.length;o--;)(s=i[o])&&(d[u[o]]=!(f[u[o]]=s));if(t){if(m||h){if(m){for(i=[],o=d.length;o--;)(s=d[o])&&i.push(f[o]=s);m(null,d=[],i,r)}for(o=d.length;o--;)(s=d[o])&&-1<(i=m?B(t,s):a[o])&&(t[i]=!(e[i]=s))}}else d=Et(d===e?d.splice(c,d.length):d),m?m(null,e,d,r):M.apply(e,d)})}function At(t){for(var i,e,n,r=t.length,o=T.relative[t[0].type],s=o||T.relative[" "],a=o?1:0,u=Tt(function(t){return t===i},s,!0),c=Tt(function(t){return-1<B(i,t)},s,!0),l=[function(t,e,n){var r=!o&&(n||e!==S)||((i=e).nodeType?u(t,e,n):c(t,e,n));return i=null,r}];a<r;a++)if(e=T.relative[t[a].type])l=[Tt(St(l),e)];else{if((e=T.filter[t[a].type].apply(null,t[a].matches))[w]){for(n=++a;n<r&&!T.relative[t[n].type];n++);return _t(1<a&&St(l),1<a&&bt(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(W,"$1"),e,a<n&&At(t.slice(a,n)),n<r&&At(t=t.slice(n)),n<r&&bt(t))}l.push(e)}return St(l)}return yt.prototype=T.filters=T.pseudos,T.setFilters=new yt,p=at.tokenize=function(t,e){var n,r,i,o,s,a,u,c=L[t+" "];if(c)return e?0:c.slice(0);for(s=t,a=[],u=T.preFilter;s;){for(o in n&&!(r=q.exec(s))||(r&&(s=s.slice(r[0].length)||s),a.push(i=[])),n=!1,(r=K.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length)),T.filter)!(r=Y[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?at.error(t):L(t,a).slice(0)},d=at.compile=function(t,e){var n,v,m,y,b,r=[],i=[],o=R[t+" "];if(!o){for(n=(e=e||p(t)).length;n--;)(o=At(e[n]))[w]?r.push(o):i.push(o);(o=R(t,(v=i,y=0<(m=r).length,b=0<v.length,y?ct(s):s))).selector=t}function s(t,e,n,r,i){var o,s,a,u=0,c="0",l=t&&[],f=[],d=S,h=t||b&&T.find.TAG("*",i),p=P+=null==d?1:Math.random()||.1,g=h.length;for(i&&(S=e==_||e||i);c!==g&&null!=(o=h[c]);c++){if(b&&o){for(s=0,e||o.ownerDocument==_||(E(o),n=!A);a=v[s++];)if(a(o,e||_,n)){r.push(o);break}i&&(P=p)}y&&((o=!a&&o)&&u--,t&&l.push(o))}if(u+=c,y&&c!==u){for(s=0;a=m[s++];)a(l,f,e,n);if(t){if(0<u)for(;c--;)l[c]||f[c]||(f[c]=O.call(r));f=Et(f)}M.apply(r,f),i&&!t&&0<f.length&&1<u+m.length&&at.uniqueSort(r)}return i&&(P=p,S=d),l}return o},g=at.select=function(t,e,n,r){var i,o,s,a,u,c="function"==typeof t&&t,l=!r&&p(t=c.selector||t);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===e.nodeType&&A&&T.relative[o[1].type]){if(!(e=(T.find.ID(s.matches[0].replace(rt,f),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=Y.needsContext.test(t)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(rt,f),nt.test(o[0].type)&&mt(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&bt(o)))return M.apply(n,r),n;break}}return(c||d(t,l))(r,e,!A,n,!e||nt.test(t)&&mt(e.parentNode)||e),n},h.sortStable=w.split("").sort(I).join("")===w,h.detectDuplicates=!!c,E(),h.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(_.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ft("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),h.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ft("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ft(F,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),at}(_);w.find=d,w.expr=d.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=d.uniqueSort,w.text=d.getText,w.isXMLDoc=d.isXML,w.contains=d.contains,w.escapeSelector=d.escape;function h(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&w(t).is(n))break;r.push(t)}return r}function p(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}var E=w.expr.match.needsContext;function P(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var x=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(t,n,r){return b(n)?w.grep(t,function(t,e){return!!n.call(t,e,t)!==r}):n.nodeType?w.grep(t,function(t){return t===n!==r}):"string"!=typeof n?w.grep(t,function(t){return-1<i.call(n,t)!==r}):w.filter(n,t,r)}w.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?w.find.matchesSelector(r,t)?[r]:[]:w.find.matches(t,w.grep(e,function(t){return 1===t.nodeType}))},w.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(w(t).filter(function(){for(e=0;e<r;e++)if(w.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)w.find(t,i[e],n);return 1<r?w.uniqueSort(n):n},filter:function(t){return this.pushStack(L(this,t||[],!1))},not:function(t){return this.pushStack(L(this,t||[],!0))},is:function(t){return!!L(this,"string"==typeof t&&E.test(t)?w(t):t||[],!1).length}});var R,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||R,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):b(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this);if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:C.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:A,!0)),x.test(r[1])&&w.isPlainObject(e))for(r in e)b(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=A.getElementById(r[2]))&&(this[0]=i,this.length=1),this}).prototype=w.fn,R=w(A);var I=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function O(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&w(t);if(!E.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&w.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?w.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?i.call(w(t),this[0]):i.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return h(t,"parentNode")},parentsUntil:function(t,e,n){return h(t,"parentNode",n)},next:function(t){return O(t,"nextSibling")},prev:function(t){return O(t,"previousSibling")},nextAll:function(t){return h(t,"nextSibling")},prevAll:function(t){return h(t,"previousSibling")},nextUntil:function(t,e,n){return h(t,"nextSibling",n)},prevUntil:function(t,e,n){return h(t,"previousSibling",n)},siblings:function(t){return p((t.parentNode||{}).firstChild,t)},children:function(t){return p(t.firstChild)},contents:function(t){return null!=t.contentDocument&&r(t.contentDocument)?t.contentDocument:(P(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},function(r,i){w.fn[r]=function(t,e){var n=w.map(this,i,t);return"Until"!==r.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=w.filter(e,n)),1<this.length&&(D[r]||w.uniqueSort(n),I.test(r)&&n.reverse()),this.pushStack(n)}});var k=/[^\x20\t\r\n\f]+/g;function M(t){return t}function N(t){throw t}function B(t,e,n,r){var i;try{t&&b(i=t.promise)?i.call(t).done(e).fail(n):t&&b(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(r){var t,n;r="string"==typeof r?(t=r,n={},w.each(t.match(k)||[],function(t,e){n[e]=!0}),n):w.extend({},r);function i(){for(a=a||r.once,s=o=!0;c.length;l=-1)for(e=c.shift();++l<u.length;)!1===u[l].apply(e[0],e[1])&&r.stopOnFalse&&(l=u.length,e=!1);r.memory||(e=!1),o=!1,a&&(u=e?[]:"")}var o,e,s,a,u=[],c=[],l=-1,f={add:function(){return u&&(e&&!o&&(l=u.length-1,c.push(e)),function n(t){w.each(t,function(t,e){b(e)?r.unique&&f.has(e)||u.push(e):e&&e.length&&"string"!==S(e)&&n(e)})}(arguments),e&&!o&&i()),this},remove:function(){return w.each(arguments,function(t,e){for(var n;-1<(n=w.inArray(e,u,n));)u.splice(n,1),n<=l&&l--}),this},has:function(t){return t?-1<w.inArray(t,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return a=c=[],u=e="",this},disabled:function(){return!u},lock:function(){return a=c=[],e||o||(u=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],c.push(e),o||i()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!s}};return f},w.extend({Deferred:function(t){var o=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",s={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var i=arguments;return w.Deferred(function(r){w.each(o,function(t,e){var n=b(i[e[4]])&&i[e[4]];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&b(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[e[0]+"With"](this,n?[t]:arguments)})}),i=null}).promise()},then:function(e,n,r){var u=0;function c(i,o,s,a){return function(){function t(){var t,e;if(!(i<u)){if((t=s.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,b(e)?a?e.call(t,c(u,o,M,a),c(u,o,N,a)):(u++,e.call(t,c(u,o,M,a),c(u,o,N,a),c(u,o,M,o.notifyWith))):(s!==M&&(n=void 0,r=[t]),(a||o.resolveWith)(n,r))}}var n=this,r=arguments,e=a?t:function(){try{t()}catch(t){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(t,e.stackTrace),u<=i+1&&(s!==N&&(n=void 0,r=[t]),o.rejectWith(n,r))}};i?e():(w.Deferred.getStackHook&&(e.stackTrace=w.Deferred.getStackHook()),_.setTimeout(e))}}return w.Deferred(function(t){o[0][3].add(c(0,t,b(r)?r:M,t.notifyWith)),o[1][3].add(c(0,t,b(e)?e:M)),o[2][3].add(c(0,t,b(n)?n:N))}).promise()},promise:function(t){return null!=t?w.extend(t,s):s}},a={};return w.each(o,function(t,e){var n=e[2],r=e[5];s[e[1]]=n.add,r&&n.add(function(){i=r},o[3-t][2].disable,o[3-t][3].disable,o[0][2].lock,o[0][3].lock),n.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){i[e]=this,o[e]=1<arguments.length?a.call(arguments):t,--n||s.resolveWith(i,o)}}var n=arguments.length,r=n,i=Array(r),o=a.call(arguments),s=w.Deferred();if(n<=1&&(B(t,s.done(e(r)).resolve,s.reject,!n),"pending"===s.state()||b(o[r]&&o[r].then)))return s.then();for(;r--;)B(o[r],e(r),s.reject);return s.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,e){_.console&&_.console.warn&&t&&F.test(t.name)&&_.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},w.readyException=function(t){_.setTimeout(function(){throw t})};var G=w.Deferred();function U(){A.removeEventListener("DOMContentLoaded",U),_.removeEventListener("load",U),w.ready()}w.fn.ready=function(t){return G.then(t).catch(function(t){w.readyException(t)}),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||((w.isReady=!0)!==t&&0<--w.readyWait||G.resolveWith(A,[w]))}}),w.ready.then=G.then,"complete"===A.readyState||"loading"!==A.readyState&&!A.documentElement.doScroll?_.setTimeout(w.ready):(A.addEventListener("DOMContentLoaded",U),_.addEventListener("load",U));var H=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===S(n))for(a in i=!0,n)H(t,e,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,b(r)||(s=!0),c&&(e=s?(e.call(t,r),null):(c=e,function(t,e,n){return c.call(w(t),n)})),e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o},j=/^-ms-/,V=/-([a-z])/g;function W(t,e){return e.toUpperCase()}function q(t){return t.replace(j,"ms-").replace(V,W)}function K(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function X(){this.expando=w.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e=Object.create(null),K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[q(e)]=n;else for(r in e)i[q(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][q(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(q):(e=q(e))in r?[e]:e.match(k)||[]).length;for(;n--;)delete r[e[n]]}void 0!==e&&!w.isEmptyObject(r)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var Q=new X,z=new X,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function $(t,e,n){var r,i;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:Y.test(i)?JSON.parse(i):i)}catch(t){}z.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return z.hasData(t)||Q.hasData(t)},data:function(t,e,n){return z.access(t,e,n)},removeData:function(t,e){z.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),w.fn.extend({data:function(n,t){var e,r,i,o=this[0],s=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){z.set(this,n)}):H(this,function(t){var e;if(o&&void 0===t)return void 0!==(e=z.get(o,n))||void 0!==(e=$(o,n))?e:void 0;this.each(function(){z.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(i=z.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(r=s[e].name).indexOf("data-")&&(r=q(r.slice(5)),$(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i},removeData:function(t){return this.each(function(){z.remove(this,t)})}}),w.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Q.get(t,e),n&&(!r||Array.isArray(n)?r=Q.access(t,e,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=w.queue(t,e),r=n.length,i=n.shift(),o=w._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){w.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:w.Callbacks("once memory").add(function(){Q.remove(t,[e+"queue",n])})})}}),w.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?w.queue(this[0],e):void 0===n?this:this.each(function(){var t=w.queue(this,e,n);w._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&w.dequeue(this,e)})},dequeue:function(t){return this.each(function(){w.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--i||o.resolveWith(s,[s])}var r,i=1,o=w.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(r=Q.get(s[a],t+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),o.promise(e)}});var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),et=["Top","Right","Bottom","Left"],nt=A.documentElement,rt=function(t){return w.contains(t.ownerDocument,t)},it={composed:!0};nt.getRootNode&&(rt=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(it)===t.ownerDocument});function ot(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===w.css(t,"display")}function st(t,e,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return w.css(t,e,"")},u=a(),c=n&&n[3]||(w.cssNumber[e]?"":"px"),l=t.nodeType&&(w.cssNumber[e]||"px"!==c&&+u)&&tt.exec(w.css(t,e));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;s--;)w.style(t,e,l+c),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;l*=2,w.style(t,e,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var at={};function ut(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=Q.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ot(r)&&(i[o]=(f=c=u=void 0,c=(a=r).ownerDocument,l=a.nodeName,(f=at[l])||(u=c.body.appendChild(c.createElement(l)),f=w.css(u,"display"),u.parentNode.removeChild(u),"none"===f&&(f="block"),at[l]=f)))):"none"!==n&&(i[o]="none",Q.set(r,"display",n)));var a,u,c,l,f;for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}w.fn.extend({show:function(){return ut(this,!0)},hide:function(){return ut(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ot(this)?w(this).show():w(this).hide()})}});var ct,lt,ft=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ht=/^$|^module$|\/(?:java|ecma)script/i;ct=A.createDocumentFragment().appendChild(A.createElement("div")),(lt=A.createElement("input")).setAttribute("type","radio"),lt.setAttribute("checked","checked"),lt.setAttribute("name","t"),ct.appendChild(lt),y.checkClone=ct.cloneNode(!0).cloneNode(!0).lastChild.checked,ct.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ct.cloneNode(!0).lastChild.defaultValue,ct.innerHTML="<option></option>",y.option=!!ct.lastChild;var pt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&P(t,e)?w.merge([t],n):n}function vt(t,e){for(var n=0,r=t.length;n<r;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}pt.tbody=pt.tfoot=pt.colgroup=pt.caption=pt.thead,pt.th=pt.td,y.option||(pt.optgroup=pt.option=[1,"<select multiple='multiple'>","</select>"]);var mt=/<|&#?\w+;/;function yt(t,e,n,r,i){for(var o,s,a,u,c,l,f=e.createDocumentFragment(),d=[],h=0,p=t.length;h<p;h++)if((o=t[h])||0===o)if("object"===S(o))w.merge(d,o.nodeType?[o]:o);else if(mt.test(o)){for(s=s||f.appendChild(e.createElement("div")),a=(dt.exec(o)||["",""])[1].toLowerCase(),u=pt[a]||pt._default,s.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;w.merge(d,s.childNodes),(s=f.firstChild).textContent=""}else d.push(e.createTextNode(o));for(f.textContent="",h=0;o=d[h++];)if(r&&-1<w.inArray(o,r))i&&i.push(o);else if(c=rt(o),s=gt(f.appendChild(o),"script"),c&&vt(s),n)for(l=0;o=s[l++];)ht.test(o.type||"")&&n.push(o);return f}var bt=/^key/,Tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function Et(){return!0}function _t(){return!1}function At(t,e){return t===function(){try{return A.activeElement}catch(t){}}()==("focus"===e)}function wt(t,e,n,r,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)wt(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=_t;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return w().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=w.guid++)),t.each(function(){w.event.add(this,e,i,r,n)})}function Pt(t,i,o){o?(Q.set(t,i,!1),w.event.add(t,i,{namespace:!1,handler:function(t){var e,n,r=Q.get(this,i);if(1&t.isTrigger&&this[i]){if(r.length)(w.event.special[i]||{}).delegateType&&t.stopPropagation();else if(r=a.call(arguments),Q.set(this,i,r),e=o(this,i),this[i](),r!==(n=Q.get(this,i))||e?Q.set(this,i,!1):n={},r!==n)return t.stopImmediatePropagation(),t.preventDefault(),n.value}else r.length&&(Q.set(this,i,{value:w.event.trigger(w.extend(r[0],w.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Q.get(t,i)&&w.event.add(t,i,Et)}w.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,c,l,f,d,h,p,g,v=Q.get(e);if(K(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(nt,i),n.guid||(n.guid=w.guid++),(u=v.events)||(u=v.events=Object.create(null)),(s=v.handle)||(s=v.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(k)||[""]).length;c--;)h=g=(a=St.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),h&&(f=w.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=w.event.special[h]||{},l=w.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=u[h])||((d=u[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,p,s)||e.addEventListener&&e.addEventListener(h,s)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,l):d.push(l),w.event.global[h]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,f,d,h,p,g,v=Q.hasData(t)&&Q.get(t);if(v&&(u=v.events)){for(c=(e=(e||"").match(k)||[""]).length;c--;)if(h=g=(a=St.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),h){for(f=w.event.special[h]||{},d=u[h=(r?f.delegateType:f.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)l=d[o],!i&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(t,l));s&&!d.length&&(f.teardown&&!1!==f.teardown.call(t,p,v.handle)||w.removeEvent(t,h,v.handle),delete u[h])}else for(h in u)w.event.remove(t,h+e[c],n,r,!0);w.isEmptyObject(u)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=new Array(arguments.length),u=w.event.fix(t),c=(Q.get(this,"events")||Object.create(null))[u.type]||[],l=w.event.special[u.type]||{};for(a[0]=u,e=1;e<arguments.length;e++)a[e]=arguments[e];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(s=w.event.handlers.call(this,u,c),e=0;(i=s[e++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((w.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(t,e){var n,r,i,o,s,a=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[i=(r=e[n]).selector+" "]&&(s[i]=r.needsContext?-1<w(i,this).index(c):w.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,u<e.length&&a.push({elem:c,handlers:e.slice(u)}),a},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:b(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ft.test(e.type)&&e.click&&P(e,"input")&&Pt(e,"click",Et),!1},trigger:function(t){var e=this||t;return ft.test(e.type)&&e.click&&P(e,"input")&&Pt(e,"click"),!0},_default:function(t){var e=t.target;return ft.test(e.type)&&e.click&&P(e,"input")&&Q.get(e,"click")||P(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Et:_t,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:_t,isPropagationStopped:_t,isImmediatePropagationStopped:_t,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Et,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Et,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Et,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Tt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(t,e){w.event.special[t]={setup:function(){return Pt(this,t,At),!1},trigger:function(){return Pt(this,t),!0},delegateType:e}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,i){w.event.special[t]={delegateType:i,bindType:i,handle:function(t){var e,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||w.contains(this,n))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=i),e}}}),w.fn.extend({on:function(t,e,n,r){return wt(this,t,e,n,r)},one:function(t,e,n,r){return wt(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,w(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=_t),this.each(function(){w.event.remove(this,t,n,e)});for(i in t)this.off(i,e,t[i]);return this}});var xt=/<script|<style|<link/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ct(t,e){return P(t,"table")&&P(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function It(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Dt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ot(t,e){var n,r,i,o,s,a;if(1===e.nodeType){if(Q.hasData(t)&&(a=Q.get(t).events))for(i in Q.remove(e,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)w.event.add(e,i,a[i][n]);z.hasData(t)&&(o=z.access(t),s=w.extend({},o),z.set(e,s))}}function kt(n,r,i,o){r=v(r);var t,e,s,a,u,c,l=0,f=n.length,d=f-1,h=r[0],p=b(h);if(p||1<f&&"string"==typeof h&&!y.checkClone&&Lt.test(h))return n.each(function(t){var e=n.eq(t);p&&(r[0]=h.call(this,t,e.html())),kt(e,r,i,o)});if(f&&(e=(t=yt(r,n[0].ownerDocument,!1,n,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(a=(s=w.map(gt(t,"script"),It)).length;l<f;l++)u=t,l!==d&&(u=w.clone(u,!0,!0),a&&w.merge(s,gt(u,"script"))),i.call(n[l],u,l);if(a)for(c=s[s.length-1].ownerDocument,w.map(s,Dt),l=0;l<a;l++)u=s[l],ht.test(u.type||"")&&!Q.access(u,"globalEval")&&w.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?w._evalUrl&&!u.noModule&&w._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):T(u.textContent.replace(Rt,""),u,c))}return n}function Mt(t,e,n){for(var r,i=e?w.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(gt(r)),r.parentNode&&(n&&rt(r)&&vt(gt(r,"script")),r.parentNode.removeChild(r));return t}w.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,s,a,u,c,l=t.cloneNode(!0),f=rt(t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(s=gt(l),r=0,i=(o=gt(t)).length;r<i;r++)a=o[r],u=s[r],void 0,"input"===(c=u.nodeName.toLowerCase())&&ft.test(a.type)?u.checked=a.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=a.defaultValue);if(e)if(n)for(o=o||gt(t),s=s||gt(l),r=0,i=o.length;r<i;r++)Ot(o[r],s[r]);else Ot(t,l);return 0<(s=gt(l,"script")).length&&vt(s,!f&&gt(t,"script")),l},cleanData:function(t){for(var e,n,r,i=w.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[Q.expando]){if(e.events)for(r in e.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,e.handle);n[Q.expando]=void 0}n[z.expando]&&(n[z.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Mt(this,t,!0)},remove:function(t){return Mt(this,t)},text:function(t){return H(this,function(t){return void 0===t?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return kt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ct(this,t).appendChild(t)})},prepend:function(){return kt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ct(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return kt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return kt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return w.clone(this,t,e)})},html:function(t){return H(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!xt.test(t)&&!pt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return kt(this,arguments,function(t){var e=this.parentNode;w.inArray(this,n)<0&&(w.cleanData(gt(this)),e&&e.replaceChild(t,this))},n)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){w.fn[t]=function(t){for(var e,n=[],r=w(t),i=r.length-1,o=0;o<=i;o++)e=o===i?this:this.clone(!0),w(r[o])[s](e),u.apply(n,e.get());return this.pushStack(n)}});function Nt(t,e,n){var r,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=o[i];return r}var Bt,Ft,Gt,Ut,Ht,jt,Vt,Wt,qt=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),Kt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=_),e.getComputedStyle(t)},Xt=new RegExp(et.join("|"),"i");function Qt(t,e,n){var r,i,o,s,a=t.style;return(n=n||Kt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||rt(t)||(s=w.style(t,e)),!y.pixelBoxStyles()&&qt.test(s)&&Xt.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function Yt(){if(Wt){Vt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Wt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(Vt).appendChild(Wt);var t=_.getComputedStyle(Wt);Bt="1%"!==t.top,jt=12===Jt(t.marginLeft),Wt.style.right="60%",Ut=36===Jt(t.right),Ft=36===Jt(t.width),Wt.style.position="absolute",Gt=12===Jt(Wt.offsetWidth/3),nt.removeChild(Vt),Wt=null}}function Jt(t){return Math.round(parseFloat(t))}Vt=A.createElement("div"),(Wt=A.createElement("div")).style&&(Wt.style.backgroundClip="content-box",Wt.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===Wt.style.backgroundClip,w.extend(y,{boxSizingReliable:function(){return Yt(),Ft},pixelBoxStyles:function(){return Yt(),Ut},pixelPosition:function(){return Yt(),Bt},reliableMarginLeft:function(){return Yt(),jt},scrollboxSize:function(){return Yt(),Gt},reliableTrDimensions:function(){var t,e,n,r;return null==Ht&&(t=A.createElement("table"),e=A.createElement("tr"),n=A.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",n.style.height="9px",nt.appendChild(t).appendChild(e).appendChild(n),r=_.getComputedStyle(e),Ht=3<parseInt(r.height),nt.removeChild(t)),Ht}}));var $t=["Webkit","Moz","ms"],Zt=A.createElement("div").style,te={};function ee(t){return w.cssProps[t]||te[t]||(t in Zt?t:te[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=$t.length;n--;)if((t=$t[n]+e)in Zt)return t}(t)||t)}var ne=/^(none|table(?!-c[ea]).+)/,re=/^--/,ie={position:"absolute",visibility:"hidden",display:"block"},oe={letterSpacing:"0",fontWeight:"400"};function se(t,e,n){var r=tt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function ae(t,e,n,r,i,o){var s="width"===e?1:0,a=0,u=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=w.css(t,n+et[s],!0,i)),r?("content"===n&&(u-=w.css(t,"padding"+et[s],!0,i)),"margin"!==n&&(u-=w.css(t,"border"+et[s]+"Width",!0,i))):(u+=w.css(t,"padding"+et[s],!0,i),"padding"!==n?u+=w.css(t,"border"+et[s]+"Width",!0,i):a+=w.css(t,"border"+et[s]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))||0),u}function ue(t,e,n){var r=Kt(t),i=(!y.boxSizingReliable()||n)&&"border-box"===w.css(t,"boxSizing",!1,r),o=i,s=Qt(t,e,r),a="offset"+e[0].toUpperCase()+e.slice(1);if(qt.test(s)){if(!n)return s;s="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&P(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===w.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===w.css(t,"boxSizing",!1,r),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ae(t,e,n||(i?"border":"content"),o,r,s)+"px"}function ce(t,e,n,r,i){return new ce.prototype.init(t,e,n,r,i)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=q(e),u=re.test(e),c=t.style;if(u||(e=ee(a)),s=w.cssHooks[e]||w.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:c[e];"string"==(o=typeof n)&&(i=tt.exec(n))&&i[1]&&(n=st(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(w.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,s,a=q(e);return re.test(e)||(e=ee(a)),(s=w.cssHooks[e]||w.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=Qt(t,e,r)),"normal"===i&&e in oe&&(i=oe[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(t,u){w.cssHooks[u]={get:function(t,e,n){if(e)return!ne.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ue(t,u,n):Nt(t,ie,function(){return ue(t,u,n)})},set:function(t,e,n){var r,i=Kt(t),o=!y.scrollboxSize()&&"absolute"===i.position,s=(o||n)&&"border-box"===w.css(t,"boxSizing",!1,i),a=n?ae(t,u,n,s,i):0;return s&&o&&(a-=Math.ceil(t["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-ae(t,u,"border",!1,i)-.5)),a&&(r=tt.exec(e))&&"px"!==(r[3]||"px")&&(t.style[u]=e,e=w.css(t,u)),se(0,e,a)}}}),w.cssHooks.marginLeft=zt(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Qt(t,"marginLeft"))||t.getBoundingClientRect().left-Nt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(i,o){w.cssHooks[i+o]={expand:function(t){for(var e=0,n={},r="string"==typeof t?t.split(" "):[t];e<4;e++)n[i+et[e]+o]=r[e]||r[e-2]||r[0];return n}},"margin"!==i&&(w.cssHooks[i+o].set=se)}),w.fn.extend({css:function(t,e){return H(this,function(t,e,n){var r,i,o={},s=0;if(Array.isArray(e)){for(r=Kt(t),i=e.length;s<i;s++)o[e[s]]=w.css(t,e[s],!1,r);return o}return void 0!==n?w.style(t,e,n):w.css(t,e)},t,e,1<arguments.length)}}),((w.Tween=ce).prototype={constructor:ce,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var t=ce.propHooks[this.prop];return t&&t.get?t.get(this):ce.propHooks._default.get(this)},run:function(t){var e,n=ce.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ce.propHooks._default.set(this),this}}).init.prototype=ce.prototype,(ce.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[ee(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ce.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=ce.prototype.init,w.fx.step={};var le,fe,de,he,pe=/^(?:toggle|show|hide)$/,ge=/queueHooks$/;function ve(){fe&&(!1===A.hidden&&_.requestAnimationFrame?_.requestAnimationFrame(ve):_.setTimeout(ve,w.fx.interval),w.fx.tick())}function me(){return _.setTimeout(function(){le=void 0}),le=Date.now()}function ye(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=et[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function be(t,e,n){for(var r,i=(Te.tweeners[e]||[]).concat(Te.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function Te(o,t,e){var n,s,r=0,i=Te.prefilters.length,a=w.Deferred().always(function(){delete u.elem}),u=function(){if(s)return!1;for(var t=le||me(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),r=0,i=c.tweens.length;r<i;r++)c.tweens[r].run(n);return a.notifyWith(o,[c,n,e]),n<1&&i?e:(i||a.notifyWith(o,[c,1,0]),a.resolveWith(o,[c]),!1)},c=a.promise({elem:o,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},e),originalProperties:t,originalOptions:e,startTime:le||me(),duration:e.duration,tweens:[],createTween:function(t,e){var n=w.Tween(o,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)c.tweens[e].run(1);return t?(a.notifyWith(o,[c,1,0]),a.resolveWith(o,[c,t])):a.rejectWith(o,[c,t]),this}}),l=c.props;for(function(t,e){var n,r,i,o,s;for(n in t)if(i=e[r=q(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=w.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(l,c.opts.specialEasing);r<i;r++)if(n=Te.prefilters[r].call(c,o,l,c.opts))return b(n.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return w.map(l,be,c),b(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(u,{elem:o,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(Te,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return st(n.elem,t,tt.exec(e),n),n}]},tweener:function(t,e){for(var n,r=0,i=(t=b(t)?(e=t,["*"]):t.match(k)).length;r<i;r++)n=t[r],Te.tweeners[n]=Te.tweeners[n]||[],Te.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,s,a,u,c,l,f="width"in e||"height"in e,d=this,h={},p=t.style,g=t.nodeType&&ot(t),v=Q.get(t,"fxshow");for(r in n.queue||(null==(s=w._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,w.queue(t,"fx").length||s.empty.fire()})})),e)if(i=e[r],pe.test(i)){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}h[r]=v&&v[r]||w.style(t,r)}if((u=!w.isEmptyObject(e))||!w.isEmptyObject(h))for(r in f&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=v&&v.display)&&(c=Q.get(t,"display")),"none"===(l=w.css(t,"display"))&&(c?l=c:(ut([t],!0),c=t.style.display||c,l=w.css(t,"display"),ut([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===w.css(t,"float")&&(u||(d.done(function(){p.display=c}),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,h)u||(v?"hidden"in v&&(g=v.hidden):v=Q.access(t,"fxshow",{display:c}),o&&(v.hidden=!g),g&&ut([t],!0),d.done(function(){for(r in g||ut([t]),Q.remove(t,"fxshow"),h)w.style(t,r,h[r])})),u=be(g?v[r]:0,r,d),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?Te.prefilters.unshift(t):Te.prefilters.push(t)}}),w.speed=function(t,e,n){var r=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||b(t)&&t,duration:t,easing:n&&e||e&&!b(e)&&e};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ot).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(e,t,n,r){function i(){var t=Te(this,w.extend({},e),s);(o||Q.get(this,"finish"))&&t.stop(!0)}var o=w.isEmptyObject(e),s=w.speed(t,n,r);return i.finish=i,o||!1===s.queue?this.each(i):this.queue(s.queue,i)},stop:function(i,t,o){function s(t){var e=t.stop;delete t.stop,e(o)}return"string"!=typeof i&&(o=t,t=i,i=void 0),t&&this.queue(i||"fx",[]),this.each(function(){var t=!0,e=null!=i&&i+"queueHooks",n=w.timers,r=Q.get(this);if(e)r[e]&&r[e].stop&&s(r[e]);else for(e in r)r[e]&&r[e].stop&&ge.test(e)&&s(r[e]);for(e=n.length;e--;)n[e].elem!==this||null!=i&&n[e].queue!==i||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||w.dequeue(this,i)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=Q.get(this),n=e[s+"queue"],r=e[s+"queueHooks"],i=w.timers,o=n?n.length:0;for(e.finish=!0,w.queue(this,s,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===s&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),w.each(["toggle","show","hide"],function(t,r){var i=w.fn[r];w.fn[r]=function(t,e,n){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(ye(r,!0),t,e,n)}}),w.each({slideDown:ye("show"),slideUp:ye("hide"),slideToggle:ye("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){w.fn[t]=function(t,e,n){return this.animate(r,t,e,n)}}),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(le=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),le=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){fe||(fe=!0,ve())},w.fx.stop=function(){fe=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(r,t){return r=w.fx&&w.fx.speeds[r]||r,t=t||"fx",this.queue(t,function(t,e){var n=_.setTimeout(t,r);e.stop=function(){_.clearTimeout(n)}})},de=A.createElement("input"),he=A.createElement("select").appendChild(A.createElement("option")),de.type="checkbox",y.checkOn=""!==de.value,y.optSelected=he.selected,(de=A.createElement("input")).value="t",de.type="radio",y.radioValue="t"===de.value;var Se,Ee=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return H(this,w.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){w.removeAttr(this,t)})}}),w.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?w.prop(t,e,n):(1===o&&w.isXMLDoc(t)||(i=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?Se:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=w.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&P(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(k);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),Se={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(t,e){var s=Ee[e]||w.find.attr;Ee[e]=function(t,e,n){var r,i,o=e.toLowerCase();return n||(i=Ee[o],Ee[o]=r,r=null!=s(t,e,n)?o:null,Ee[o]=i),r}});var _e=/^(?:input|select|textarea|button)$/i,Ae=/^(?:a|area)$/i;function we(t){return(t.match(k)||[]).join(" ")}function Pe(t){return t.getAttribute&&t.getAttribute("class")||""}function xe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(k)||[]}w.fn.extend({prop:function(t,e){return H(this,w.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[w.propFix[t]||t]})}}),w.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(t)||(e=w.propFix[e]||e,i=w.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):_e.test(t.nodeName)||Ae.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(w.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,u=0;if(b(e))return this.each(function(t){w(this).addClass(e.call(this,t,Pe(this)))});if((t=xe(e)).length)for(;n=this[u++];)if(i=Pe(n),r=1===n.nodeType&&" "+we(i)+" "){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=we(r))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,u=0;if(b(e))return this.each(function(t){w(this).removeClass(e.call(this,t,Pe(this)))});if(!arguments.length)return this.attr("class","");if((t=xe(e)).length)for(;n=this[u++];)if(i=Pe(n),r=1===n.nodeType&&" "+we(i)+" "){for(s=0;o=t[s++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(a=we(r))&&n.setAttribute("class",a)}return this},toggleClass:function(i,e){var o=typeof i,s="string"==o||Array.isArray(i);return"boolean"==typeof e&&s?e?this.addClass(i):this.removeClass(i):b(i)?this.each(function(t){w(this).toggleClass(i.call(this,t,Pe(this),e),e)}):this.each(function(){var t,e,n,r;if(s)for(e=0,n=w(this),r=xe(i);t=r[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==i&&"boolean"!=o||((t=Pe(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===i?"":Q.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+we(Pe(n))+" ").indexOf(e))return!0;return!1}});var Le=/\r/g;w.fn.extend({val:function(n){var r,t,i,e=this[0];return arguments.length?(i=b(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=i?n.call(this,t,w(this).val()):n)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=w.map(e,function(t){return null==t?"":t+""})),(r=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,e,"value")||(this.value=e))})):e?(r=w.valHooks[e.type]||w.valHooks[e.nodeName.toLowerCase()])&&"get"in r&&void 0!==(t=r.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(Le,""):null==t?"":t:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:we(w.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:i.length;for(r=o<0?u:s?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(e=w(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=w.makeArray(e),s=i.length;s--;)((r=i[s]).selected=-1<w.inArray(w.valHooks.option.get(r),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<w.inArray(w(t).val(),e)}},y.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in _;function Re(t){t.stopPropagation()}var Ce=/^(?:focusinfocus|focusoutblur)$/;w.extend(w.event,{trigger:function(t,e,n,r){var i,o,s,a,u,c,l,f,d=[n||A],h=m.call(t,"type")?t.type:t,p=m.call(t,"namespace")?t.namespace.split("."):[];if(o=f=s=n=n||A,3!==n.nodeType&&8!==n.nodeType&&!Ce.test(h+w.event.triggered)&&(-1<h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),u=h.indexOf(":")<0&&"on"+h,(t=t[w.expando]?t:new w.Event(h,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:w.makeArray(e,[t]),l=w.event.special[h]||{},r||!l.trigger||!1!==l.trigger.apply(n,e))){if(!r&&!l.noBubble&&!g(n)){for(a=l.delegateType||h,Ce.test(a+h)||(o=o.parentNode);o;o=o.parentNode)d.push(o),s=o;s===(n.ownerDocument||A)&&d.push(s.defaultView||s.parentWindow||_)}for(i=0;(o=d[i++])&&!t.isPropagationStopped();)f=o,t.type=1<i?a:l.bindType||h,(c=(Q.get(o,"events")||Object.create(null))[t.type]&&Q.get(o,"handle"))&&c.apply(o,e),(c=u&&o[u])&&c.apply&&K(o)&&(t.result=c.apply(o,e),!1===t.result&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(d.pop(),e)||!K(n)||u&&b(n[h])&&!g(n)&&((s=n[u])&&(n[u]=null),w.event.triggered=h,t.isPropagationStopped()&&f.addEventListener(h,Re),n[h](),t.isPropagationStopped()&&f.removeEventListener(h,Re),w.event.triggered=void 0,s&&(n[u]=s)),t.result}},simulate:function(t,e,n){var r=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(r,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each(function(){w.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),y.focusin||w.each({focus:"focusin",blur:"focusout"},function(n,r){function i(t){w.event.simulate(r,t.target,w.event.fix(t))}w.event.special[r]={setup:function(){var t=this.ownerDocument||this.document||this,e=Q.access(t,r);e||t.addEventListener(n,i,!0),Q.access(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=Q.access(t,r)-1;e?Q.access(t,r,e):(t.removeEventListener(n,i,!0),Q.remove(t,r))}}});var Ie=_.location,De={guid:Date.now()},Oe=/\?/;w.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new _.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),e};var ke=/\[\]$/,Me=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,Be=/^(?:input|select|textarea|keygen)/i;function Fe(n,t,r,i){var e;if(Array.isArray(t))w.each(t,function(t,e){r||ke.test(n)?i(n,e):Fe(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,r,i)});else if(r||"object"!==S(t))i(n,t);else for(e in t)Fe(n+"["+e+"]",t[e],r,i)}w.param=function(t,e){function n(t,e){var n=b(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)}var r,i=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,function(){n(this.name,this.value)});else for(r in t)Fe(r,t[r],e,n);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Be.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(t){return{name:e.name,value:t.replace(Me,"\r\n")}}):{name:e.name,value:n.replace(Me,"\r\n")}}).get()}});var Ge=/%20/g,Ue=/#.*$/,He=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ve=/^(?:GET|HEAD)$/,We=/^\/\//,qe={},Ke={},Xe="*/".concat("*"),Qe=A.createElement("a");function ze(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,r=0,i=t.toLowerCase().match(k)||[];if(b(e))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function Ye(e,i,o,s){var a={},u=e===Ke;function c(t){var r;return a[t]=!0,w.each(e[t]||[],function(t,e){var n=e(i,o,s);return"string"!=typeof n||u||a[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),c(n),!1)}),r}return c(i.dataTypes[0])||!a["*"]&&c("*")}function Je(t,e){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r=r||{})[n]=e[n]);return r&&w.extend(!0,t,r),t}Qe.href=Ie.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Je(Je(t,w.ajaxSettings),e):Je(w.ajaxSettings,t)},ajaxPrefilter:ze(qe),ajaxTransport:ze(Ke),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var l,f,d,n,h,r,p,g,i,o,v=w.ajaxSetup({},e),m=v.context||v,y=v.context&&(m.nodeType||m.jquery)?w(m):w.event,b=w.Deferred(),T=w.Callbacks("once memory"),S=v.statusCode||{},s={},a={},u="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(p){if(!n)for(n={};e=je.exec(d);)n[e[1].toLowerCase()+" "]=(n[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=n[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return p?d:null},setRequestHeader:function(t,e){return null==p&&(t=a[t.toLowerCase()]=a[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==p&&(v.mimeType=t),this},statusCode:function(t){var e;if(t)if(p)E.always(t[E.status]);else for(e in t)S[e]=[S[e],t[e]];return this},abort:function(t){var e=t||u;return l&&l.abort(e),c(0,e),this}};if(b.promise(E),v.url=((t||v.url||Ie.href)+"").replace(We,Ie.protocol+"//"),v.type=e.method||e.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(k)||[""],null==v.crossDomain){r=A.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Qe.protocol+"//"+Qe.host!=r.protocol+"//"+r.host}catch(t){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=w.param(v.data,v.traditional)),Ye(qe,v,e,E),p)return E;for(i in(g=w.event&&v.global)&&0==w.active++&&w.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ve.test(v.type),f=v.url.replace(Ue,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Ge,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Oe.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(He,"$1"),o=(Oe.test(f)?"&":"?")+"_="+De.guid+++o),v.url=f+o),v.ifModified&&(w.lastModified[f]&&E.setRequestHeader("If-Modified-Since",w.lastModified[f]),w.etag[f]&&E.setRequestHeader("If-None-Match",w.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||e.contentType)&&E.setRequestHeader("Content-Type",v.contentType),E.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Xe+"; q=0.01":""):v.accepts["*"]),v.headers)E.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(m,E,v)||p))return E.abort();if(u="abort",T.add(v.complete),E.done(v.success),E.fail(v.error),l=Ye(Ke,v,e,E)){if(E.readyState=1,g&&y.trigger("ajaxSend",[E,v]),p)return E;v.async&&0<v.timeout&&(h=_.setTimeout(function(){E.abort("timeout")},v.timeout));try{p=!1,l.send(s,c)}catch(t){if(p)throw t;c(-1,t)}}else c(-1,"No Transport");function c(t,e,n,r){var i,o,s,a,u,c=e;p||(p=!0,h&&_.clearTimeout(h),l=void 0,d=r||"",E.readyState=0<t?4:0,i=200<=t&&t<300||304===t,n&&(a=function(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s=s||i}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,E,n)),!i&&-1<w.inArray("script",v.dataTypes)&&(v.converters["text script"]=function(){}),a=function(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=c[u+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(v,a,E,i),i?(v.ifModified&&((u=E.getResponseHeader("Last-Modified"))&&(w.lastModified[f]=u),(u=E.getResponseHeader("etag"))&&(w.etag[f]=u)),204===t||"HEAD"===v.type?c="nocontent":304===t?c="notmodified":(c=a.state,o=a.data,i=!(s=a.error))):(s=c,!t&&c||(c="error",t<0&&(t=0))),E.status=t,E.statusText=(e||c)+"",i?b.resolveWith(m,[o,c,E]):b.rejectWith(m,[E,c,s]),E.statusCode(S),S=void 0,g&&y.trigger(i?"ajaxSuccess":"ajaxError",[E,v,i?o:s]),T.fireWith(m,[E,c]),g&&(y.trigger("ajaxComplete",[E,v]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],function(t,i){w[i]=function(t,e,n,r){return b(e)&&(r=r||n,n=e,e=void 0),w.ajax(w.extend({url:t,type:i,dataType:r,data:e,success:n},w.isPlainObject(t)&&t))}}),w.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),w._evalUrl=function(t,e,n){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e,n)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(b(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(t){w(this).wrapInner(n.call(this,t))}):this.each(function(){var t=w(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=b(e);return this.each(function(t){w(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new _.XMLHttpRequest}catch(t){}};var $e={0:200,1223:204},Ze=w.ajaxSettings.xhr();y.cors=!!Ze&&"withCredentials"in Ze,y.ajax=Ze=!!Ze,w.ajaxTransport(function(i){var o,s;if(y.cors||Ze&&!i.crossDomain)return{send:function(t,e){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)r.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(o=s=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?e(0,"error"):e(r.status,r.statusText):e($e[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),s=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=s:r.onreadystatechange=function(){4===r.readyState&&_.setTimeout(function(){o&&s()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}}),w.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),w.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(t,e){r=w("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(t){r.remove(),i=null,t&&e("error"===t.type?404:200,t.type)}),A.head.appendChild(r[0])},abort:function(){i&&i()}}});var tn,en=[],nn=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=en.pop()||w.expando+"_"+De.guid++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",function(t,e,n){var r,i,o,s=!1!==t.jsonp&&(nn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=b(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(nn,"$1"+r):!1!==t.jsonp&&(t.url+=(Oe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||w.error(r+" was not called"),o[0]},t.dataTypes[0]="json",i=_[r],_[r]=function(){o=arguments},n.always(function(){void 0===i?w(_).removeProp(r):_[r]=i,t[r]&&(t.jsonpCallback=e.jsonpCallback,en.push(r)),o&&b(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((tn=A.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===tn.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(y.createHTMLDocument?((r=(e=A.implementation.createHTMLDocument("")).createElement("base")).href=A.location.href,e.head.appendChild(r)):e=A),o=!n&&[],(i=x.exec(t))?[e.createElement(i[1])]:(i=yt([t],e,o),o&&o.length&&w(o).remove(),w.merge([],i.childNodes)));var r,i,o},w.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return-1<a&&(r=we(t.slice(a)),t=t.slice(0,a)),b(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),0<s.length&&w.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?w("<div>").append(w.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c=w.css(t,"position"),l=w(t),f={};"static"===c&&(t.style.position="relative"),a=l.offset(),o=w.css(t,"top"),u=w.css(t,"left"),i=("absolute"===c||"fixed"===c)&&-1<(o+u).indexOf("auto")?(s=(r=l.position()).top,r.left):(s=parseFloat(o)||0,parseFloat(u)||0),b(e)&&(e=e.call(t,n,w.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+i),"using"in e?e.using.call(t,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),l.css(f))}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),i.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-w.css(r,"marginTop",!0),left:e.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||nt})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var o="pageYOffset"===i;w.fn[e]=function(t){return H(this,function(t,e,n){var r;if(g(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===n)return r?r[i]:t[e];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):t[e]=n},e,t,arguments.length)}}),w.each(["top","left"],function(t,n){w.cssHooks[n]=zt(y.pixelPosition,function(t,e){if(e)return e=Qt(t,n),qt.test(e)?w(t).position()[n]+"px":e})}),w.each({Height:"height",Width:"width"},function(s,a){w.each({padding:"inner"+s,content:a,"":"outer"+s},function(r,o){w.fn[o]=function(t,e){var n=arguments.length&&(r||"boolean"!=typeof t),i=r||(!0===t||!0===e?"margin":"border");return H(this,function(t,e,n){var r;return g(t)?0===o.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+s],r["scroll"+s],t.body["offset"+s],r["offset"+s],r["client"+s])):void 0===n?w.css(t,e,i):w.style(t,e,n,i)},a,n?t:void 0,n)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){w.fn[e]=function(t){return this.on(e,t)}}),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){w.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}});var rn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),b(t))return r=a.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(a.call(arguments)))}).guid=t.guid=t.guid||w.guid++,i},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=P,w.isFunction=b,w.isWindow=g,w.camelCase=q,w.type=S,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},w.trim=function(t){return null==t?"":(t+"").replace(rn,"")},void 0===(cn=function(){return w}.apply(un,[]))||(an.exports=cn);var on=_.jQuery,sn=_.$;return w.noConflict=function(t){return _.$===w&&(_.$=sn),t&&_.jQuery===w&&(_.jQuery=on),w},void 0===t&&(_.jQuery=_.$=w),w})},function(t,e,n){var r=n(30),i=n(31).f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/;!r||"name"in o||i(o,"name",{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(140),x=n(13),d=n(127),L=n(61),R=n(62),o=n(53),C=n(142),I=n(143),D=Math.max,O=Math.min,h=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;r("replace",2,function(i,S,E,t){var _=t.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,A=t.REPLACE_KEEPS_$0,w=_?"$":"$0";return[function(t,e){var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):S.call(String(n),t,e)},function(t,e){if(!_&&A||"string"==typeof e&&-1===e.indexOf(w)){var n=E(S,t,this,e);if(n.done)return n.value}var r=x(t),i=String(this),o="function"==typeof e;o||(e=String(e));var s=r.global;if(s){var a=r.unicode;r.lastIndex=0}for(var u=[];;){var c=I(r,i);if(null===c)break;if(u.push(c),!s)break;""===String(c[0])&&(r.lastIndex=C(i,L(r.lastIndex),a))}for(var l,f="",d=0,h=0;h<u.length;h++){c=u[h];for(var p=String(c[0]),g=D(O(R(c.index),i.length),0),v=[],m=1;m<c.length;m++)v.push(void 0===(l=c[m])?l:String(l));var y=c.groups;if(o){var b=[p].concat(v,g,i);void 0!==y&&b.push(y);var T=String(e.apply(void 0,b))}else T=P(p,i,g,v,y,e);d<=g&&(f+=i.slice(d,g)+T,d=g+p.length)}return f+i.slice(d)}];function P(o,s,a,u,c,t){var l=a+o.length,f=u.length,e=g;return void 0!==c&&(c=d(c),e=p),S.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return s.slice(0,a);case"'":return s.slice(l);case"<":n=c[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(f<r){var i=h(r/10);return 0===i?t:i<=f?void 0===u[i-1]?e.charAt(1):u[i-1]+e.charAt(1):t}n=u[r-1]}return void 0===n?"":n})}})},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=a(d);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r=n(348);t.exports=r},function(t,e,n){var r=n(349),i=Array.prototype;t.exports=function(t){var e=t.sort;return t===i||t instanceof Array&&e===i.sort?r:e}},function(t,e,n){n(350);var r=n(21);t.exports=r("Array").sort},function(t,e,n){"use strict";var r=n(0),i=n(24),o=n(26),s=n(6),a=n(80),u=[],c=u.sort,l=s(function(){u.sort(void 0)}),f=s(function(){u.sort(null)}),d=a("sort");r({target:"Array",proto:!0,forced:l||!f||!d},{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,e,n){var r=n(173);t.exports=r},function(t,e,n){var r=n(353);t.exports=r},function(t,e,n){var r=n(354),i=Array.prototype;t.exports=function(t){var e=t.reverse;return t===i||t instanceof Array&&e===i.reverse?r:e}},function(t,e,n){n(355);var r=n(21);t.exports=r("Array").reverse},function(t,e,n){"use strict";var r=n(0),i=n(47),o=[].reverse,s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},function(t,e,n){var r=n(357);t.exports=r},function(t,e,n){var r=n(358),i=Array.prototype;t.exports=function(t){var e=t.reduce;return t===i||t instanceof Array&&e===i.reduce?r:e}},function(t,e,n){n(359);var r=n(21);t.exports=r("Array").reduce},function(t,e,n){"use strict";var r=n(0),i=n(360).left,o=n(80),s=n(48),a=o("reduce"),u=s("reduce",{1:0});r({target:"Array",proto:!0,forced:!a||!u},{reduce:function(t){return i(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){function r(c){return function(t,e,n,r){l(e);var i=f(t),o=d(i),s=h(i.length),a=c?s-1:0,u=c?-1:1;if(n<2)for(;;){if(a in o){r=o[a],a+=u;break}if(a+=u,c?a<0:s<=a)throw TypeError("Reduce of empty array with no initial value")}for(;c?0<=a:a<s;a+=u)a in o&&(r=e(r,o[a],a,i));return r}}var l=n(24),f=n(26),d=n(67),h=n(39);t.exports={left:r(!1),right:r(!0)}},function(t,e,n){var r=n(362);t.exports=r},function(t,e,n){n(363);var r=n(8);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return r.JSON.stringify.apply(null,arguments)}},function(t,e,n){function i(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return c.test(t)&&!l.test(i)||l.test(t)&&!c.test(r)?"\\u"+t.charCodeAt(0).toString(16):t}var r=n(0),o=n(27),s=n(6),a=o("JSON","stringify"),u=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,f=s(function(){return'"\\udf06\\ud834"'!==a("\udf06\ud834")||'"\\udead"'!==a("\udead")});a&&r({target:"JSON",stat:!0,forced:f},{stringify:function(t,e,n){var r=a.apply(null,arguments);return"string"==typeof r?r.replace(u,i):r}})},function(t,e,n){var r=n(30),i=n(4),o=n(93),a=n(365),s=n(31).f,u=n(124).f,c=n(141),l=n(96),f=n(137),d=n(32),h=n(12),p=n(56).set,g=n(130),v=n(7)("match"),m=i.RegExp,y=m.prototype,b=/a/g,T=/a/g,S=new m(b)!==b,E=f.UNSUPPORTED_Y;if(r&&o("RegExp",!S||E||h(function(){return T[v]=!1,m(b)!=b||m(T)==T||"/a/i"!=m(b,"i")}))){function _(e){e in A||s(A,e,{configurable:!0,get:function(){return m[e]},set:function(t){m[e]=t}})}for(var A=function(t,e){var n,r=this instanceof A,i=c(t),o=void 0===e;if(!r&&i&&t.constructor===A&&o)return t;S?i&&!o&&(t=t.source):t instanceof A&&(o&&(e=l.call(t)),t=t.source),E&&(n=!!e&&-1<e.indexOf("y"))&&(e=e.replace(/y/g,""));var s=a(S?new m(t,e):m(t,e),r?this:y,A);return E&&n&&p(s,{sticky:n}),s},w=u(m),P=0;w.length>P;)_(w[P++]);(y.constructor=A).prototype=y,d(i,"RegExp",A)}g("RegExp")},function(t,e,n){var o=n(22),s=n(128);t.exports=function(t,e,n){var r,i;return s&&"function"==typeof(r=e.constructor)&&r!==n&&o(i=r.prototype)&&i!==n.prototype&&s(t,i),t}},function(t,e,n){"use strict";var r=n(32),i=n(13),o=n(12),s=n(96),a=RegExp.prototype,u=a.toString,c=o(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),l="toString"!=u.name;(c||l)&&r(RegExp.prototype,"toString",function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in a)?s.call(t):n)},{unsafe:!0})},function(t,e,n){var r=n(368);t.exports=r},function(t,e,n){var r=n(369),i=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===i||t instanceof Array&&e===i.indexOf?r:e}},function(t,e,n){n(370);var r=n(21);t.exports=r("Array").indexOf},function(t,e,n){"use strict";var r=n(0),i=n(160).indexOf,o=n(80),s=n(48),a=[].indexOf,u=!!a&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(t){return u?a.apply(this,arguments)||0:i(this,t,1<arguments.length?arguments[1]:void 0)}})},function(t,h,p){(function(l,f){var d;!function(){h&&h.nodeType,l&&l.nodeType;var t="object"==typeof f&&f;t.global!==t&&t.window!==t&&t.self;var e,m=2147483647,n=/^xn--/,r=/[^\x20-\x7E]/,i=/[\x2E\u3002\uFF0E\uFF61]/g,o={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,b=String.fromCharCode;function T(t){throw new RangeError(o[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function a(t,e){var n=t.split("@"),r="";return 1<n.length&&(r=n[0]+"@",t=n[1]),r+s((t=t.replace(i,".")).split("."),e).join(".")}function S(t){for(var e,n,r=[],i=0,o=t.length;i<o;)55296<=(e=t.charCodeAt(i++))&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function E(t){return s(t,function(t){var e="";return 65535<t&&(e+=b((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+b(t)}).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,n){var r=0;for(t=n?y(t/700):t>>1,t+=y(t/e);455<t;r+=36)t=y(t/35);return y(r+36*t/(t+38))}function u(t){var e,n,r,i,o,s,a,u,c,l,f,d=[],h=t.length,p=0,g=128,v=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)128<=t.charCodeAt(r)&&T("not-basic"),d.push(t.charCodeAt(r));for(i=0<n?n+1:0;i<h;){for(o=p,s=1,a=36;h<=i&&T("invalid-input"),(36<=(u=(f=t.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)||u>y((m-p)/s))&&T("overflow"),p+=u*s,!(u<(c=a<=v?1:v+26<=a?26:a-v));a+=36)s>y(m/(l=36-c))&&T("overflow"),s*=l;v=A(p-o,e=d.length+1,0==o),y(p/e)>m-g&&T("overflow"),g+=y(p/e),p%=e,d.splice(p++,0,g)}return E(d)}function c(t){var e,n,r,i,o,s,a,u,c,l,f,d,h,p,g,v=[];for(d=(t=S(t)).length,e=128,o=72,s=n=0;s<d;++s)(f=t[s])<128&&v.push(b(f));for(r=i=v.length,i&&v.push("-");r<d;){for(a=m,s=0;s<d;++s)(f=t[s])>=e&&f<a&&(a=f);for(a-e>y((m-n)/(h=r+1))&&T("overflow"),n+=(a-e)*h,e=a,s=0;s<d;++s)if((f=t[s])<e&&++n>m&&T("overflow"),f==e){for(u=n,c=36;!(u<(l=c<=o?1:o+26<=c?26:c-o));c+=36)g=u-l,p=36-l,v.push(b(_(l+g%p,0))),u=y(g/p);v.push(b(_(u,0))),o=A(n,h,r==i),n=0,++r}++n,++e}return v.join("")}e={version:"1.4.1",ucs2:{decode:S,encode:E},decode:u,encode:c,toASCII:function(t){return a(t,function(t){return r.test(t)?"xn--"+c(t):t})},toUnicode:function(t){return a(t,function(t){return n.test(t)?u(t.slice(4).toLowerCase()):t})}},void 0===(d=function(){return e}.call(h,p,h,l))||(l.exports=d)}()}).call(this,p(372)(t),p(84))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(375),e.encode=e.stringify=n(376)},function(t,e,n){"use strict";t.exports=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a,u,c=t.length;0<s&&s<c&&(c=s);for(var l=0;l<c;++l){var f,d,h,p,g=t[l].replace(o,"%20"),v=g.indexOf(n);d=0<=v?(f=g.substr(0,v),g.substr(v+1)):(f=g,""),h=decodeURIComponent(f),p=decodeURIComponent(d),a=i,u=h,Object.prototype.hasOwnProperty.call(a,u)?m(i[h])?i[h].push(p):i[h]=[i[h],p]:i[h]=p}return i};var m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function o(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}t.exports=function(n,r,i,t){return r=r||"&",i=i||"=",null===n&&(n=void 0),"object"==typeof n?a(u(n),function(t){var e=encodeURIComponent(o(t))+i;return s(n[t])?a(n[t],function(t){return e+encodeURIComponent(o(t))}).join(r):e+encodeURIComponent(o(n[t]))}).join(r):t?encodeURIComponent(o(t))+i+encodeURIComponent(o(n)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var u=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){var r=n(378);t.exports=r},function(t,e,n){n(379);var r=n(8);t.exports=r.Object.entries},function(t,e,n){var r=n(0),i=n(380).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},function(t,e,n){function r(a){return function(t){for(var e,n=l(t),r=c(n),i=r.length,o=0,s=[];o<i;)e=r[o++],u&&!f.call(n,e)||s.push(a?[e,n[e]]:n[e]);return s}}var u=n(16),c=n(58),l=n(33),f=n(66).f;t.exports={entries:r(!0),values:r(!1)}},function(t,e,n){"use strict";n.r(e),n.d(e,"ByzantiumCore",function(){return ie}),n.d(e,"fetchUserInfo",function(){return ae}),n.d(e,"getAdParams",function(){return ue}),n.d(e,"getPreferredAuthors",function(){return fe}),n.d(e,"getPreferredResourceTypes",function(){return le}),n.d(e,"getPreferredTags",function(){return ce}),n.d(e,"getUserActions",function(){return he}),n.d(e,"getUserSegments",function(){return de}),n.d(e,"calendarMonthsBetween",function(){return se}),n(112),n(209),n(211),n(57),n(225),n(139),n(226);var r=n(183),a=n.n(r),i=n(9),R=n.n(i),o=n(108),s=n.n(o),u=n(34),C=n.n(u),c=n(109),l=n.n(c),f=n(110),d=n.n(f),h=(n(153),n(184)),p=n.n(h),g=n(111),v=n.n(g),m=n(10),I=n.n(m),y=n(3),D=n.n(y),b=n(82),T=n.n(b),S=n(44),E=n.n(S),_=n(11),A=n.n(_),w=n(15),P=n.n(w),x=n(185),L=n.n(x),O=n(186),k=n.n(O),M=(n(81),n(28)),N=n.n(M),B=n(18),F=n.n(B),G=(n(342),n(343),n(344),n(187)),U=n.n(G),H=n(188),j={Author:!0,City:!0,Classification:!0,Commodity:!0,Company:!0,Country:!0,Currency:!0,Dataarticle:!0,Event:!0,Feature:!0,Fund:!0,Index:!0,Interactive:!0,Location:!0,Organization:!0,Person:!0,Region:!0,Series:!0,Slideshow:!0,Story:!0,Topic:!0,Video:!0,Storythread:!0},V={deviceInfo:"metadata.paywall.device",countryCode:"metadata.paywall.country",referrerSource:"metadata.paywall.referrer"};function W(t){var e,n,r,i,o,s,a,u,c,l,f,d=t.baseUrl;return F()(e="".concat(d,"?")).call(e,(c=function(t){var e,n=t.id,r=t.contentType;if(void 0!==n&&Object.prototype.hasOwnProperty.call(j,r))return{currentResource:F()(e="".concat(r,"|")).call(e,n)}}(n=t),l=n.sessionInfo,f=(r=n).deviceInfo?{deviceInfo:F()(i=F()(o="".concat(r.deviceInfo.platform,"|")).call(o,r.deviceInfo.OS,"|")).call(i,r.deviceInfo.browserName)}:r.deviceInfo,s=A()({},c,l,f,{countryCode:n.countryCode},{referrerSource:n.referrerSource},{limit:100}),R()(a=N()(u=I()(s)).call(u,function(t){var e=s[t];return!(null==e||""===e)})).call(a,function(t){var e,n=s[t],r=void 0===V[t]?encodeURIComponent(t):encodeURIComponent(V[t]),i=encodeURIComponent(n);return F()(e="".concat(r,"=")).call(e,i)}).join("&")))}var q=n(83),K=n.n(q),X=n(43),Q=n.n(X),z=n(189),Y=n.n(z),J=n(35),$=n.n(J),Z=n(190),tt=n.n(Z),et=20,nt=1,rt=.25;function it(t,e){var n;if(Object.prototype.hasOwnProperty.call(t,"assetType")&&Object.prototype.hasOwnProperty.call(t,"assetID")&&(t.statsInfo&&t.statsInfo["1y"]&&(n=t.statsInfo["1y"].score),n))return{id:t.assetID,derivedScore:n*e,type:t.assetType}}var ot={Person:3,Company:3,Index:1,Topic:2,Commodity:1.5,City:2,Fund:1,Organization:1,Country:2,Currency:2,Region:3,Classification:2,Location:1,Event:1},st={Bond:!0,City:!0,Classification:!0,Commodity:!0,Company:!0,Country:!0,Currency:!0,Event:!0,Fund:!0,Index:!0,Location:!0,Organization:!0,Person:!0,Region:!0,Topic:!0},at={Person:"People",Company:"Tickers",Index:"Indexes",Topic:"Topics",Resourcetype:"Resourcetypes"};function ut(t){return N()(t).call(t,function(t){var e=t.type;return Object.prototype.hasOwnProperty.call(st,e)})}function ct(t){return N()(t).call(t,function(t){var e=t.type;return t.derivedScore>=ot[e]})}function lt(t){return R()(t).call(t,function(t){var e=t.derivedScore,n=t.type;return void 0===e&&(e=ot[n]||0),A()({},t,{derivedScore:e})})}function ft(t){return It(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:et)}function dt(t){return It(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:nt)}function ht(e){var t;return D()(t=I()(e)).call(t,function(t){e[t]=e[t].join(",")}),e}function pt(t){return $()(t).call(t,function(t,e){var n=e.id,r=e.type;return t[r]=t[r]||[],t[r].push(n),t},{})}function gt(r){var t;return $()(t=I()(r)).call(t,function(t,e){return t[at[n=e]||n]=r[e],t;var n},{})}function vt(t){var e,n=t.type,r=t.id;return F()(e="".concat(n,"|")).call(e,r)}function mt(t){var e,n=$()(t).call(t,function(t,e){return Object.prototype.hasOwnProperty.call(t,e.type)?t[e.type]+=e.derivedScore:t[e.type]=e.derivedScore,t},{});return R()(e=I()(n)).call(e,function(t){return{id:t,type:"contextTagTypes",derivedScore:n[t]}})}var yt=20,bt=0;function Tt(t){return It(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:yt)}var St=1,Et=.25,_t={Commodity:"Quote",Company:"Quote",Currency:"Quote",Dataarticle:"Story",Feature:"Story",Fund:"Quote",Index:"Quote",Interactive:"Story",Quicktake:"Story",Slideshow:"Story",Story:"Story",Video:"Video",Storythread:"Storythread"};function At(t){return It(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:St)}var wt={"m.facebook.com":"FACEBOOK","www.facebook.com":"FACEBOOK","lm.facebook.com":"FACEBOOK","l.facebook.com":"FACEBOOK","t.co":"TWITTER","www.twitter.com":"TWITTER","www.linkedin.com":"LINKEDIN","lnkd.in":"LINKEDIN","touch.www.linkedin.com":"LINKEDIN","plus.url.google.com":"GOOGLE_PLUS","www.reddit.com":"REDDIT","www.bloomberg.com":"BLOOMBERG"},Pt=/https?:\/\/([^ /]+)/,xt={deepestPaywallStage:"ua_dps"};function Lt(t){var e=t.userInfo,n=t.contextInfo;e=e||{};var r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,b,T,S,E,_,A=(void 0===n?{}:n).contentTags,w=void 0===A?[]:A,P=Rt(w,[ut,lt,ct]),x=Rt(P,[ft,pt]),L=Rt(w,[mt,dt,pt]);return{contextTagsTypeMap:x,preferredTagsTypeMap:Rt(function(t){var e=t.contextTags,n=t.preferredTags,r=JSON.parse(tt()(e)),i={};D()(r).call(r,function(t){var e=vt(t);i[e]=t});var o=[];return D()(n).call(n,function(t){var e=vt(t);Object.prototype.hasOwnProperty.call(i,e)?i[e].derivedScore+=t.derivedScore:o.push(t)}),F()(r).call(r,o)}({contextTags:P,preferredTags:(y=[],b=e.Tag,T=(b=void 0===b?{}:b).Confidence,S=void 0===T?0:T,E=b.Preferences,_=void 0===E?{}:E,S<rt||D()(m=I()(st)).call(m,function(t){var e=_[t];C()(e)&&D()(e).call(e,function(t){var e=it(t,S);e&&y.push(e)})}),y)}),[ft,pt]),preferredAuthorsMap:Rt((f=[],d=e.Author,h=(d=void 0===d?{}:d).Confidence,p=void 0===h?0:h,g=d.Preferences,v=void 0===g?[]:g,p<bt||C()(v)&&D()(v).call(v,function(t){var e=it(t,p);e&&f.push(e)}),f),[Tt,pt]),preferredResourceTypesMap:Rt((i=[],o={},s=e.Resourcetype,a=(s=void 0===s?{}:s).Confidence,u=void 0===a?0:a,c=s.Preferences,l=void 0===c?[]:c,u<Et?i:C()(l)?(D()(l).call(l,function(t){if(Object.prototype.hasOwnProperty.call(t,"assetType")){var e,n=_t[t.assetType];n&&(t.statsInfo&&t.statsInfo["1y"]&&(e=t.statsInfo["1y"].score),o[n]=(o[n]||0)+e)}}),i=R()(r=I()(o)).call(r,function(t){return{id:t,type:"Resourcetype",derivedScore:o[t]}})):i),[At,pt]),cumulativeScoredContentTagsMap:L}}function Rt(t,e){return $()(e).call(e,function(t,e){return e(t)},t)}function Ct(t,e){var n={};for(var r in t)t[r]&&(n[e+r]=t[r]);return n}function It(t,e){var n,r,i;return void 0===e||e<=0?[]:Y()(n=Q()(r=K()(i=Q()(t).call(t)).call(i,function(t,e){return t.derivedScore<e.derivedScore?-1:t.derivedScore>e.derivedScore?1:0})).call(r,-e)).call(n)}n(364),n(366);function Dt(t){return N()(t).call(t,function(t){return t}).join(".")}var Ot,kt=n(36),Mt=n.n(kt),Nt=n(191),Bt=n.n(Nt),Ft=R()(Ot=["com","co.jp","co.uk","es","ca","de","it","fr","com.au","com.br","com.gr","co.in","co.id","com.mx","dk","com.ar","ch","cl","at","co.kr","ie","com.co","pl","pt","com.pk"]).call(Ot,function(t){return"www.google.".concat(t)}),Gt=["","us","ca","uk","in","au","nl","nz","sg","de","es","ln","fr"],Ut=R()(Gt).call(Gt,function(t){return Dt([t,"search.yahoo.com"])}),Ht=R()(Gt).call(Gt,function(t){return Dt([t,"video.search.yahoo.com"])}),jt={"drudgereport.com":"DRUDGEREPORT","www.drudgereport.com":"DRUDGEREPORT","m.facebook.com":"FACEBOOK","www.facebook.com":"FACEBOOK","lm.facebook.com":"FACEBOOK","l.facebook.com":"FACEBOOK","t.co":"TWITTER","www.twitter.com":"TWITTER","www.linkedin.com":"LINKEDIN","lnkd.in":"LINKEDIN","touch.www.linkedin.com":"LINKEDIN","plus.url.google.com":"GOOGLE_PLUS","www.reddit.com":"REDDIT","www.bing.com":"BING_SEARCH","bing.com":"BING_SEARCH"};D()(Ft).call(Ft,function(t){return jt[t]="GOOGLE_SEARCH"}),D()(Ht).call(Ht,function(t){return jt[t]="YAHOO_SEARCH"}),D()(Ut).call(Ut,function(t){return jt[t]="YAHOO_SEARCH"});var Vt={INTERNAL_WEB:"INTERNAL",INTERNAL_MOBILE:"INTERNAL",FACEBOOK:"SOCIAL",LINKEDIN:"SOCIAL",TWITTER:"SOCIAL",GOOGLE_PLUS:"SOCIAL",REDDIT:"SOCIAL",DRUDGEREPORT:"NEWS_PORTALS",GOOGLE_SEARCH:"SEARCH",BING_SEARCH:"SEARCH",YAHOO_SEARCH:"SEARCH",OTHERS:"OTHERS"},Wt=function(t){var e=t.path,n=t.hostname;return e&&0===Mt()(e).call(e,"//com.google.android.googlequicksearchbox")&&"android-app"===n},qt=function(t){var e=t.path,n=t.hostname;return e&&0===Mt()(e).call(e,"/auth/chrome-content-suggestions")&&"googleapis.com"===n},Kt=function(t){var e=null,n=RegExp("^(http|https)://.*$");if(t&&0<t.length){var r=decodeURI(t);r=Qt(r),r=n.test(r)?r:"http://".concat(r),e=Bt.a.parse(r)}return e},Xt=function(t){var e=null;if(t&&0<t.length){var n=Qt(t);-1!==Mt()(n).call(n,".bloomberg.com")&&(e="INTERNAL_WEB"),-1!==Mt()(n).call(n,"mobile://")&&(e="INTERNAL_MOBILE")}return e},Qt=function(t){return t.split("\\?",2)[0]},zt=n(192),Yt=n.n(zt);var Jt,$t={v1:function(t,i,o){var s={};try{D()(t).call(t,function(t){var e,n="/"===t.charAt(0)?t:"/".concat(t);if(void 0!==o[n]&&void 0!==o[n][i]){var r=o[n][i];D()(e=I()(r)).call(e,function(t){var e=o[n][i][t];Object.prototype.hasOwnProperty.call(s,t)?s[t]=Math.max(s[t],e[0]/e[1]):s[t]=e[0]/e[1]})}})}catch(t){s={}}return{values:s}}},Zt={BASE_URL_FOR_USER_INFO:/origin\..*\.bloomberg.com/.test(window.location.host)?"https://personalization-stg.bloomberg.com/user/info":"https://personalization.bloomberg.com/user/info",STR_FILE_URL:"https://assets.bwbx.io/s3/mediaservices/superelastic/data.json"},te="userInfo",ee="contentMetadata",ne=Zt.BASE_URL_FOR_USER_INFO,re=Zt.STR_FILE_URL,ie=(k()(oe,[{key:"_withUserInfo",value:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._bridge.getItem(te).then(function(t){var e=A()({},r,{userInfo:t});return n(e)})}},{key:"refreshUserInfo",value:function(){var u=this,c=!1,l=!1,f=this.baseUrl,t=this._bridge.needsPersonalizationRefresh().then(function(t){return l=t,E.a.all([u._bridge.getCurrentResource(),u._bridge.getSessionInfo(),u._bridge.getPersonalizationAllowed(),u._bridge.geoIp(),u._bridge.getReferrer(),u._bridge.getQueryParams()]).then(function(t){c=t[2];var e=t[0],n=e.id,r=e.contentType,i=c?t[1]:{},o=t[3],s=function(t,e){var n="Direct",r=e.get("utm_source")||t,i=e.get("utm_medium")||"",o=["google","bing","yahoo"],s=F()(o).call(o,["duckduckgo"]),a=["offer","nurture"],u=/.*newsletter.*/;try{if("display"===i)return"Display";if("webpush"===r)return"Web_Push";if(-1!==Mt()(s).call(s,r))return"cpc"===i?"Paid_Search":"Organic_Search";if(-1===Mt()(o).call(o,r)&&"cpc"===i)return"Paid_Social";var c=Mt()(a).call(a,r);if(-1===c&&"email"===i||u.test(r)||u.test(i))return"Newsletter";if(-1!==c&&"email"===i){var l,f=a[c];return F()(l="Email_".concat(f.charAt(0).toUpperCase())).call(l,Q()(f).call(f,1))}if(new RegExp(["fb","t.co",".*facebook.*",".*twitter.*",".*instagram.*",".*likeshop.*",".*reddit.*",".*linkedin.*",".*snapchat.*"].join("|"),"i").test(r)&&"cpc"!==i)return"Organic_Social";if(""!==r)return"Referral"}catch(t){n="Direct"}return n}(t[4],t[5]);if(l){var a=function(){var t=void 0;try{var e=Object(H.a)(),n="React_Native";if(window.navigator.userAgent){var r=new U.a(window.navigator.userAgent);n="Desktop",r.mobile()?n="Mobile":r.tablet()&&(n="Tablet")}t={platform:n,OS:e.os?e.os.replace(/\s/g,"_"):e.os,browserName:e.name}}catch(e){t=void 0}return t}();return u.fetchUserInfo({baseUrl:f,sessionInfo:i,id:n,contentType:r,deviceInfo:a,countryCode:o,referrerSource:s})}return u._bridge.getItem(te)}).then(function(t){return u.userInfo=c&&t||{},u.userInfo}).catch(function(t){console.error(t)})});return window.__bloomberg__&&window.__bloomberg__.byzantium&&(window.__bloomberg__.byzantium.userInfoPromise=t),t}},{key:"fetchUserInfo",value:function(t){var e=this;return ae(t).then(function(t){return e._bridge.setItem(te,t).then(function(){return t})})}},{key:"getAdParams",value:function(t){return this._withUserInfo(ue,t)}},{key:"getTags",value:function(t){var e={},n=this._bridge.getItemSync(ee,!0);return this._bridge.getItemSync&&(e=ue({userInfo:this._bridge.getItemSync(te),referrer:this._bridge.getReferrerSync(),contentTags:n&&n.contentTags||[]})),A()({},t,e)}},{key:"getAdRecommendations",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.threshold,r=void 0===n?.3:n,i=e.targetingParamLimit,o=void 0===i?T.a:i,s=function(t,e,n){var r,i,o,s,a=1<arguments.length&&void 0!==e?e:0,u=2<arguments.length&&void 0!==n?n:T.a,c="";return t&&t.Metadata&&t.Metadata.prediction&&t.Metadata.prediction.adPropensity&&(c=R()(r=Q()(i=K()(o=N()(s=Yt()(t.Metadata.prediction.adPropensity)).call(s,function(t){return t[1]>=a})).call(o,function(t,e){return e[1]-t[1]})).call(i,0,u)).call(r,function(t){return t[0]}).join(",")),c}(this._bridge.getItemSync(te)||{},r,o);return A()({},t,{recs:s})}},{key:"getTagsWithDefaults",value:function(t){return this.getTags(t)}},{key:"getTagsWithContentInfo",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={};return this._bridge.getItemSync&&(n=ue({userInfo:this._bridge.getItemSync(te),referrer:this._bridge.getReferrerSync(),contentTags:e.contentTags||[]})),A()({},t,n)}},{key:"injectIFrame",value:function(t,e,n){"function"==typeof this._bridge.injectIFrame&&this._bridge.injectIFrame(t,e,n)}},{key:"getPreferredTags",value:function(t){return this._withUserInfo(ce,t)}},{key:"getPreferredResourceTypes",value:function(){return this._withUserInfo(le)}},{key:"getPreferredAuthors",value:function(){return this._withUserInfo(fe)}},{key:"getUserSegments",value:function(){return this._withUserInfo(de)}},{key:"getUserActions",value:function(){return this._withUserInfo(he)}},{key:"getUserMetadata",value:function(){return this._bridge.getItem(te).then(function(t){var e,n,r,i=(t||{}).Metadata,o=void 0===i?{}:i,s=(e=o.attribute,n=new Date,r=e&&e.firstVisitedDate?se(n,e.firstVisitedDate):1,A()({},e,{calendarMonthSinceFirstVisit:r}));return{Metadata:A()({},o,{attribute:s})}})}},{key:"getUserInfo",value:function(){return this.userInfo}},{key:"getContextMetadata",value:function(){return"function"==typeof this._bridge.getReferrer?this._bridge.getReferrer().then(function(t){return{Metadata:{attribute:{domainCategory:(e=t,n=function(t){var e=Xt(t);if(null!==e)return e;var n=Kt(t);if(null===n)return"OTHERS";if(Wt(n)||qt(n))return"GOOGLE_SEARCH";var r=n.host,i=jt[r];return i=i||"OTHERS"}(e),r=Vt[n],r=r||Vt.OTHERS,r)}}};var e,n,r}):E.a.resolve({})}},{key:"setContentMetadata",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.contentTags,n=void 0===e?[]:e,r=t.brand,i=void 0===r?"":r,o=t.franchise,s=void 0===o?"":o,a=t.adCodes,u=void 0===a?[]:a,c=t.contentType,l=void 0===c?"":c,f=t.id,d=void 0===f?"":f;return this._bridge.setItem(ee,{contentTags:n,brand:i,franchise:s,adCodes:u,contentType:l,id:d},!0)}},{key:"getContentMetadata",value:function(){return this._bridge.getItem(ee,!0)}},{key:"getSTRValues",value:function(){var r,i,e=this,o={},t=[this._bridge.getItem(ee,!0),this._bridge.geoIp()];return E.a.all(t).then(function(t){return i=t[0]&&t[0].adCodes||[],r=t[1]||"",e._fetchSTRFile(e.strFileUrl)}).then(function(n){var t;return D()(t=I()($t)).call(t,function(t){var e=$t[t];o[t]=e(i,r,n)}),o}).catch(function(t){return console.error(t),{}})}},{key:"_fetchSTRFile",value:function(t){return fetch(t).then(function(t){return t.ok?t.json():E.a.reject(t.statusText)})}},{key:"getUrlValues",value:function(){var e={url:"",utmValues:void 0,queryParams:void 0},t=[this._bridge.getUrl(),this._bridge.getQueryParams("utm_.*"),this._bridge.getQueryParams()];return E.a.all(t).then(function(t){return e.url=t[0]||"",e.utmValues=t[1]||new v.a,e.queryParams=t[2]||new v.a,e}).catch(function(t){return console.error(t),e})}},{key:"getTargetingMetadata",value:(Jt=p()(l.a.mark(function t(){var e,n,r,i,o,s,a,u;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getContentMetadata();case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0={};case 6:return e=t.t0,n=[this.getContextMetadata(),this.getAdParams(e.contentTags),this.getUrlValues(),this.getUserMetadata()],t.next=10,E.a.all(n);case 10:return r=t.sent,i=d()(r,4),o=i[0],s=i[1],a=i[2],u=i[3],t.abrupt("return",{contextInfo:o,tagsInfo:s,urlUtmValues:a,contentMetadata:e,byzantium:u});case 19:throw t.prev=19,t.t1=t.catch(0),console.error(t.t1),t.t1;case 23:case"end":return t.stop()}},t,this,[[0,19]])})),function(){return Jt.apply(this,arguments)})},{key:"_flushQueue",value:function(){if(C()(this.queue))for(;this.queue.length;){var t=this.queue.shift();"function"==typeof t&&t()}}}]),oe);function oe(t){var e,n,r,i,o,s,a,u,c,l,f,d,h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},p=h.baseUrl,g=void 0===p?ne:p,v=h.strFileUrl,m=void 0===v?re:v;L()(this,oe),this.queue=window.__bloomberg__&&window.__bloomberg__.byzantium&&window.__bloomberg__.byzantium.queue||[],this.getTags=P()(e=this.getTags).call(e,this),this.getUserInfo=P()(n=this.getUserInfo).call(n,this),this.getTagsWithContentInfo=P()(r=this.getTagsWithContentInfo).call(r,this),this.getTagsWithDefaults=P()(i=this.getTagsWithDefaults).call(i,this),this.injectIFrame=P()(o=this.injectIFrame).call(o,this),this.setContentMetadata=P()(s=this.setContentMetadata).call(s,this),this.getContentMetadata=P()(a=this.getContentMetadata).call(a,this),this.getSTRValues=P()(u=this.getSTRValues).call(u,this),this.getUrlValues=P()(c=this.getUrlValues).call(c,this),this.refreshUserInfo=P()(l=this.refreshUserInfo).call(l,this),this.getTargetingMetadata=P()(f=this.getTargetingMetadata).call(f,this),this.getAdRecommendations=P()(d=this.getAdRecommendations).call(d,this),this._bridge=t,this.strFileUrl=m,this.baseUrl=g,this.userInfo=this._bridge.getPersonalizationAllowedSync&&this._bridge.getPersonalizationAllowedSync()?this._bridge.getItemSync(te):{},this._flushQueue()}function se(t,e){var n=e.split("-"),r=d()(n,2),i=r[0],o=r[1];return 12*(t.getFullYear()-s()(i))+(t.getMonth()+1-s()(o))+1}function ae(t){var e=t.fetchApi;return(void 0===e?fetch:e)(W(t)).then(function(t){return t.json()})}function ue(t){var e=t.userInfo,n=t.contentTags;return function(t){var e,n,r=t.userInfo,i=void 0===r?{}:r,o=t.contextInfo,s=(o=void 0===o?{}:o).referrer,a=Lt(t),u=a.contextTagsTypeMap,c=a.preferredTagsTypeMap,l=a.preferredResourceTypesMap,f=a.cumulativeScoredContentTagsMap,d=Rt(u,[gt,ht]),h=Rt(f,[gt,ht]),p=Rt(A()({},c,l),[gt,ht]),g=A()({},Ct(d,"context"),Ct(p,"preferred"),h),v=s?{referrer:(e=s,n=Pt.exec(e),null===n||""===n?e:wt[n[1]]||n[1])}:{},m=function(t){var e,n=0<arguments.length&&void 0!==t?t:{};null===n&&(n={});var r=n.Metadata,i=(r=void 0===r?{}:r).attribute,o=void 0===i?{}:i;return $()(e=I()(o)).call(e,function(t,e){var n=xt[e];return n&&(t[n]=o[e]),t},{})}(i);return A()({},v,g,m)}({userInfo:e,contextInfo:{referrer:t.referrer,contentTags:n}})}function ce(t){return Lt({userInfo:t.userInfo,contextInfo:{contentTags:t.contentTags}}).preferredTagsTypeMap}function le(t){return Lt({userInfo:t.userInfo}).preferredResourceTypesMap}function fe(t){return Lt({userInfo:t.userInfo}).preferredAuthorsMap}function de(t){return pe({userInfo:t.userInfo,targetField:"segment",outputField:"userSegments"})}function he(t){return pe({userInfo:t.userInfo,targetField:"action",outputField:"userActions"})}function pe(t){var e=t.userInfo,n=t.targetField,r=t.outputField,i=(e||{}).Metadata,o=(i=void 0===i?{}:i)[n],s=void 0===o?[]:o;return a()({},r,R()(s).call(s,function(t){return t["".concat(n,"Id")]}))}}],i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=193);function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,r},"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.msByzantiumCoreModule=i():r.msByzantiumCoreModule=i()},{}],254:[function(t,e,n){var r,i;r=this,i=function(){return(i={},r.m=n=[function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(){}var i={trace:o,debug:o,log:o,warn:o,info:o,error:o},s=i;function a(r){var i=self.console[r];return i?function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0]&&(e[0]=function(t,e){return e="["+t+"] > "+e}(r,e[0])),i.apply(self.console,e)}:o}var u=function(t){if(!0===t||"object"===(void 0===t?"undefined":r(t))){!function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){s[t]=e[t]?e[t].bind(e):a(t)})}(t,"debug","log","info","warn","error");try{s.log()}catch(t){s=i}}else s=i},c=i},function(t,e,n){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var r={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},i={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=(a.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},a.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},a.getID3Data=function(t,e){for(var n=e,r=0;a.isHeader(t,e);)r+=10,r+=a._readSize(t,e+6),a.isFooter(t,e+10)&&(r+=10),e+=r;if(0<r)return t.subarray(n,n+r)},a._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3]},a.getTimeStamp=function(t){for(var e=a.getID3Frames(t),n=0;n<e.length;n++){var r=e[n];if(a.isTimeStampFrame(r))return a._readTimeStamp(r)}},a.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},a._getFrameData=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=a._readSize(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},a.getID3Frames=function(t){for(var e=0,n=[];a.isHeader(t,e);){for(var r=a._readSize(t,e+6),i=(e+=10)+r;e+8<i;){var o=a._getFrameData(t.subarray(e)),s=a._decodeFrame(o);s&&n.push(s),e+=o.size+10}a.isFooter(t,e)&&(e+=10)}return n},a._decodeFrame=function(t){return"PRIV"===t.type?a._decodePrivFrame(t):"T"===t.type[0]?a._decodeTextFrame(t):"W"===t.type[0]?a._decodeURLFrame(t):void 0},a._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},a._decodePrivFrame=function(t){if(!(t.size<2)){var e=a._utf8ArrayToStr(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}},a._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,n=a._utf8ArrayToStr(t.data.subarray(e));e+=n.length+1;var r=a._utf8ArrayToStr(t.data.subarray(e));return{key:t.type,info:n,data:r}}var i=a._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:i}}},a._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,n=a._utf8ArrayToStr(t.data.subarray(e));e+=n.length+1;var r=a._utf8ArrayToStr(t.data.subarray(e));return{key:t.type,info:n,data:r}}var i=a._utf8ArrayToStr(t.data);return{key:t.type,data:i}},a._utf8ArrayToStr=function(t,e){for(var n=1<arguments.length&&void 0!==e&&e,r=t.length,i=void 0,o=void 0,s=void 0,a="",u=0;u<r;){if(0===(i=t[u++])&&n)return a;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:o=t[u++],a+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=t[u++],s=t[u++],a+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&s)<<0)}}return a},a);function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a)}var i=r._utf8ArrayToStr;e.a=r},function(t,e,n){"use strict";function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.subtle=t,this.aesIV=e}var a=(r.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},r);function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.subtle=t,this.key=e}var u=(i.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},i);function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var c=(o.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),r=0;r<4;r++)n[r]=e.getUint32(4*r);return n},o.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],s=n[3],a=this.invSubMix,u=a[0],c=a[1],l=a[2],f=a[3],d=new Uint32Array(256),h=0,p=0,g=0;for(g=0;g<256;g++)d[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99;var m=d[e[t[h]=v]=h],y=d[m],b=d[y],T=257*d[v]^16843008*v;r[h]=T<<24|T>>>8,i[h]=T<<16|T>>>16,o[h]=T<<8|T>>>24,s[h]=T,T=16843009*b^65537*y^257*m^16843008*h,u[v]=T<<24|T>>>8,c[v]=T<<16|T>>>16,l[v]=T<<8|T>>>24,f[v]=T,h?(h=m^d[d[d[b^m]]],p^=d[d[p]]):h=p=1}},o.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,r=0;r<e.length&&n;)n=e[r]===this.key[r],r++;if(!n){this.key=e;var i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o=this.ksRows=4*(i+6+1),s=void 0,a=void 0,u=this.keySchedule=new Uint32Array(o),c=this.invKeySchedule=new Uint32Array(o),l=this.sBox,f=this.rcon,d=this.invSubMix,h=d[0],p=d[1],g=d[2],v=d[3],m=void 0,y=void 0;for(s=0;s<o;s++)s<i?m=u[s]=e[s]:(y=m,s%i==0?(y=l[(y=y<<8|y>>>24)>>>24]<<24|l[y>>>16&255]<<16|l[y>>>8&255]<<8|l[255&y],y^=f[s/i|0]<<24):6<i&&s%i==4&&(y=l[y>>>24]<<24|l[y>>>16&255]<<16|l[y>>>8&255]<<8|l[255&y]),u[s]=m=(u[s-i]^y)>>>0);for(a=0;a<o;a++)s=o-a,y=3&a?u[s]:u[s-4],c[a]=a<4||s<=4?y:h[l[y>>>24]]^p[l[y>>>16&255]]^g[l[y>>>8&255]]^v[l[255&y]],c[a]=c[a]>>>0}},o.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},o.prototype.decrypt=function(t,e,n){for(var r,i,o=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,u=this.invSubMix,c=u[0],l=u[1],f=u[2],d=u[3],h=this.uint8ArrayToUint32Array_(n),p=h[0],g=h[1],v=h[2],m=h[3],y=new Int32Array(t),b=new Int32Array(y.length),T=void 0,S=void 0,E=void 0,_=void 0,A=void 0,w=void 0,P=void 0,x=void 0,L=void 0,R=void 0,C=void 0,I=void 0,D=this.networkToHostOrderSwap;e<y.length;){for(L=D(y[e]),R=D(y[e+1]),C=D(y[e+2]),I=D(y[e+3]),A=L^s[0],w=I^s[1],P=C^s[2],x=R^s[3],r=4,i=1;i<o;i++)T=c[A>>>24]^l[w>>16&255]^f[P>>8&255]^d[255&x]^s[r],S=c[w>>>24]^l[P>>16&255]^f[x>>8&255]^d[255&A]^s[r+1],E=c[P>>>24]^l[x>>16&255]^f[A>>8&255]^d[255&w]^s[r+2],_=c[x>>>24]^l[A>>16&255]^f[w>>8&255]^d[255&P]^s[r+3],A=T,w=S,P=E,x=_,r+=4;T=a[A>>>24]<<24^a[w>>16&255]<<16^a[P>>8&255]<<8^a[255&x]^s[r],S=a[w>>>24]<<24^a[P>>16&255]<<16^a[x>>8&255]<<8^a[255&A]^s[r+1],E=a[P>>>24]<<24^a[x>>16&255]<<16^a[A>>8&255]<<8^a[255&w]^s[r+2],_=a[x>>>24]<<24^a[A>>16&255]<<16^a[w>>8&255]<<8^a[255&P]^s[r+3],r+=3,b[e]=D(T^p),b[e+1]=D(_^g),b[e+2]=D(E^v),b[e+3]=D(S^m),p=L,g=R,v=C,m=I,e+=4}return b.buffer},o.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},o),s=n(2),l=n(0);var f=(d.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},d.prototype.decrypt=function(e,n,r,i){var o=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(l.b.log("JS AES decrypt"),this.logEnabled=!1);var t=this.decryptor;t||(this.decryptor=t=new c),t.expandKey(n),i(t.decrypt(e,0,r))}else{this.logEnabled&&(l.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var s=this.subtle;this.key!==n&&(this.key=n,this.fastAesKey=new u(s,n)),this.fastAesKey.expandKey().then(function(t){new a(s,r).decrypt(e,t).catch(function(t){o.onWebCryptoError(t,e,n,r,i)}).then(function(t){i(t)})}).catch(function(t){o.onWebCryptoError(t,e,n,r,i)})}},d.prototype.onWebCryptoError=function(t,e,n,r,i){this.config.enableSoftwareAES?(l.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,r,i)):(l.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},d.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},d);function d(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),this.observer=t,this.config=e,this.logEnabled=!0;try{var n=crypto||self.crypto;this.subtle=n.subtle||n.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}e.a=f},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function u(t){return"function"==typeof t}function c(t){return"object"==typeof t&&null!==t}function l(t){return void 0===t}((t.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,i,o,s;if(this._events||(this._events={}),"error"===t&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(l(n=this._events[t]))return!1;if(u(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(c(n))for(i=Array.prototype.slice.call(arguments,1),r=(s=n.slice()).length,o=0;o<r;o++)s[o].apply(this,i);return!0},r.prototype.on=r.prototype.addListener=function(t,e){var n;if(!u(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,u(e.listener)?e.listener:e),this._events[t]?c(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,c(this._events[t])&&!this._events[t].warned&&(n=l(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.once=function(t,e){if(!u(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var n,r,i,o;if(!u(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(n=this._events[t]).length,r=-1,n===e||u(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(c(n)){for(o=i;0<o--;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(u(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?u(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(u(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){var r,l,i,o,f;r=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,l=/^([^\/;?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,f={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=this.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");return r.path=f.normalizePath(r.path),f.buildURLFromParts(r)}var i=this.parseURL(e);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=f.normalizePath(i.path),f.buildURLFromParts(i)):e;var o=this.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var s=l.exec(o.path);o.netLoc=s[1],o.path=s[2]}o.netLoc&&!o.path&&(o.path="/");var a={scheme:o.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(a.netLoc=o.netLoc,"/"!==i.path[0]))if(i.path){var u=o.path,c=u.substring(0,u.lastIndexOf("/")+1)+i.path;a.path=f.normalizePath(c)}else a.path=o.path,i.params||(a.params=o.params,i.query||(a.query=o.query));return null===a.path&&(a.path=n.alwaysNormalize?f.normalizePath(i.path):i.path),f.buildURLFromParts(a)},parseURL:function(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=f},function(t,e,n){"use strict";var tt=n(1),et=n(2),g=n(4),nt=n(0);function i(t,e){return 255===t[e]&&240==(246&t[e+1])}function l(t,e){return 1&t[e+1]?7:9}function f(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function v(t,e){return!!(e+1<t.length&&i(t,e))}function r(t,e){if(e+1<t.length&&i(t,e)){var n=l(t,e);e+5<t.length&&(n=f(t,e));var r=e+n;if(r===t.length||r+1<t.length&&i(t,r))return!0}return!1}function m(t,e,n,r,i){if(!t.samplerate){var o=function(t,e,n,r){var i,o,s,a,u,c=navigator.userAgent.toLowerCase(),l=r,f=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(i=1+((192&e[n+2])>>>6),o=(60&e[n+2])>>>2,!(f.length-1<o))return a=(1&e[n+2])<<2,a|=(192&e[n+3])>>>6,nt.b.log("manifest codec:"+r+",ADTS data:type:"+i+",sampleingIndex:"+o+"["+f[o]+"Hz],channelConfig:"+a),s=/firefox/i.test(c)?6<=o?(i=5,u=new Array(4),o-3):(i=2,u=new Array(2),o):-1!==c.indexOf("android")?(i=2,u=new Array(2),o):(i=5,u=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&6<=o?o-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(6<=o&&1==a||/vivaldi/i.test(c))||!r&&1==a)&&(i=2,u=new Array(2)),o)),u[0]=i<<3,u[0]|=(14&o)>>1,u[1]|=(1&o)<<7,u[1]|=a<<3,5===i&&(u[1]|=(14&s)>>1,u[2]=(1&s)<<7,u[2]|=8,u[3]=0),{config:u,samplerate:f[o],channelCount:a,codec:"mp4a.40."+i,manifestCodec:l};t.trigger(Event.ERROR,{type:et.b.MEDIA_ERROR,details:et.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+o})}(e,n,r,i);t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,nt.b.log("parsed codec:"+t.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}}function y(t){return 9216e4/t}function b(t,e,n,r,i){var o=function(t,e,n,r,i){var o,s,a=t.length;if(o=l(t,e),s=f(t,e),0<(s-=o)&&e+o+s<=a)return{headerLength:o,frameLength:s,stamp:n+r*i}}(e,n,r,i,y(t.samplerate));if(o){var s=o.stamp,a=o.headerLength,u=o.frameLength,c={unit:e.subarray(n+a,n+a+u),pts:s,dts:s};return t.samples.push(c),t.len+=u,{sample:c,length:u+a}}}var p=n(3);function o(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.observer=t,this.config=n,this.remuxer=e}var _=(o.prototype.resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},o.prototype.resetTimeStamp=function(){},o.probe=function(t){if(!t)return!1;for(var e=(p.a.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(r(t,e))return nt.b.log("ADTS sync word found !"),!0;return!1},o.prototype.append=function(t,e,n,r){for(var i=this._audioTrack,o=p.a.getID3Data(t,0)||[],s=p.a.getTimeStamp(o),a=s?90*s:9e4*e,u=0,c=a,l=t.length,f=o.length,d=[{pts:c,dts:c,data:o}];f<l-1;)if(v(t,f)&&f+5<l){m(i,this.observer,t,f,i.manifestCodec);var h=b(i,t,f,a,u);if(!h){nt.b.log("Unable to parse AAC frame");break}f+=h.length,c=h.sample.pts,u++}else p.a.isHeader(t,f)?(o=p.a.getID3Data(t,f),d.push({pts:c,dts:c,data:o}),f+=o.length):f++;this.remuxer.remux(i,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},e,n,r)},o.prototype.destroy=function(){},o);var a=Math.pow(2,32)-1;function d(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),this.observer=t,this.remuxer=e}var A=(d.prototype.resetTimeStamp=function(t){this.initPTS=t},d.prototype.resetInitSegment=function(t,e,n,r){if(t&&t.byteLength){var i=this.initData=d.parseInitSegment(t);null==e&&(e="mp4a.40.5"),null==n&&(n="avc1.42e01e");var o={};i.audio&&i.video?o.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:r?t:null}:(i.audio&&(o.audio={container:"audio/mp4",codec:e,initSegment:r?t:null}),i.video&&(o.video={container:"video/mp4",codec:n,initSegment:r?t:null})),this.observer.trigger(tt.a.FRAG_PARSING_INIT_SEGMENT,{tracks:o})}else e&&(this.audioCodec=e),n&&(this.videoCodec=n)},d.probe=function(t){return 0<d.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length},d.bin2str=function(t){return String.fromCharCode.apply(null,t)},d.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},d.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},d.findBox=function(t,e){var n,r,i,o,s,a,u=[];if(t.data?(s=t.start,i=t.end,t=t.data):(s=0,i=t.byteLength),!e.length)return null;for(n=s;n<i;)a=1<(r=d.readUint32(t,n))?n+r:i,d.bin2str(t.subarray(n+4,n+8))===e[0]&&(1===e.length?u.push({data:t,start:n+8,end:a}):(o=d.findBox({data:t,start:n+8,end:a},e.slice(1))).length&&(u=u.concat(o))),n=a;return u},d.parseInitSegment=function(t){var f=[];return d.findBox(t,["moov","trak"]).forEach(function(t){var e=d.findBox(t,["tkhd"])[0];if(e){var n=e.data[e.start],r=0===n?12:20,i=d.readUint32(e,r),o=d.findBox(t,["mdia","mdhd"])[0];if(o){n=o.data[o.start];var s=d.readUint32(o,r=0===n?12:20),a=d.findBox(t,["mdia","hdlr"])[0];if(a){var u={soun:"audio",vide:"video"}[d.bin2str(a.data.subarray(a.start+8,a.start+12))];if(u){var c=d.findBox(t,["mdia","minf","stbl","stsd"]);if(c.length){c=c[0];var l=d.bin2str(c.data.subarray(c.start+12,c.start+16));nt.b.log("MP4Demuxer:"+u+":"+l+" found")}f[i]={timescale:s,type:u},f[u]={timescale:s,id:i}}}}}}),f},d.getStartDTS=function(i,t){var e,n,r;return e=d.findBox(t,["moof","traf"]),n=[].concat.apply([],e.map(function(r){return d.findBox(r,["tfhd"]).map(function(t){var e,n;return e=d.readUint32(t,4),n=i[e].timescale||9e4,d.findBox(r,["tfdt"]).map(function(t){var e,n;return e=t.data[t.start],n=d.readUint32(t,4),1===e&&(n*=Math.pow(2,32),n+=d.readUint32(t,8)),n})[0]/n})})),r=Math.min.apply(null,n),isFinite(r)?r:0},d.offsetStartDTS=function(r,t,s){d.findBox(t,["moof","traf"]).map(function(n){return d.findBox(n,["tfhd"]).map(function(t){var e=d.readUint32(t,4),o=r[e].timescale||9e4;d.findBox(n,["tfdt"]).map(function(t){var e=t.data[t.start],n=d.readUint32(t,4);if(0===e)d.writeUint32(t,4,n-s*o);else{n*=Math.pow(2,32),n+=d.readUint32(t,8),n-=s*o,n=Math.max(n,0);var r=Math.floor(n/(1+a)),i=Math.floor(n%(1+a));d.writeUint32(t,4,r),d.writeUint32(t,8,i)}})})})},d.prototype.append=function(t,e,n,r){var i=this.initData;i||(this.resetInitSegment(t,this.audioCodec,this.videoCodec),i=this.initData);var o,s=this.initPTS;if(void 0===s){var a=d.getStartDTS(i,t);this.initPTS=s=a-e,this.observer.trigger(tt.a.INIT_PTS_FOUND,{initPTS:s})}d.offsetStartDTS(i,t,s),o=d.getStartDTS(i,t),this.remuxer.remux(i.audio,i.video,null,null,o,n,r,t)},d.prototype.destroy=function(){},d),T={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,r,i){if(!(n+24>e.length)){var o=this.parseHeader(e,n);if(o&&n+o.frameLength<=e.length){var s=r+i*(9e4*o.samplesPerFrame/o.sampleRate),a={unit:e.subarray(n,n+o.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(a),t.len+=o.frameLength,{sample:a,length:o.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,o=t[e+2]>>2&3,s=t[e+2]>>1&1;if(1!=n&&0!=i&&15!=i&&3!=o){var a=3==n?3-r:3==r?3:4,u=1e3*T.BitratesMap[14*a+i-1],c=3==n?0:2==n?1:2,l=T.SamplingRateMap[3*c+o],f=t[e+3]>>6==3?1:2,d=T.SamplesCoefficients[n][r],h=T.BytesInSlot[r],p=8*d*h;return{sampleRate:l,channelCount:f,frameLength:parseInt(d*u/l+s,10)*h,samplesPerFrame:p}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),r=4;n&&n.frameLength&&(r=n.frameLength);var i=e+r;if(i===t.length||i+1<t.length&&this.isHeaderPattern(t,i))return!0}return!1}},S=T;function s(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var w=(s.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");r.set(t.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},s.prototype.skipBits=function(t){var e;this.bitsAvailable>t||(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord()),this.word<<=t,this.bitsAvailable-=t},s.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return 32<t&&nt.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,0<this.bitsAvailable?this.word<<=e:0<this.bytesAvailable&&this.loadWord(),0<(e=t-e)&&this.bitsAvailable?n<<e|this.readBits(e):n},s.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},s.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},s.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},s.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},s.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},s.prototype.readBoolean=function(){return 1===this.readBits(1)},s.prototype.readUByte=function(){return this.readBits(8)},s.prototype.readUShort=function(){return this.readBits(16)},s.prototype.readUInt=function(){return this.readBits(32)},s.prototype.skipScalingList=function(t){var e,n=8,r=8;for(e=0;e<t;e++)0!==r&&(r=(n+this.readEG()+256)%256),n=0===r?n:r},s.prototype.readSPS=function(){var t,e,n,r,i,o,s,a=0,u=0,c=0,l=0,f=this.readUByte.bind(this),d=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),m=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(f(),t=f(),d(5),g(3),f(),m(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=h();if(3===b&&g(1),m(),m(),g(1),p())for(o=3!==b?8:12,s=0;s<o;s++)p()&&y(s<6?16:64)}m();var T=h();if(0===T)h();else if(1===T)for(g(1),v(),v(),e=h(),s=0;s<e;s++)v();m(),g(1),n=h(),r=h(),0===(i=d(1))&&g(1),g(1),p()&&(a=h(),u=h(),c=h(),l=h());var S=[1,1];if(p()&&p())switch(f()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[f()<<8|f(),f()<<8|f()]}return{width:Math.ceil(16*(n+1)-2*a-2*u),height:(2-i)*(r+1)*16-(i?2:4)*(c+l),pixelRatio:S}},s.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},s);function u(t,e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.decryptdata=n,this.discardEPB=r,this.decrypter=new g.a(t,e)}var c=(u.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},u.prototype.decryptAacSample=function(e,n,r,i){var o=e[n].unit,t=o.subarray(16,o.length-o.length%16),s=t.buffer.slice(t.byteOffset,t.byteOffset+t.length),a=this;this.decryptBuffer(s,function(t){t=new Uint8Array(t),o.set(t,16),i||a.decryptAacSamples(e,n+1,r)})},u.prototype.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,r),!r)return}}},u.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),r=0,i=32;i<=t.length-16;i+=160,r+=16)n.set(t.subarray(i,i+16),r);return n},u.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,r=32;r<=t.length-16;r+=160,n+=16)t.set(e.subarray(n,n+16),r);return t},u.prototype.decryptAvcSample=function(e,n,r,i,o,s){var a=this.discardEPB(o.data),t=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(t.buffer,function(t){o.data=u.getAvcDecryptedUnit(a,t),s||u.decryptAvcSamples(e,n,r+1,i)})},u.prototype.decryptAvcSamples=function(t,e,n,r){for(;;e++,n=0){if(e>=t.length)return void r();for(var i=t[e].units;!(n>=i.length);n++){var o=i[n];if(!(o.length<=48||1!==o.type&&5!==o.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,r,o,s),!s)return}}}},u);var h={video:0,audio:1,id3:2,text:3};function I(t,e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,I),this.observer=t,this.config=n,this.typeSupported=r,this.remuxer=e,this.sampleAes=null}var P=(I.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new c(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},I.probe=function(t){var e=I._syncOffset(t);return!(e<0||(e&&nt.b.warn("MPEG2-TS detected but first sync word found @ offset "+e+", junk ahead ?"),0))},I._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},I.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:h[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},I.prototype.resetInitSegment=function(t,e,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=I.createTrack("video",r),this._audioTrack=I.createTrack("audio",r),this._id3Track=I.createTrack("id3",r),this._txtTrack=I.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=e,this.videoCodec=n,this._duration=r},I.prototype.resetTimeStamp=function(){},I.prototype.append=function(t,e,n,r){var i,o,s,a,u,c=t.length,l=!1;this.contiguous=n;var f=this.pmtParsed,d=this._avcTrack,h=this._audioTrack,p=this._id3Track,g=d.pid,v=h.pid,m=p.pid,y=this._pmtId,b=d.pesData,T=h.pesData,S=p.pesData,E=this._parsePAT,_=this._parsePMT,A=this._parsePES,w=this._parseAVCPES.bind(this),P=this._parseAACPES.bind(this),x=this._parseMPEGPES.bind(this),L=this._parseID3PES.bind(this),R=I._syncOffset(t);for(c-=(c+R)%188,i=R;i<c;i+=188)if(71===t[i]){if(o=!!(64&t[i+1]),s=((31&t[i+1])<<8)+t[i+2],1<(48&t[i+3])>>4){if((a=i+5+t[i+4])===i+188)continue}else a=i+4;switch(s){case g:o&&(b&&(u=A(b))&&w(u,!1),b={data:[],size:0}),b&&(b.data.push(t.subarray(a,i+188)),b.size+=i+188-a);break;case v:o&&(T&&(u=A(T))&&(h.isAAC?P(u):x(u)),T={data:[],size:0}),T&&(T.data.push(t.subarray(a,i+188)),T.size+=i+188-a);break;case m:o&&(S&&(u=A(S))&&L(u),S={data:[],size:0}),S&&(S.data.push(t.subarray(a,i+188)),S.size+=i+188-a);break;case 0:o&&(a+=t[a]+1),y=this._pmtId=E(t,a);break;case y:o&&(a+=t[a]+1);var C=_(t,a,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);0<(g=C.avc)&&(d.pid=g),0<(v=C.audio)&&(h.pid=v,h.isAAC=C.isAAC),0<(m=C.id3)&&(p.pid=m),l&&!f&&(nt.b.log("reparse from beginning"),l=!1,i=R-188),f=this.pmtParsed=!0;break;case 17:case 8191:break;default:l=!0}}else this.observer.trigger(tt.a.ERROR,{type:et.b.MEDIA_ERROR,details:et.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(u=A(b))?(w(u,!0),d.pesData=null):d.pesData=b,T&&(u=A(T))?(h.isAAC?P(u):x(u),h.pesData=null):(T&&T.size&&nt.b.log("last AAC PES packet truncated,might overlap between fragments"),h.pesData=T),S&&(u=A(S))?(L(u),p.pesData=null):p.pesData=S,null==this.sampleAes?this.remuxer.remux(h,d,p,this._txtTrack,e,n,r):this.decryptAndRemux(h,d,p,this._txtTrack,e,n,r)},I.prototype.decryptAndRemux=function(t,e,n,r,i,o,s){if(t.samples&&t.isAAC){var a=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){a.decryptAndRemuxAvc(t,e,n,r,i,o,s)})}else this.decryptAndRemuxAvc(t,e,n,r,i,o,s)},I.prototype.decryptAndRemuxAvc=function(t,e,n,r,i,o,s){if(e.samples){var a=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){a.remuxer.remux(t,e,n,r,i,o,s)})}else this.remuxer.remux(t,e,n,r,i,o,s)},I.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},I.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},I.prototype._parsePMT=function(t,e,n,r){var i,o,s={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<i;){switch(o=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!r){nt.b.log("unkown stream type:"+t[e]);break}case 15:-1===s.audio&&(s.audio=o);break;case 21:-1===s.id3&&(s.id3=o);break;case 219:if(!r){nt.b.log("unkown stream type:"+t[e]);break}case 27:-1===s.avc&&(s.avc=o);break;case 3:case 4:n?-1===s.audio&&(s.audio=o,s.isAAC=!1):nt.b.log("MPEG audio found, not supported in this browser for now");break;case 36:nt.b.warn("HEVC stream type found, not supported for now");break;default:nt.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return s},I.prototype._parsePES=function(t){var e,n,r,i,o,s,a,u,c=0,l=t.data;if(!t||0===t.size)return null;for(;l[0].length<19&&1<l.length;){var f=new Uint8Array(l[0].length+l[1].length);f.set(l[0]),f.set(l[1],l[0].length),l[0]=f,l.splice(1,1)}if(1!==((e=l[0])[0]<<16)+(e[1]<<8)+e[2])return null;if((r=(e[4]<<8)+e[5])&&r>t.size-6)return null;192&(n=e[7])&&(4294967295<(s=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2)&&(s-=8589934592),64&n?(4294967295<(a=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)&&(a-=8589934592),54e5<s-a&&(nt.b.warn(Math.round((s-a)/9e4)+"s delta between PTS and DTS, align them"),s=a)):a=s),u=(i=e[8])+9,t.size-=u,o=new Uint8Array(t.size);for(var d=0,h=l.length;d<h;d++){var p=(e=l[d]).byteLength;if(u){if(p<u){u-=p;continue}e=e.subarray(u),p-=u,u=0}o.set(e,c),c+=p}return r&&(r-=i+3),{data:o,pts:s,dts:a,len:r}},I.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,r=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(r||this.contiguous)?(t.id=r,n.push(t)):e.dropped++}t.debug.length&&nt.b.log(t.pts+"/"+t.dts+":"+t.debug)},I.prototype._parseAVCPES=function(p,t){function g(t,e,n,r){return{key:t,pts:e,dts:n,units:[],debug:r}}var v,m,y,b=this,T=this._avcTrack,e=this._parseAVCNALu(p.data),S=this.avcSample,E=!1,_=this.pushAccesUnit.bind(this);p.data=null,S&&e.length&&!T.audFound&&(_(S,T),S=this.avcSample=g(!1,p.pts,p.dts,"")),e.forEach(function(t){switch(t.type){case 1:m=!0,(S=S||(b.avcSample=g(!0,p.pts,p.dts,""))).frame=!0;var e=t.data;if(E&&4<e.length){var n=new w(e).readSliceType();2!==n&&4!==n&&7!==n&&9!==n||(S.key=!0)}break;case 5:m=!0,(S=S||(b.avcSample=g(!0,p.pts,p.dts,""))).key=!0,S.frame=!0;break;case 6:m=!0,(v=new w(b.discardEPB(t.data))).readUByte();for(var r=0,i=0,o=!1,s=0;!o&&1<v.bytesAvailable;){for(r=0;r+=s=v.readUByte(),255===s;);for(i=0;i+=s=v.readUByte(),255===s;);if(4===r&&0!==v.bytesAvailable){if(o=!0,181===v.readUByte()&&49===v.readUShort()&&1195456820===v.readUInt()&&3===v.readUByte()){var a=v.readUByte(),u=31&a,c=[a,v.readUByte()];for(y=0;y<u;y++)c.push(v.readUByte()),c.push(v.readUByte()),c.push(v.readUByte());b._insertSampleInOrder(b._txtTrack.samples,{type:3,pts:p.pts,bytes:c})}}else if(i<v.bytesAvailable)for(y=0;y<i;y++)v.readUByte()}break;case 7:if(E=m=!0,!T.sps){var l=(v=new w(t.data)).readSPS();T.width=l.width,T.height=l.height,T.pixelRatio=l.pixelRatio,T.sps=[t.data],T.duration=b._duration;var f=t.data.subarray(1,4),d="avc1.";for(y=0;y<3;y++){var h=f[y].toString(16);h.length<2&&(h="0"+h),d+=h}T.codec=d}break;case 8:m=!0,T.pps||(T.pps=[t.data]);break;case 9:m=!1,T.audFound=!0,S&&_(S,T),S=b.avcSample=g(!1,p.pts,p.dts,"");break;case 12:m=!1;break;default:m=!1,S&&(S.debug+="unknown NAL "+t.type+" ")}S&&m&&S.units.push(t)}),t&&S&&(_(S,T),this.avcSample=null)},I.prototype._insertSampleInOrder=function(t,e){var n=t.length;if(0<n){if(e.pts>=t[n-1].pts)t.push(e);else for(var r=n-1;0<=r;r--)if(e.pts<t[r].pts){t.splice(r,0,e);break}}else t.push(e)},I.prototype._getLastNalUnit=function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.length){var n=this._avcTrack.samples;t=n[n.length-1]}if(t){var r=t.units;e=r[r.length-1]}return e},I.prototype._parseAVCNALu=function(t){var e,n,r,i,o=0,s=t.byteLength,a=this._avcTrack,u=a.naluState||0,c=u,l=[],f=-1;for(-1===u&&(i=31&t[f=0],u=0,o=1);o<s;)if(e=t[o++],u)if(1!==u)if(e)if(1===e){if(0<=f)r={data:t.subarray(f,o-u-1),type:i},l.push(r);else{var d=this._getLastNalUnit();if(d&&(c&&o<=4-c&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-c)),0<(n=o-u-1))){var h=new Uint8Array(d.data.byteLength+n);h.set(d.data,0),h.set(t.subarray(0,n),d.data.byteLength),d.data=h}}u=o<s?(i=31&t[f=o],0):-1}else u=0;else u=3;else u=e?0:2;else u=e?0:1;if(0<=f&&0<=u&&(r={data:t.subarray(f,s),type:i,state:u},l.push(r)),0===l.length){var p=this._getLastNalUnit();if(p){var g=new Uint8Array(p.data.byteLength+t.byteLength);g.set(p.data,0),g.set(t,p.data.byteLength),p.data=g}}return a.naluState=u,l},I.prototype.discardEPB=function(t){for(var e,n,r=t.byteLength,i=[],o=1;o<r-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var s=0;for(o=0;o<e;s++,o++)s===i[0]&&(s++,i.shift()),n[o]=t[s];return n},I.prototype._parseAACPES=function(t){var e,n,r,i,o,s,a,u=this._audioTrack,c=t.data,l=t.pts,f=this.aacOverFlow,d=this.aacLastPTS;if(f){var h=new Uint8Array(f.byteLength+c.byteLength);h.set(f,0),h.set(c,f.byteLength),c=h}for(r=0,o=c.length;r<o-1&&!v(c,r);r++);if(!r||(a=r<o-1?(s="AAC PES did not start with ADTS header,offset:"+r,!1):(s="no ADTS header found in AAC PES",!0),nt.b.warn("parsing error:"+s),this.observer.trigger(tt.a.ERROR,{type:et.b.MEDIA_ERROR,details:et.a.FRAG_PARSING_ERROR,fatal:a,reason:s}),!a)){if(m(u,this.observer,c,r,this.audioCodec),n=0,e=y(u.samplerate),f&&d){var p=d+e;1<Math.abs(p-l)&&(nt.b.log("AAC: align PTS for overlapping frames by "+Math.round((p-l)/90)),l=p)}for(;r<o;)if(v(c,r)&&r+5<o){var g=b(u,c,r,l,n);if(!g)break;r+=g.length,i=g.sample.pts,n++}else r++;f=r<o?c.subarray(r,o):null,this.aacOverFlow=f,this.aacLastPTS=i}},I.prototype._parseMPEGPES=function(t){for(var e=t.data,n=e.length,r=0,i=0,o=t.pts;i<n;)if(S.isHeader(e,i)){var s=S.appendFrame(this._audioTrack,e,i,o,r);if(!s)break;i+=s.length,r++}else i++},I.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},I);function E(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,E),this.observer=t,this.config=n,this.remuxer=e}var x=(E.prototype.resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},E.prototype.resetTimeStamp=function(){},E.probe=function(t){var e,n,r=p.a.getID3Data(t,0);if(r&&void 0!==p.a.getTimeStamp(r))for(e=r.length,n=Math.min(t.length-1,e+100);e<n;e++)if(S.probe(t,e))return nt.b.log("MPEG Audio sync word found !"),!0;return!1},E.prototype.append=function(t,e,n,r){for(var i=p.a.getID3Data(t,0),o=p.a.getTimeStamp(i),s=o?90*o:9e4*e,a=i.length,u=t.length,c=0,l=0,f=this._audioTrack,d=[{pts:s,dts:s,data:i}];a<u;)if(S.isHeader(t,a)){var h=S.appendFrame(f,t,a,s,c);if(!h)break;a+=h.length,l=h.sample.pts,c++}else p.a.isHeader(t,a)?(i=p.a.getID3Data(t,a),d.push({pts:l,dts:l,data:i}),a+=i.length):a++;this.remuxer.remux(f,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},e,n,r)},E.prototype.destroy=function(){},E);function L(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,L)}var q=(L.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},L);var R=Math.pow(2,32)-1;function C(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,C)}var rt=(C.init=function(){var t;for(t in C.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})C.types.hasOwnProperty(t)&&(C.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);C.HDLR_TYPES={video:e,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);C.STTS=C.STSC=C.STCO=i,C.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),C.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),C.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),C.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),a=new Uint8Array([0,0,0,1]);C.FTYP=C.box(C.types.ftyp,o,a,o,s),C.DINF=C.box(C.types.dinf,C.box(C.types.dref,r))},C.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,o=i;i--;)r+=n[i].byteLength;for((e=new Uint8Array(r))[0]=r>>24&255,e[1]=r>>16&255,e[2]=r>>8&255,e[3]=255&r,e.set(t,4),i=0,r=8;i<o;i++)e.set(n[i],r),r+=n[i].byteLength;return e},C.hdlr=function(t){return C.box(C.types.hdlr,C.HDLR_TYPES[t])},C.mdat=function(t){return C.box(C.types.mdat,t)},C.mdhd=function(t,e){e*=t;var n=Math.floor(e/(1+R)),r=Math.floor(e%(1+R));return C.box(C.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},C.mdia=function(t){return C.box(C.types.mdia,C.mdhd(t.timescale,t.duration),C.hdlr(t.type),C.minf(t))},C.mfhd=function(t){return C.box(C.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},C.minf=function(t){return"audio"===t.type?C.box(C.types.minf,C.box(C.types.smhd,C.SMHD),C.DINF,C.stbl(t)):C.box(C.types.minf,C.box(C.types.vmhd,C.VMHD),C.DINF,C.stbl(t))},C.moof=function(t,e,n){return C.box(C.types.moof,C.mfhd(t),C.traf(n,e))},C.moov=function(t){for(var e=t.length,n=[];e--;)n[e]=C.trak(t[e]);return C.box.apply(null,[C.types.moov,C.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(C.mvex(t)))},C.mvex=function(t){for(var e=t.length,n=[];e--;)n[e]=C.trex(t[e]);return C.box.apply(null,[C.types.mvex].concat(n))},C.mvhd=function(t,e){e*=t;var n=Math.floor(e/(1+R)),r=Math.floor(e%(1+R)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return C.box(C.types.mvhd,i)},C.sdtp=function(t){var e,n,r=t.samples||[],i=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)e=r[n].flags,i[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return C.box(C.types.sdtp,i)},C.stbl=function(t){return C.box(C.types.stbl,C.stsd(t),C.box(C.types.stts,C.STTS),C.box(C.types.stsc,C.STSC),C.box(C.types.stsz,C.STSZ),C.box(C.types.stco,C.STCO))},C.avc1=function(t){var e,n,r,i=[],o=[];for(e=0;e<t.sps.length;e++)r=(n=t.sps[e]).byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));for(e=0;e<t.pps.length;e++)r=(n=t.pps[e]).byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));var s=C.box(C.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(o))),a=t.width,u=t.height,c=t.pixelRatio[0],l=t.pixelRatio[1];return C.box(C.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>8&255,255&a,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,C.box(C.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),C.box(C.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,l>>24,l>>16&255,l>>8&255,255&l])))},C.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},C.mp4a=function(t){var e=t.samplerate;return C.box(C.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]),C.box(C.types.esds,C.esds(t)))},C.mp3=function(t){var e=t.samplerate;return C.box(C.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]))},C.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?C.box(C.types.stsd,C.STSD,C.mp4a(t)):C.box(C.types.stsd,C.STSD,C.mp3(t)):C.box(C.types.stsd,C.STSD,C.avc1(t))},C.tkhd=function(t){var e=t.id,n=t.duration*t.timescale,r=t.width,i=t.height,o=Math.floor(n/(1+R)),s=Math.floor(n%(1+R));return C.box(C.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,i>>8&255,255&i,0,0]))},C.traf=function(t,e){var n=C.sdtp(t),r=t.id,i=Math.floor(e/(1+R)),o=Math.floor(e%(1+R));return C.box(C.types.traf,C.box(C.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),C.box(C.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o])),C.trun(t,n.length+16+20+8+16+8+8),n)},C.trak=function(t){return t.duration=t.duration||4294967295,C.box(C.types.trak,C.tkhd(t),C.mdia(t))},C.trex=function(t){var e=t.id;return C.box(C.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},C.trun=function(t,e){var n,r,i,o,s,a,u=t.samples||[],c=u.length,l=12+16*c,f=new Uint8Array(l);for(e+=8+l,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),n=0;n<c;n++)i=(r=u[n]).duration,o=r.size,s=r.flags,a=r.cts,f.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,a>>>24&255,a>>>16&255,a>>>8&255,255&a],12+16*n);return C.box(C.types.trun,f)},C.initSegment=function(t){C.types||C.init();var e,n=C.moov(t);return(e=new Uint8Array(C.FTYP.byteLength+n.byteLength)).set(C.FTYP),e.set(n,C.FTYP.byteLength),e},C);function D(t,e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,D),this.observer=t,this.config=e,this.typeSupported=n;var i=navigator.userAgent;this.isSafari=r&&-1<r.indexOf("Apple")&&i&&!i.match("CriOS"),this.ISGenerated=!1}var O=(D.prototype.destroy=function(){},D.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},D.prototype.resetInitSegment=function(){this.ISGenerated=!1},D.prototype.remux=function(t,e,n,r,i,o,s){if(this.ISGenerated||this.generateIS(t,e,i),this.ISGenerated){var a=t.samples.length,u=e.samples.length,c=i,l=i;if(a&&u){var f=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale;c+=Math.max(0,f),l+=Math.max(0,-f)}if(a){t.timescale||(nt.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,i));var d=this.remuxAudio(t,c,o,s);if(u){var h=void 0;d&&(h=d.endPTS-d.startPTS),e.timescale||(nt.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,i)),this.remuxVideo(e,l,o,h,s)}}else{var p=void 0;u&&(p=this.remuxVideo(e,l,o,s)),p&&t.codec&&this.remuxEmptyAudio(t,c,o,p)}}n.samples.length&&this.remuxID3(n,i),r.samples.length&&this.remuxText(r,i),this.observer.trigger(tt.a.FRAG_PARSED)},D.prototype.generateIS=function(t,e,n){var r,i,o=this.observer,s=t.samples,a=e.samples,u=this.typeSupported,c="audio/mp4",l={},f={tracks:l},d=void 0===this._initPTS;if(d&&(r=i=1/0),t.config&&s.length&&(t.timescale=t.samplerate,nt.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(u.mpeg?(c="audio/mpeg",t.codec=""):u.mp3&&(t.codec="mp3")),l.audio={container:c,codec:t.codec,initSegment:!t.isAAC&&u.mpeg?new Uint8Array:rt.initSegment([t]),metadata:{channelCount:t.channelCount}},d&&(r=i=s[0].pts-t.inputTimeScale*n)),e.sps&&e.pps&&a.length){var h=e.inputTimeScale;e.timescale=h,l.video={container:"video/mp4",codec:e.codec,initSegment:rt.initSegment([e]),metadata:{width:e.width,height:e.height}},d&&(r=Math.min(r,a[0].pts-h*n),i=Math.min(i,a[0].dts-h*n),this.observer.trigger(tt.a.INIT_PTS_FOUND,{initPTS:r}))}Object.keys(l).length?(o.trigger(tt.a.FRAG_PARSING_INIT_SEGMENT,f),this.ISGenerated=!0,d&&(this._initPTS=r,this._initDTS=i)):o.trigger(tt.a.ERROR,{type:et.b.MEDIA_ERROR,details:et.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},D.prototype.remuxVideo=function(t,e,n,r,i){var o,s,a,u,c,l,f,d=8,h=t.timescale,p=t.samples,g=[],v=p.length,m=this._PTSNormalize,y=this._initDTS,b=this.nextAvcDts,T=this.isSafari;T&&(n|=p.length&&b&&(i&&Math.abs(e-b/h)<.1||Math.abs(p[0].pts-b-y)<h/5)),n||(b=e*h),p.forEach(function(t){t.pts=m(t.pts-y,b),t.dts=m(t.dts-y,b)}),p.sort(function(t,e){var n=t.dts-e.dts,r=t.pts-e.pts;return n||r||t.id-e.id});var S=p.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(S<0){nt.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(S/90)+" ms to overcome this issue");for(var E=0;E<p.length;E++)p[E].dts+=S}var _=p[0];c=Math.max(_.dts,0),u=Math.max(_.pts,0);var A=Math.round((c-b)/90);n&&A&&(1<A?nt.b.log("AVC:"+A+" ms hole between fragments detected,filling it"):A<-1&&nt.b.log("AVC:"+-A+" ms overlapping between fragments detected"),c=b,p[0].dts=c,u=Math.max(u-A,b),p[0].pts=u,nt.b.log("Video/PTS/DTS adjusted: "+Math.round(u/90)+"/"+Math.round(c/90)+",delta:"+A+" ms")),_=p[p.length-1],f=Math.max(_.dts,0),l=Math.max(_.pts,0,f),T&&(o=Math.round((f-c)/(p.length-1)));for(var w=0,P=0,x=0;x<v;x++){for(var L=p[x],R=L.units,C=R.length,I=0,D=0;D<C;D++)I+=R[D].data.length;P+=I,w+=C,L.length=I,L.dts=T?c+x*o:Math.max(L.dts,c),L.pts=Math.max(L.pts,L.dts)}var O=P+4*w+8;try{s=new Uint8Array(O)}catch(t){return void this.observer.trigger(tt.a.ERROR,{type:et.b.MUX_ERROR,details:et.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:O,reason:"fail allocating video mdat "+O})}var k=new DataView(s.buffer);k.setUint32(0,O),s.set(rt.types.mdat,4);for(var M=0;M<v;M++){for(var N=p[M],B=N.units,F=0,G=void 0,U=0,H=B.length;U<H;U++){var j=B[U],V=j.data,W=j.data.byteLength;k.setUint32(d,W),d+=4,s.set(V,d),d+=W,F+=4+W}if(T)G=Math.max(0,o*Math.round((N.pts-N.dts)/o));else{if(M<v-1)o=p[M+1].dts-N.dts;else{var q=this.config,K=N.dts-p[0<M?M-1:M].dts;if(q.stretchShortVideoTrack){var X=q.maxBufferHole,Q=q.maxSeekHole,z=Math.floor(Math.min(X,Q)*h),Y=(r?u+r*h:this.nextAudioPts)-N.pts;z<Y?((o=Y-K)<0&&(o=K),nt.b.log("It is approximately "+Y/90+" ms to the next segment; using duration "+o/90+" ms for the last video frame.")):o=K}else o=K}G=Math.round(N.pts-N.dts)}g.push({size:F,duration:o,cts:G,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:N.key?2:1,isNonSync:N.key?0:1}})}this.nextAvcDts=f+o;var J=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,g.length&&-1<navigator.userAgent.toLowerCase().indexOf("chrome")){var $=g[0].flags;$.dependsOn=2,$.isNonSync=0}t.samples=g,a=rt.moof(t.sequenceNumber++,c,t),t.samples=[];var Z={data1:a,data2:s,startPTS:u/h,endPTS:(l+o)/h,startDTS:c/h,endDTS:this.nextAvcDts/h,type:"video",nb:g.length,dropped:J};return this.observer.trigger(tt.a.FRAG_PARSING_DATA,Z),Z},D.prototype.remuxAudio=function(t,e,n,r){var i,o,s,a,u,c,l,f=t.inputTimeScale,d=t.timescale,h=f/d,p=(t.isAAC?1024:1152)*h,g=this._PTSNormalize,v=this._initDTS,m=!t.isAAC&&this.typeSupported.mpeg,y=t.samples,b=[],T=this.nextAudioPts;if(n|=y.length&&T&&(r&&Math.abs(e-T/f)<.1||Math.abs(y[0].pts-T-v)<20*p),y.forEach(function(t){t.pts=t.dts=g(t.pts-v,e*f)}),0!==(y=y.filter(function(t){return 0<=t.pts})).length){if(n||(T=r?e*f:y[0].pts),t.isAAC)for(var S=this.config.maxAudioFramesDrift,E=0,_=T;E<y.length;){var A,w=y[E];A=w.pts-_;var P=Math.abs(1e3*A/f);if(A<=-S*p)nt.b.warn("Dropping 1 audio frame @ "+(_/f).toFixed(3)+"s due to "+Math.round(P)+" ms overlap."),y.splice(E,1),t.len-=w.unit.length;else if(S*p<=A&&P<1e4&&_){var x=Math.round(A/p);nt.b.warn("Injecting "+x+" audio frame @ "+(_/f).toFixed(3)+"s due to "+Math.round(1e3*A/f)+" ms gap.");for(var L=0;L<x;L++){var R=Math.max(_,0);(s=q.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(nt.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),s=w.unit.subarray()),y.splice(E,0,{unit:s,pts:R,dts:R}),t.len+=s.length,_+=p,E++}w.pts=w.dts=_,_+=p,E++}else Math.abs(A),w.pts=w.dts=_,_+=p,E++}for(var C=0,I=y.length;C<I;C++){var D=y[C],O=D.unit,k=D.pts;if(void 0!==l)o.duration=Math.round((k-l)/h);else{var M=Math.round(1e3*(k-T)/f),N=0;if(n&&t.isAAC&&M){if(0<M&&M<1e4)N=Math.round((k-T)/p),nt.b.log(M+" ms hole between AAC samples detected,filling it"),0<N&&(s=(s=q.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||O.subarray(),t.len+=N*s.length);else if(M<-12){nt.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(T/f).toFixed(3)+"s/"+(k/f).toFixed(3)+"s/"+-M+"ms"),t.len-=O.byteLength;continue}k=T}if(c=k,!(0<t.len))return;var B=m?t.len:t.len+8;i=m?0:8;try{a=new Uint8Array(B)}catch(t){return void this.observer.trigger(tt.a.ERROR,{type:et.b.MUX_ERROR,details:et.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating audio mdat "+B})}m||(new DataView(a.buffer).setUint32(0,B),a.set(rt.types.mdat,4));for(var F=0;F<N;F++)(s=q.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(nt.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),s=O.subarray()),a.set(s,i),i+=s.byteLength,o={size:s.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},b.push(o)}a.set(O,i);var G=O.byteLength;i+=G,o={size:G,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},b.push(o),l=k}var U=0,H=b.length;if(2<=H&&(U=b[H-2].duration,o.duration=U),H){this.nextAudioPts=T=l+h*U,t.len=0,t.samples=b,u=m?new Uint8Array:rt.moof(t.sequenceNumber++,c/h,t),t.samples=[];var j=c/f,V=T/f,W={data1:u,data2:a,startPTS:j,endPTS:V,startDTS:j,endDTS:V,type:"audio",nb:H};return this.observer.trigger(tt.a.FRAG_PARSING_DATA,W),W}return null}},D.prototype.remuxEmptyAudio=function(t,e,n,r){var i=t.inputTimeScale,o=i/(t.samplerate?t.samplerate:i),s=this.nextAudioPts,a=(void 0!==s?s:r.startDTS*i)+this._initDTS,u=r.endDTS*i+this._initDTS,c=1024*o,l=Math.ceil((u-a)/c),f=q.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(nt.b.warn("remux empty Audio"),f){for(var d=[],h=0;h<l;h++){var p=a+h*c;d.push({unit:f,pts:p,dts:p}),t.len+=f.length}t.samples=d,this.remuxAudio(t,e,n)}else nt.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},D.prototype.remuxID3=function(t,e){var n,r=t.samples.length,i=t.inputTimeScale,o=this._initPTS,s=this._initDTS;if(r){for(var a=0;a<r;a++)(n=t.samples[a]).pts=(n.pts-o)/i,n.dts=(n.dts-s)/i;this.observer.trigger(tt.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[],e=e},D.prototype.remuxText=function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var n,r=t.samples.length,i=t.inputTimeScale,o=this._initPTS;if(r){for(var s=0;s<r;s++)(n=t.samples[s]).pts=(n.pts-o)/i;this.observer.trigger(tt.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[],e=e},D.prototype._PTSNormalize=function(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;4294967296<Math.abs(t-e);)t+=n;return t},D);function k(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,k),this.observer=t}var M=(k.prototype.destroy=function(){},k.prototype.resetTimeStamp=function(){},k.prototype.resetInitSegment=function(){},k.prototype.remux=function(t,e,n,r,i,o,s,a){var u=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),u.trigger(tt.a.FRAG_PARSING_DATA,{data1:a,startPTS:i,startDTS:i,type:c,nb:1,dropped:0}),u.trigger(tt.a.FRAG_PARSED)},k);var N=(B.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},B.prototype.push=function(t,n,r,i,o,s,a,u,c,l,f,d){if(0<t.byteLength&&null!=n&&null!=n.key&&"AES-128"===n.method){var e=this.decrypter;null==e&&(e=this.decrypter=new g.a(this.observer,this.config));var h,p=this;try{h=performance.now()}catch(t){h=Date.now()}e.decrypt(t,n.key.buffer,n.iv.buffer,function(t){var e;try{e=performance.now()}catch(t){e=Date.now()}p.observer.trigger(tt.a.FRAG_DECRYPTED,{stats:{tstart:h,tdecrypt:e}}),p.pushDecrypted(new Uint8Array(t),n,new Uint8Array(r),i,o,s,a,u,c,l,f,d)})}else this.pushDecrypted(new Uint8Array(t),n,new Uint8Array(r),i,o,s,a,u,c,l,f,d)},B.prototype.pushDecrypted=function(t,e,n,r,i,o,s,a,u,c,l,f){var d=this.demuxer;if(!d||s&&!this.probe(t)){for(var h=this.observer,p=this.typeSupported,g=this.config,v=[{demux:P,remux:O},{demux:A,remux:M},{demux:_,remux:O},{demux:x,remux:O}],m=0,y=v.length;m<y;m++){var b=v[m],T=b.demux.probe;if(T(t)){var S=this.remuxer=new b.remux(h,g,p,this.vendor);d=new b.demux(h,S,g,p),this.probe=T;break}}if(!d)return void h.trigger(tt.a.ERROR,{type:et.b.MEDIA_ERROR,details:et.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=d}var E=this.remuxer;(s||a)&&(d.resetInitSegment(n,r,i,c),E.resetInitSegment()),s&&(d.resetTimeStamp(f),E.resetTimeStamp(f)),"function"==typeof d.setDecryptData&&d.setDecryptData(e),d.append(t,o,u,l)},B);function B(t,e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,B),this.observer=t,this.typeSupported=e,this.config=n,this.vendor=r}e.a=N},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};n.d(r,"newCue",function(){return Ie});var i=n(6),o=n.n(i),O=n(1),k=n(2),M=n(0),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}var u=(a.prototype.destroy=function(){this.unregisterListeners()},a.prototype.isEventHandler=function(){return"object"===s(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},a.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if("hlsEventGeneric"===t)throw new Error("Forbidden event name: "+t);this.hls.on(t,this.onEvent)},this)},a.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},a.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},a.prototype.onEventGeneric=function(e,t){try{(function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,e,t).call()}catch(t){M.b.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(O.a.ERROR,{type:k.b.OTHER_ERROR,details:k.a.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},a);var c=/^(\d+)x(\d+)$/,l=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;function f(t){for(var e in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),"string"==typeof t&&(t=f.parseAttrList(t)),t)t.hasOwnProperty(e)&&(this[e]=t[e])}var w=(f.prototype.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},f.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),r=0;r<e.length/2;r++)n[r]=parseInt(e.slice(2*r,2*r+2),16);return n}return null},f.prototype.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},f.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},f.prototype.enumeratedString=function(t){return this[t]},f.prototype.decimalResolution=function(t){var e=c.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},f.parseAttrList=function(t){var e,n={};for(l.lastIndex=0;null!==(e=l.exec(t));){var r=e[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[e[1]]=r}return n},f),d={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function h(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var p=function(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t};function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var m=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,y=/#EXT-X-MEDIA:(.*)/g,P=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),x=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,L=(p(b,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=o.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),b);function b(){v(this,b),this.method=null,this.key=null,this.iv=null,this._uri=null}var T,R=(S.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},S.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var n=t;return t&&t.method&&t.uri&&!t.iv&&((n=new L).method=t.method,n.baseuri=t.baseuri,n.reluri=t.reluri,n.iv=this.createInitializationVector(e)),n},S.prototype.cloneObj=function(t){return JSON.parse(JSON.stringify(t))},p(S,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=o.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var t=this._byteRange=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var n=this.lastByteRangeEndOffset;t[0]=n||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),S);function S(){v(this,S),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}function E(t,e){if(!t)return null;for(var n=null,r=0;r<t.length;r++){var i=t[r];i.id===e&&(n=i)}return n}function _(t){v(this,_);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,T.call(this,t,O.a.MANIFEST_LOADING,O.a.LEVEL_LOADING,O.a.AUDIO_TRACK_LOADING,O.a.SUBTITLE_TRACK_LOADING));return e.loaders={},e}var A,C=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_,T=u),_.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},u.prototype.destroy.call(this)},_.prototype.onManifestLoading=function(t){this.load(t.url,{type:"manifest"})},_.prototype.onLevelLoading=function(t){this.load(t.url,{type:"level",level:t.level,id:t.id})},_.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:"audioTrack",id:t.id})},_.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:"subtitleTrack",id:t.id})},_.prototype.load=function(t,e){var n=this.loaders[e.type];if(void 0!==n){var r=n.context;if(r&&r.url===t)return void M.b.trace("playlist request ongoing");M.b.warn("abort previous loader for type:"+e.type),n.abort()}var i,o,s=this.hls.config,a=void 0,u=void 0,c=void 0,l=void 0;"manifest"===e.type?(a=s.manifestLoadingMaxRetry,u=s.manifestLoadingTimeOut,c=s.manifestLoadingRetryDelay,l=s.manifestLoadingMaxRetryTimeout):"level"===e.type?(a=0,u=s.levelLoadingTimeOut):(a=s.levelLoadingMaxRetry,u=s.levelLoadingTimeOut,c=s.levelLoadingRetryDelay,l=s.levelLoadingMaxRetryTimeout,M.b.log("loading playlist for "+e.type+" "+(e.level||e.id))),n=this.loaders[e.type]=e.loader=void 0!==s.pLoader?new s.pLoader(s):new s.loader(s),e.url=t,e.responseType="",i={timeout:u,maxRetry:a,retryDelay:c,maxRetryDelay:l},o={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(e,i,o)},_.prototype.resolve=function(t,e){return o.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},_.prototype.parseMasterPlaylist=function(t,e){var n=[],r=void 0;function i(r,i){["video","audio"].forEach(function(e){var n=r.filter(function(t){return function(t,e){var n=d[e];return!!n&&!0===n[t.slice(0,4)]}(t,e)});if(n.length){var t=n.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});i[e+"Codec"]=0<t.length?t[0]:n[0],r=r.filter(function(t){return-1===n.indexOf(t)})}}),i.unknownCodecs=r}for(m.lastIndex=0;null!=(r=m.exec(t));){var o={},s=o.attrs=new w(r[1]);o.url=this.resolve(r[2],e);var a=s.decimalResolution("RESOLUTION");a&&(o.width=a.width,o.height=a.height),o.bitrate=s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),o.name=s.NAME,i([].concat((s.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=this.avc1toavcoti(o.videoCodec)),n.push(o)}return n},_.prototype.parseMasterPlaylistMedia=function(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:[],o=void 0,s=[],a=0;for(y.lastIndex=0;null!==(o=y.exec(t));){var u={},c=new w(o[1]);if(c.TYPE===n){if(u.groupId=c["GROUP-ID"],u.name=c.NAME,u.type=n,u.default="YES"===c.DEFAULT,u.autoselect="YES"===c.AUTOSELECT,u.forced="YES"===c.FORCED,c.URI&&(u.url=this.resolve(c.URI,e)),u.lang=c.LANGUAGE,u.name||(u.name=u.lang),i.length){var l=E(i,u.groupId);u.audioCodec=l?l.codec:i[0].codec}u.id=a++,s.push(u)}}return s},_.prototype.avc1toavcoti=function(t){var e,n=t.split(".");return 2<n.length?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},_.prototype.parseLevelPlaylist=function(t,e,n,r){var i,o,s=0,a=0,u={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},c=new L,l=0,f=null,d=new R;for(P.lastIndex=0;null!==(i=P.exec(t));){var h=i[1];if(h){d.duration=parseFloat(h);var p=(" "+i[2]).slice(1);d.title=p||null,d.tagList.push(p?["INF",h,p]:["INF",h])}else if(i[3]){if(!isNaN(d.duration)){var g=s++;d.type=r,d.start=a,d.levelkey=c,d.sn=g,d.level=n,d.cc=l,d.baseurl=e,d.relurl=(" "+i[3]).slice(1),u.fragments.push(d),a+=(f=d).duration,d=new R}}else if(i[4]){if(d.rawByteRange=(" "+i[4]).slice(1),f){var v=f.byteRangeEndOffset;v&&(d.lastByteRangeEndOffset=v)}}else if(i[5])d.rawProgramDateTime=(" "+i[5]).slice(1),d.tagList.push(["PROGRAM-DATE-TIME",d.rawProgramDateTime]),void 0===u.programDateTime&&(u.programDateTime=new Date(new Date(Date.parse(i[5]))-1e3*a));else{for(i=i[0].match(x),o=1;o<i.length&&void 0===i[o];o++);var m=(" "+i[o+1]).slice(1),y=(" "+i[o+2]).slice(1);switch(i[o]){case"#":d.tagList.push(y?[m,y]:[m]);break;case"PLAYLIST-TYPE":u.type=m.toUpperCase();break;case"MEDIA-SEQUENCE":s=u.startSN=parseInt(m);break;case"TARGETDURATION":u.targetduration=parseFloat(m);break;case"VERSION":u.version=parseInt(m);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"DIS":l++,d.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":l=parseInt(m);break;case"KEY":var b=new w(m),T=b.enumeratedString("METHOD"),S=b.URI,E=b.hexadecimalInteger("IV");T&&(c=new L,S&&0<=["AES-128","SAMPLE-AES"].indexOf(T)&&(c.method=T,c.baseuri=e,c.reluri=S,c.key=null,c.iv=E));break;case"START":var _=new w(m).decimalFloatingPoint("TIME-OFFSET");isNaN(_)||(u.startTimeOffset=_);break;case"MAP":var A=new w(m);d.relurl=A.URI,d.rawByteRange=A.BYTERANGE,d.baseurl=e,d.level=n,d.type=r,d.sn="initSegment",u.initSegment=d,d=new R;break;default:M.b.warn("line parsed but not handled: "+i)}}}return(d=f)&&!d.relurl&&(u.fragments.pop(),a-=d.duration),u.totalduration=a,u.averagetargetduration=a/u.fragments.length,u.endSN=s-1,u.startCC=u.fragments[0]?u.fragments[0].cc:0,u.endCC=l,u},_.prototype.loadsuccess=function(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:null,o=t.data,s=t.url,a=n.type,u=n.id,c=n.level,l=this.hls;if((this.loaders[a]=void 0)!==s&&0!==s.indexOf("data:")||(s=n.url),e.tload=performance.now(),0===o.indexOf("#EXTM3U"))if(0<o.indexOf("#EXTINF:")){var f="audioTrack"!==a&&"subtitleTrack"!==a,d=isNaN(c)?isNaN(u)?0:u:c,h=this.parseLevelPlaylist(o,s,d,"audioTrack"===a?"audio":"subtitleTrack"===a?"subtitle":"main");h.tload=e.tload,"manifest"===a&&l.trigger(O.a.MANIFEST_LOADED,{levels:[{url:s,details:h}],audioTracks:[],url:s,stats:e,networkDetails:i}),e.tparsed=performance.now(),h.targetduration?f?l.trigger(O.a.LEVEL_LOADED,{details:h,level:c||0,id:u||0,stats:e,networkDetails:i}):"audioTrack"===a?l.trigger(O.a.AUDIO_TRACK_LOADED,{details:h,id:u,stats:e,networkDetails:i}):"subtitleTrack"===a&&l.trigger(O.a.SUBTITLE_TRACK_LOADED,{details:h,id:u,stats:e,networkDetails:i}):l.trigger(O.a.ERROR,{type:k.b.NETWORK_ERROR,details:k.a.MANIFEST_PARSING_ERROR,fatal:!0,url:s,reason:"invalid targetduration",networkDetails:i})}else{var p=this.parseMasterPlaylist(o,s);if(p.length){var g=p.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),v=this.parseMasterPlaylistMedia(o,s,"AUDIO",g),m=this.parseMasterPlaylistMedia(o,s,"SUBTITLES");if(v.length){var y=!1;v.forEach(function(t){t.url||(y=!0)}),!1===y&&p[0].audioCodec&&!p[0].attrs.AUDIO&&(M.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),v.unshift({type:"main",name:"main"}))}l.trigger(O.a.MANIFEST_LOADED,{levels:p,audioTracks:v,subtitles:m,url:s,stats:e,networkDetails:i})}else l.trigger(O.a.ERROR,{type:k.b.NETWORK_ERROR,details:k.a.MANIFEST_PARSING_ERROR,fatal:!0,url:s,reason:"no level found in manifest",networkDetails:i})}else l.trigger(O.a.ERROR,{type:k.b.NETWORK_ERROR,details:k.a.MANIFEST_PARSING_ERROR,fatal:!0,url:s,reason:"no EXTM3U delimiter",networkDetails:i})},_.prototype.loaderror=function(t,e,n){var r,i,o=2<arguments.length&&void 0!==n?n:null,s=e.loader;switch(e.type){case"manifest":r=k.a.MANIFEST_LOAD_ERROR,i=!0;break;case"level":r=k.a.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":r=k.a.AUDIO_TRACK_LOAD_ERROR,i=!1}s&&(s.abort(),this.loaders[e.type]=void 0),this.hls.trigger(O.a.ERROR,{type:k.b.NETWORK_ERROR,details:r,fatal:i,url:s.url,loader:s,response:t,context:e,networkDetails:o})},_.prototype.loadtimeout=function(t,e,n){var r,i,o=2<arguments.length&&void 0!==n?n:null,s=e.loader;switch(e.type){case"manifest":r=k.a.MANIFEST_LOAD_TIMEOUT,i=!0;break;case"level":r=k.a.LEVEL_LOAD_TIMEOUT,i=!1;break;case"audioTrack":r=k.a.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}s&&(s.abort(),this.loaders[e.type]=void 0),this.hls.trigger(O.a.ERROR,{type:k.b.NETWORK_ERROR,details:r,fatal:i,url:s.url,loader:s,context:e,networkDetails:o})},_);function I(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,I);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,A.call(this,t,O.a.FRAG_LOADING));return e.loaders={},e}var D,N=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(I,A=u),I.prototype.destroy=function(){var t=this.loaders;for(var e in t){var n=t[e];n&&n.destroy()}this.loaders={},u.prototype.destroy.call(this)},I.prototype.onFragLoading=function(t){var e=t.frag,n=e.type,r=this.loaders[n],i=this.hls.config;e.loaded=0,r&&(M.b.warn("abort previous fragment loader for type:"+n),r.abort()),r=this.loaders[n]=e.loader=void 0!==i.fLoader?new i.fLoader(i):new i.loader(i);var o,s,a=void 0;a={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var u=e.byteRangeStartOffset,c=e.byteRangeEndOffset;isNaN(u)||isNaN(c)||(a.rangeStart=u,a.rangeEnd=c),o={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},r.load(a,o,s)},I.prototype.loadsuccess=function(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:null,o=t.data,s=n.frag;s.loader=void 0,this.loaders[s.type]=void 0,this.hls.trigger(O.a.FRAG_LOADED,{payload:o,frag:s,stats:e,networkDetails:i})},I.prototype.loaderror=function(t,e,n){var r=2<arguments.length&&void 0!==n?n:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(O.a.ERROR,{type:k.b.NETWORK_ERROR,details:k.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:r})},I.prototype.loadtimeout=function(t,e,n){var r=2<arguments.length&&void 0!==n?n:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(O.a.ERROR,{type:k.b.NETWORK_ERROR,details:k.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:r})},I.prototype.loadprogress=function(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:null,o=e.frag;o.loaded=t.loaded,this.hls.trigger(O.a.FRAG_LOAD_PROGRESS,{frag:o,stats:t,networkDetails:i})},I);function B(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,B);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,D.call(this,t,O.a.KEY_LOADING));return e.loaders={},e.decryptkey=null,e.decrypturl=null,e}var F=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(B,D=u),B.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},u.prototype.destroy.call(this)},B.prototype.onKeyLoading=function(t){var e=t.frag,n=e.type,r=this.loaders[n],i=e.decryptdata,o=i.uri;if(o!==this.decrypturl||null===this.decryptkey){var s,a,u,c=this.hls.config;r&&(M.b.warn("abort previous key loader for type:"+n),r.abort()),e.loader=this.loaders[n]=new c.loader(c),this.decrypturl=o,this.decryptkey=null,s={url:o,frag:e,responseType:"arraybuffer"},a={timeout:c.fragLoadingTimeOut,maxRetry:c.fragLoadingMaxRetry,retryDelay:c.fragLoadingRetryDelay,maxRetryDelay:c.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(s,a,u)}else this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(O.a.KEY_LOADED,{frag:e}))},B.prototype.loadsuccess=function(t,e,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(t.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(O.a.KEY_LOADED,{frag:r})},B.prototype.loaderror=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(O.a.ERROR,{type:k.b.NETWORK_ERROR,details:k.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},B.prototype.loadtimeout=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(O.a.ERROR,{type:k.b.NETWORK_ERROR,details:k.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},B),G={search:function(t,e){for(var n=0,r=t.length-1,i=null,o=null;n<=r;){var s=e(o=t[i=(n+r)/2|0]);if(0<s)n=i+1;else{if(!(s<0))return o;r=i-1}}return null}},U={isBuffered:function(t,e){try{if(t)for(var n=t.buffered,r=0;r<n.length;r++)if(e>=n.start(r)&&e<=n.end(r))return!0}catch(t){}return!1},bufferInfo:function(t,e,n){try{if(t){var r,i=t.buffered,o=[];for(r=0;r<i.length;r++)o.push({start:i.start(r),end:i.end(r)});return this.bufferedInfo(o,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,n){var r,i,o,s,a,u=[];for(t.sort(function(t,e){var n=t.start-e.start;return n||e.end-t.end}),a=0;a<t.length;a++){var c=u.length;if(c){var l=u[c-1].end;t[a].start-l<n?t[a].end>l&&(u[c-1].end=t[a].end):u.push(t[a])}else u.push(t[a])}for(r=a=0,i=o=e;a<u.length;a++){var f=u[a].start,d=u[a].end;if(f<=e+n&&e<d)i=f,r=(o=d)-e;else if(e+n<f){s=f;break}}return{len:r,start:i,end:o,nextStart:s}}},H=n(7),j=n(5),V=n.n(j),W=n(9),q=n.n(W);function K(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}var X=K();function Q(n,t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Q),this.hls=n,this.id=t;var i=this.observer=new V.a,e=n.config;i.trigger=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t,t].concat(n))},i.off=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.removeListener.apply(i,[t].concat(n))};var r=function(t,e){(e=e||{}).frag=this.frag,e.id=this.id,n.trigger(t,e)}.bind(this);i.on(O.a.FRAG_DECRYPTED,r),i.on(O.a.FRAG_PARSING_INIT_SEGMENT,r),i.on(O.a.FRAG_PARSING_DATA,r),i.on(O.a.FRAG_PARSED,r),i.on(O.a.ERROR,r),i.on(O.a.FRAG_PARSING_METADATA,r),i.on(O.a.FRAG_PARSING_USERDATA,r),i.on(O.a.INIT_PTS_FOUND,r);var o={mp4:X.isTypeSupported("video/mp4"),mpeg:X.isTypeSupported("audio/mpeg"),mp3:X.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(e.enableWorker&&"undefined"!=typeof Worker){M.b.log("demuxing in webworker");var a=void 0;try{a=this.w=q()(10),this.onwmsg=this.onWorkerMessage.bind(this),a.addEventListener("message",this.onwmsg),a.onerror=function(t){n.trigger(O.a.ERROR,{type:k.b.OTHER_ERROR,details:k.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},a.postMessage({cmd:"init",typeSupported:o,vendor:s,id:t,config:JSON.stringify(e)})}catch(t){M.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),a&&URL.revokeObjectURL(a.objectURL),this.demuxer=new H.a(i,o,e,s),this.w=void 0}}else this.demuxer=new H.a(i,o,e,s)}var z=(Q.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},Q.prototype.push=function(t,e,n,r,i,o,s,a){var u=this.w,c=isNaN(i.startDTS)?i.start:i.startDTS,l=i.decryptdata,f=this.frag,d=!(f&&i.cc===f.cc),h=!(f&&i.level===f.level),p=f&&i.sn===f.sn+1,g=!h&&p;if(d&&M.b.log(this.id+":discontinuity detected"),h&&M.b.log(this.id+":switch detected"),this.frag=i,u)u.postMessage({cmd:"demux",data:t,decryptdata:l,initSegment:e,audioCodec:n,videoCodec:r,timeOffset:c,discontinuity:d,trackSwitch:h,contiguous:g,duration:o,accurateTimeOffset:s,defaultInitPTS:a},t instanceof ArrayBuffer?[t]:[]);else{var v=this.demuxer;v&&v.push(t,l,e,n,r,c,d,h,g,o,s,a)}},Q.prototype.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case O.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},Q);function Y(t,e,n){var r=t[e],i=t[n],o=i.startPTS;isNaN(o)?i.start=e<n?r.start+r.duration:Math.max(r.start-i.duration,0):e<n?(r.duration=o-r.start,r.duration<0&&M.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(i.duration=r.start-o,i.duration<0&&M.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!"))}function J(t,e,n,r,i,o){var s=n;if(!isNaN(e.startPTS)){var a=Math.abs(e.startPTS-n);isNaN(e.deltaPTS)?e.deltaPTS=a:e.deltaPTS=Math.max(a,e.deltaPTS),s=Math.max(n,e.startPTS),n=Math.min(n,e.startPTS),r=Math.max(r,e.endPTS),i=Math.min(i,e.startDTS),o=Math.max(o,e.endDTS)}var u=n-e.start;e.start=e.startPTS=n,e.maxStartPTS=s,e.endPTS=r,e.startDTS=i,e.endDTS=o,e.duration=r-n;var c,l,f,d=e.sn;if(!t||d<t.startSN||d>t.endSN)return 0;for(c=d-t.startSN,(l=t.fragments)[c]=e,f=c;0<f;f--)Y(l,f,f-1);for(f=c;f<l.length-1;f++)Y(l,f,f+1);return t.PTSKnown=!0,u}function $(t,e){var n,r=Math.max(t.startSN,e.startSN)-e.startSN,i=Math.min(t.endSN,e.endSN)-e.startSN,o=e.startSN-t.startSN,s=t.fragments,a=e.fragments,u=0;if(i<r)e.PTSKnown=!1;else{for(var c=r;c<=i;c++){var l=s[o+c],f=a[c];f&&l&&(u=l.cc-f.cc,isNaN(l.startPTS)||(f.start=f.startPTS=l.startPTS,f.endPTS=l.endPTS,f.duration=l.duration,f.backtracked=l.backtracked,f.dropped=l.dropped,n=f))}if(u)for(M.b.log("discontinuity sliding from playlist, take drift into account"),c=0;c<a.length;c++)a[c].cc+=u;if(n)J(e,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(0<=o&&o<s.length){var d=s[o].start;for(c=0;c<a.length;c++)a[c].start+=d}e.PTSKnown=t.PTSKnown}}var Z={toString:function(t){for(var e="",n=t.length,r=0;r<n;r++)e+="["+t.start(r).toFixed(3)+","+t.end(r).toFixed(3)+"]";return e}};function tt(t,e){var n=t.fragments,r=e.fragments;if(r.length&&n.length){var i=function(t,e){for(var n=null,r=0;r<t.length;r+=1){var i=t[r];if(i&&i.cc===e){n=i;break}}return n}(n,r[0].cc);if(i&&(!i||i.startPTS))return i;M.b.log("No frag in previous level to align on")}else M.b.log("No fragments to align")}function et(n,t){t.fragments.forEach(function(t){if(t){var e=t.start+n;t.start=t.startPTS=e,t.endPTS=e+t.duration}}),t.PTSKnown=!0}function nt(t,e,n){if(function(t,e,n){var r=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(r=!0),r}(t,e,n)){var r=tt(e.details,n);r&&(M.b.log("Adjusting PTS using last level due to CC increase within current level"),et(r.start,n))}if(!1===n.PTSKnown&&e&&e.details){var i=e.details.programDateTime,o=(n.programDateTime-i)/1e3+e.details.fragments[0].start;isNaN(o)||(M.b.log("adjusting PTS using programDateTime delta, sliding:"+o.toFixed(3)),et(o,n))}}var rt=function(t,e,n){return e&&it(t.prototype,e),n&&it(t,n),t};function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ot,st="STOPPED",at="IDLE",ut="KEY_LOADING",ct="FRAG_LOADING",lt="FRAG_LOADING_WAITING_RETRY",ft="WAITING_LEVEL",dt="PARSING",ht="PARSED",pt="BUFFER_FLUSHING",gt="ENDED",vt="ERROR";function mt(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,mt);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,ot.call(this,t,O.a.MEDIA_ATTACHED,O.a.MEDIA_DETACHING,O.a.MANIFEST_LOADING,O.a.MANIFEST_PARSED,O.a.LEVEL_LOADED,O.a.KEY_LOADED,O.a.FRAG_LOADED,O.a.FRAG_LOAD_EMERGENCY_ABORTED,O.a.FRAG_PARSING_INIT_SEGMENT,O.a.FRAG_PARSING_DATA,O.a.FRAG_PARSED,O.a.ERROR,O.a.AUDIO_TRACK_SWITCHING,O.a.AUDIO_TRACK_SWITCHED,O.a.BUFFER_CREATED,O.a.BUFFER_APPENDED,O.a.BUFFER_FLUSHED));return e.config=t.config,e.audioCodecSwap=!1,e.ticks=0,e._state=st,e.ontick=e.tick.bind(e),e}var yt,bt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(mt,ot=u),mt.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),u.prototype.destroy.call(this),this.state=st},mt.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}0<e&&-1===t&&(M.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=at,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=st},mt.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=st,this.forceStartLoad=!1},mt.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},mt.prototype.doTick=function(){switch(this.state){case vt:break;case pt:this.fragLoadError=0;break;case at:this._doTickIdle();break;case ft:var t=this.levels[this.level];t&&t.details&&(this.state=at);break;case lt:var e=performance.now(),n=this.retryDate;(!n||n<=e||this.media&&this.media.seeking)&&(M.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=at)}this._checkBuffer(),this._checkFragmentChanged()},mt.prototype._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch)){var r=void 0;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=t.nextLoadLevel,o=this.levels[i];if(o){var s=o.bitrate,a=void 0;a=s?Math.max(8*e.maxBufferSize/s,e.maxBufferLength):e.maxBufferLength,a=Math.min(a,e.maxMaxBufferLength);var u=U.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,e.maxBufferHole),c=u.len;if(!(a<=c)){M.b.trace("buffer length of "+c.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=i;var l=o.details;if(void 0===l||!0===l.live&&this.levelLastLoaded!==i)this.state=ft;else{var f=this.fragPrevious;if(!l.live&&f&&!f.backtracked&&f.sn===l.endSN&&!u.nextStart&&Math.min(n.duration,f.start+f.duration)-Math.max(u.end,f.start)<=Math.max(.2,f.duration)){var d={};return this.altAudio&&(d.type="video"),this.hls.trigger(O.a.BUFFER_EOS,d),void(this.state=gt)}this._fetchPayloadOrEos(r,u,l)}}}}},mt.prototype._fetchPayloadOrEos=function(t,e,n){var r=this.fragPrevious,i=this.level,o=n.fragments,s=o.length;if(0!==s){var a=o[0].start,u=o[s-1].start+o[s-1].duration,c=e.end,l=void 0;if(n.initSegment&&!n.initSegment.data)l=n.initSegment;else if(n.live){var f=this.config.initialLiveManifestSize;if(s<f)return void M.b.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+f);if(null===(l=this._ensureFragmentAtLivePoint(n,c,a,u,r,o,s)))return}else c<a&&(l=o[0]);(l=l||this._findFragment(a,r,s,o,c,u,n))&&this._loadFragmentOrKey(l,i,n,t,c)}},mt.prototype._ensureFragmentAtLivePoint=function(t,e,n,r,i,o,s){var a=this.hls.config,u=this.media,c=void 0,l=void 0!==a.liveMaxLatencyDuration?a.liveMaxLatencyDuration:a.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(n-a.maxFragLookUpTolerance,r-l)){var f=this.liveSyncPosition=this.computeLivePosition(n,t);M.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),e=f,u&&u.readyState&&u.duration>f&&(u.currentTime=f),this.nextLoadPosition=f}if(t.PTSKnown&&r<e&&u&&u.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(i){var d=i.sn+1;if(d>=t.startSN&&d<=t.endSN){var h=o[d-t.startSN];i.cc===h.cc&&(c=h,M.b.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=G.search(o,function(t){return i.cc-t.cc}))&&M.b.log("live playlist, switching playlist, load frag with same CC: "+c.sn)}c||(c=o[Math.min(s-1,Math.round(s/2))],M.b.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c},mt.prototype._findFragment=function(t,e,n,r,i,o,s){function a(t){var e=Math.min(f,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-e<=i?1:t.start-e>i&&t.start?-1:0}var u=this.hls.config,c=void 0,l=void 0,f=u.maxFragLookUpTolerance,d=e?r[e.sn-r[0].sn+1]:void 0;if(l=i<o?(o-f<i&&(f=0),d&&!a(d)?d:G.search(r,a)):r[n-1]){var h=(c=l).sn-s.startSN,p=e&&c.level===e.level,g=r[h-1],v=r[1+h];if(e&&c.sn===e.sn)if(p&&!c.backtracked)if(c.sn<s.endSN){var m=e.deltaPTS;m&&m>u.maxBufferHole&&e.dropped&&h?(c=g,M.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),e.loadCounter--):(c=v,M.b.log("SN just loaded, load next one: "+c.sn))}else c=null;else c.backtracked&&(v&&v.backtracked?(M.b.warn("Already backtracked from fragment "+v.sn+", will not backtrack to fragment "+c.sn+". Loading fragment "+v.sn),c=v):(M.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),c.dropped=0,g?(g.loadCounter&&g.loadCounter--,(c=g).backtracked=!0):h&&(c=null)))}return c},mt.prototype._loadFragmentOrKey=function(t,e,n,r,i){var o=this.hls,s=o.config;if(!t.decryptdata||null==t.decryptdata.uri||null!=t.decryptdata.key){if(M.b.log("Loading "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e+", currentTime:"+r.toFixed(3)+",bufferEnd:"+i.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var a=s.fragLoadingLoopThreshold;if(t.loadCounter>a&&Math.abs(this.fragLoadIdx-t.loadIdx)<a)return void o.trigger(O.a.ERROR,{type:k.b.MEDIA_ERROR,details:k.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t})}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,t.autoLevel=o.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),o.trigger(O.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new z(o,"main")),void(this.state=ct)}M.b.log("Loading key for "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e),this.state=ut,o.trigger(O.a.KEY_LOADING,{frag:t})},mt.prototype.getBufferedFrag=function(e){return G.search(this._bufferedFrags,function(t){return e<t.startPTS?-1:e>t.endPTS?1:0})},mt.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},mt.prototype._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),U.isBuffered(n,e)?t=this.getBufferedFrag(e):U.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var r=t;if(r!==this.fragPlaying){this.hls.trigger(O.a.FRAG_CHANGED,{frag:r});var i=r.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(O.a.LEVEL_SWITCHED,{level:i}),this.fragPlaying=r}}},mt.prototype.immediateLevelSwitch=function(){if(M.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},mt.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,U.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},mt.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,n=void 0,r=void 0;if(void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),(e=this.getBufferedFrag(t.currentTime))&&1<e.startPTS&&this.flushMainBuffer(0,e.startPTS-1),t.paused)n=0;else{var i=this.hls.nextLoadLevel,o=this.levels[i],s=this.fragLastKbps;n=s&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*s)+1:0}if(r=(r=this.getBufferedFrag(t.currentTime+n))&&this.followingBufferedFrag(r)){var a=this.fragCurrent;a&&a.loader&&a.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(r.maxStartPTS,Number.POSITIVE_INFINITY)}}},mt.prototype.flushMainBuffer=function(t,e){this.state=pt;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(O.a.BUFFER_FLUSHING,n)},mt.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)},mt.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(M.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0,t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},mt.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,n=this.config;isNaN(e)||M.b.log("media seeking to "+e.toFixed(3));var r=this.mediaBuffer?this.mediaBuffer:t,i=U.bufferInfo(r,e,this.config.maxBufferHole);if(this.state===ct){var o=this.fragCurrent;if(0===i.len&&o){var s=n.maxFragLookUpTolerance,a=o.start-s,u=o.start+o.duration+s;e<a||u<e?(o.loader&&(M.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=at):M.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===gt&&(0===i.len&&(this.fragPrevious=0),this.state=at);t&&(this.lastCurrentTime=e),this.state!==ct&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},mt.prototype.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;isNaN(e)||M.b.log("media seeked to "+e.toFixed(3)),this.tick()},mt.prototype.onMediaEnded=function(){M.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},mt.prototype.onManifestLoading=function(){M.b.log("trigger BUFFER_RESET"),this.hls.trigger(O.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},mt.prototype.onManifestParsed=function(t){var e,n=!1,r=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&M.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},mt.prototype.onLevelLoaded=function(t){var e=t.details,n=t.level,r=this.levels[this.levelLastLoaded],i=this.levels[n],o=e.totalduration,s=0;if(M.b.log("level "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+o),e.live){var a=i.details;a&&0<e.fragments.length?($(a,e),s=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,a),e.PTSKnown&&!isNaN(s)?M.b.log("live playlist sliding:"+s.toFixed(3)):(M.b.log("live playlist - outdated PTS, unknown sliding"),nt(this.fragPrevious,r,e))):(M.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,nt(this.fragPrevious,r,e))}else e.PTSKnown=!1;if(i.details=e,this.levelLastLoaded=n,this.hls.trigger(O.a.LEVEL_UPDATED,{details:e,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var u=e.startTimeOffset;isNaN(u)?e.live?(this.startPosition=this.computeLivePosition(s,e),M.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(u<0&&(M.b.log("negative start time offset "+u+", count from end of last fragment"),u=s+o+u),M.b.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===ft&&(this.state=at),this.tick()},mt.prototype.onKeyLoaded=function(){this.state===ut&&(this.state=at,this.tick())},mt.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===ct&&e&&"main"===n.type&&n.level===e.level&&n.sn===e.sn){var r=t.stats,i=this.levels[e.level],o=i.details;if(M.b.log("Loaded  "+e.sn+" of ["+o.startSN+" ,"+o.endSN+"],level "+e.level),this.bitrateTest=!1,this.stats=r,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=at,this.startFragRequested=!1,r.tparsed=r.tbuffered=performance.now(),this.hls.trigger(O.a.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.tick();else if("initSegment"===n.sn)this.state=at,r.tparsed=r.tbuffered=performance.now(),o.initSegment.data=t.payload,this.hls.trigger(O.a.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.tick();else{this.state=dt;var s=o.totalduration,a=e.level,u=e.sn,c=this.config.defaultAudioCodec||i.audioCodec;this.audioCodecSwap&&(M.b.log("swapping playlist audio codec"),void 0===c&&(c=this.lastAudioCodec),c=c&&(-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,M.b.log("Parsing "+u+" of ["+o.startSN+" ,"+o.endSN+"],level "+a+", cc "+e.cc);var l=this.demuxer;l=l||(this.demuxer=new z(this.hls,"main"));var f=this.media,d=!(f&&f.seeking)&&(o.PTSKnown||!o.live),h=o.initSegment?o.initSegment.data:[];l.push(t.payload,h,c,i.videoCodec,e,s,d,void 0)}}this.fragLoadError=0},mt.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===dt){var r,i,o=t.tracks;if(o.audio&&this.altAudio&&delete o.audio,i=o.audio){var s=this.levels[this.level].audioCodec,a=navigator.userAgent.toLowerCase();s&&this.audioCodecSwap&&(M.b.log("swapping playlist audio codec"),s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===a.indexOf("firefox")&&(s="mp4a.40.5"),-1!==a.indexOf("android")&&"audio/mpeg"!==i.container&&(s="mp4a.40.2",M.b.log("Android: force audio codec to "+s)),i.levelCodec=s,i.id=t.id}for(r in(i=o.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=t.id),this.hls.trigger(O.a.BUFFER_CODECS,o),o){i=o[r],M.b.log("main track:"+r+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var u=i.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(O.a.BUFFER_APPENDING,{type:r,data:u,parent:"main",content:"initSegment"}))}this.tick()}},mt.prototype.onFragParsingData=function(e){var n=this,t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&("audio"!==e.type||!this.altAudio)&&this.state===dt){var i=this.levels[this.level],o=t;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+t.duration,e.endDTS=e.startDTS+t.duration),M.b.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(o.dropped=e.dropped,o.dropped)if(o.backtracked)M.b.warn("Already backtracked on this fragment, appending with the gap");else{var s=i.details;if(!s||o.sn!==s.startSN)return M.b.warn("missing video frame(s), backtracking fragment"),o.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=at,this.fragPrevious=o,void this.tick();M.b.warn("missing video frame(s) on first frag, appending with gap")}else o.backtracked=!1;var a=J(i.details,o,e.startPTS,e.endPTS,e.startDTS,e.endDTS),u=this.hls;u.trigger(O.a.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:a,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(t){t&&t.length&&n.state===dt&&(n.appended=!0,n.pendingBuffering=!0,u.trigger(O.a.BUFFER_APPENDING,{type:e.type,data:t,parent:"main",content:"data"}))}),this.tick()}},mt.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===dt&&(this.stats.tparsed=performance.now(),this.state=ht,this._checkAppendedParsed())},mt.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,n=t.id;if(!e){if(this.mediaBuffer!==this.media){M.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(M.b.log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=at}var i=this.hls;i.trigger(O.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(O.a.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},mt.prototype.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(M.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()},mt.prototype.onBufferCreated=function(t){var e=t.tracks,n=void 0,r=void 0,i=!1;for(var o in e){var s=e[o];"main"===s.id?(n=s,"video"===(r=o)&&(this.videoBuffer=e[o].buffer)):i=!0}i&&n?(M.b.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},mt.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==dt&&e!==ht||(this.pendingBuffering=0<t.pending,this._checkAppendedParsed())}},mt.prototype._checkAppendedParsed=function(){if(!(this.state!==ht||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;M.b.log("main buffered : "+Z.toString(e.buffered));var n=this._bufferedFrags.filter(function(t){return U.isBuffered(e,(t.startPTS+t.endPTS)/2)});n.push(t),this._bufferedFrags=n.sort(function(t,e){return t.startPTS-e.startPTS}),this.fragPrevious=t;var r=this.stats;r.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(O.a.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.state=at}this.tick()}},mt.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n=!!this.media&&U.isBuffered(this.media,this.media.currentTime)&&U.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case k.a.FRAG_LOAD_ERROR:case k.a.FRAG_LOAD_TIMEOUT:case k.a.KEY_LOAD_ERROR:case k.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var r=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);e.loadCounter=0,M.b.warn("mediaController: frag loading failed, retry in "+r+" ms"),this.retryDate=performance.now()+r,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=lt}else M.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=vt;break;case k.a.FRAG_LOOP_LOADING_ERROR:t.fatal||(n?(this._reduceMaxBufferLength(e.duration),this.state=at):e.autoLevel&&0!==e.level||(t.fatal=!0,this.state=vt));break;case k.a.LEVEL_LOAD_ERROR:case k.a.LEVEL_LOAD_TIMEOUT:this.state!==vt&&(t.fatal?(this.state=vt,M.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==ft||(this.state=at));break;case k.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==dt&&this.state!==ht||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=at):(M.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},mt.prototype._reduceMaxBufferLength=function(t){var e=this.config;e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,M.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*e.fragLoadingLoopThreshold))},mt.prototype._checkBuffer=function(){var t=this.media,e=this.config;if(t&&t.readyState){var n=t.currentTime,r=this.mediaBuffer?this.mediaBuffer:t,i=r.buffered;if(!this.loadedmetadata&&i.length){this.loadedmetadata=!0;var o=t.seeking?n:this.startPosition,s=U.isBuffered(r,o),a=i.start(0),u=!s&&Math.abs(o-a)<e.maxSeekHole;n===o&&!u||(M.b.log("target start position:"+o),u&&(o=a,M.b.log("target start position not buffered, seek to buffered.start(0) "+o)),M.b.log("adjust currentTime from "+n+" to "+o),t.currentTime=o)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var c=U.bufferInfo(t,n,0),l=!(t.paused||t.ended||0===t.buffered.length);if(n!==this.lastCurrentTime)this.stallReported&&(M.b.warn("playback not stuck anymore @"+n+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(l){var f=performance.now(),d=this.hls;if(this.stalled){var h=f-this.stalled,p=c.len,g=this.nudgeRetry||0;if(p<=.5&&h>1e3*e.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,M.b.warn("playback stalling in low buffer @"+n),d.trigger(O.a.ERROR,{type:k.b.MEDIA_ERROR,details:k.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:p}));var v=c.nextStart,m=v-n;if(v&&m<e.maxSeekHole&&0<m){this.nudgeRetry=++g;var y=g*e.nudgeOffset;M.b.log("adjust currentTime from "+t.currentTime+" to next buffered @ "+v+" + nudge "+y),t.currentTime=v+y,this.stalled=void 0,d.trigger(O.a.ERROR,{type:k.b.MEDIA_ERROR,details:k.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:v+y-n})}}else if(.5<p&&h>1e3*e.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,M.b.warn("playback stalling in high buffer @"+n),d.trigger(O.a.ERROR,{type:k.b.MEDIA_ERROR,details:k.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:p})),this.stalled=void 0,this.nudgeRetry=++g,g<e.nudgeMaxRetry){var b=t.currentTime,T=b+g*e.nudgeOffset;M.b.log("adjust currentTime from "+b+" to "+T),t.currentTime=T,d.trigger(O.a.ERROR,{type:k.b.MEDIA_ERROR,details:k.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else M.b.error("still stuck in high buffer @"+n+" after "+e.nudgeMaxRetry+", raise fatal error"),d.trigger(O.a.ERROR,{type:k.b.MEDIA_ERROR,details:k.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=f,this.stallReported=!1}}}},mt.prototype.onFragLoadEmergencyAborted=function(){this.state=at,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},mt.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(t){return U.isBuffered(e,(t.startPTS+t.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=at,this.fragPrevious=null},mt.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},mt.prototype.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},rt(mt,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,M.b.log("main stream:"+e+"->"+t),this.hls.trigger(O.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),mt),Tt=function(t,e,n){return e&&St(t.prototype,e),n&&St(t,n),t};function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Et);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,yt.call(this,t,O.a.MANIFEST_LOADED,O.a.LEVEL_LOADED,O.a.FRAG_LOADED,O.a.ERROR));return e.canload=!1,e.currentLevelIndex=null,e.manualLevelIndex=-1,e.timer=null,e}var _t,At=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Et,yt=u),Et.prototype.destroy=function(){this.cleanTimer(),this.manualLevelIndex=-1},Et.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},Et.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},Et.prototype.stopLoad=function(){this.canload=!1},Et.prototype.onManifestLoaded=function(t){var e=[],n=void 0,r={},i=null,o=!1,s=!1,a=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),u=[];if(t.levels.forEach(function(t){t.loadError=0,t.fragmentError=!1,o=o||!!t.videoCodec,s=s||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),!0===a&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),void 0===(i=r[t.bitrate])?(t.url=[t.url],t.urlId=0,r[t.bitrate]=t,e.push(t)):i.url.push(t.url)}),!0===o&&!0===s&&(e=e.filter(function(t){return!!t.videoCodec})),e=e.filter(function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||h(e))&&(!n||h(n))}),t.audioTracks&&(u=t.audioTracks.filter(function(t){return!t.audioCodec||h(t.audioCodec,"audio")})),0<e.length){n=e[0].bitrate,e.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=e;for(var c=0;c<e.length;c++)if(e[c].bitrate===n){this._firstLevel=c,M.b.log("manifest loaded,"+e.length+" level(s) found, first bitrate:"+n);break}this.hls.trigger(O.a.MANIFEST_PARSED,{levels:e,audioTracks:u,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:o,altAudio:0<u.length})}else this.hls.trigger(O.a.ERROR,{type:k.b.MEDIA_ERROR,details:k.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Et.prototype.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(0<=t&&t<e.length){if(this.cleanTimer(),this.currentLevelIndex!==t){M.b.log("switching to level "+t);var r=e[this.currentLevelIndex=t];r.level=t,n.trigger(O.a.LEVEL_SWITCH,r),n.trigger(O.a.LEVEL_SWITCHING,r)}var i=e[t],o=i.details;if(!o||!0===o.live){var s=i.urlId;n.trigger(O.a.LEVEL_LOADING,{url:i.url[s],level:t,id:s})}}else n.trigger(O.a.ERROR,{type:k.b.OTHER_ERROR,details:k.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},Et.prototype.onError=function(t){if(!0!==t.fatal){var e=!1,n=!1,r=void 0;switch(t.details){case k.a.FRAG_LOAD_ERROR:case k.a.FRAG_LOAD_TIMEOUT:case k.a.FRAG_LOOP_LOADING_ERROR:case k.a.KEY_LOAD_ERROR:case k.a.KEY_LOAD_TIMEOUT:r=t.frag.level,n=!0;break;case k.a.LEVEL_LOAD_ERROR:case k.a.LEVEL_LOAD_TIMEOUT:r=t.context.level,e=!0;break;case k.a.REMUX_ALLOC_ERROR:r=t.level,e=!0}void 0!==r&&this.recoverLevel(t,r,e,n)}else t.type===k.b.NETWORK_ERROR&&this.cleanTimer()},Et.prototype.recoverLevel=function(t,e,n,r){var i=this,o=this.hls.config,s=t.details,a=this._levels[e],u=void 0,c=void 0,l=void 0;if(a.loadError++,a.fragmentError=r,!0===n){if(!(this.levelRetryCount+1<=o.levelLoadingMaxRetry))return M.b.error("level controller, cannot recover from "+s+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(t.fatal=!0);c=Math.min(Math.pow(2,this.levelRetryCount)*o.levelLoadingRetryDelay,o.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return i.loadLevel()},c),t.levelRetry=!0,this.levelRetryCount++,M.b.warn("level controller, "+s+", retry in "+c+" ms, current retry count is "+this.levelRetryCount)}!0!==n&&!0!==r||(1<(u=a.url.length)&&a.loadError<u?(M.b.warn("level controller, "+s+" for level "+e+": switching to redundant stream id "+a.urlId),a.urlId=(a.urlId+1)%u,a.details=void 0):-1===this.manualLevelIndex?(l=0===e?this._levels.length-1:e-1,M.b.warn("level controller, "+s+": switch to "+l),this.hls.nextAutoLevel=this.currentLevelIndex=l):!0===r&&(M.b.warn("level controller, "+s+": reload a fragment"),this.currentLevelIndex=null))},Et.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},Et.prototype.onLevelLoaded=function(t){var e=this,n=t.level;if(n===this.currentLevelIndex){var r=this._levels[n];!1===r.fragmentError&&(r.loadError=0,this.levelRetryCount=0);var i=t.details;if(i.live){var o=1e3*(i.averagetargetduration?i.averagetargetduration:i.targetduration),s=r.details;s&&i.endSN===s.endSN&&(o/=2,M.b.log("same live playlist, reload twice faster")),o-=performance.now()-t.stats.trequest,o=Math.max(1e3,Math.round(o)),M.b.log("live playlist, reload in "+o+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},o)}else this.cleanTimer()}},Et.prototype.loadLevel=function(){var t=void 0,e=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(t=this._levels[this.currentLevelIndex])&&0<t.url.length&&(e=t.urlId,this.hls.trigger(O.a.LEVEL_LOADING,{url:t.url[e],level:this.currentLevelIndex,id:e}))},Tt(Et,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0!==this._startLevel)return this._startLevel;var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),Et),wt=n(3);function Pt(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Pt);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,_t.call(this,t,O.a.MEDIA_ATTACHED,O.a.MEDIA_DETACHING,O.a.FRAG_PARSING_METADATA));return e.id3Track=void 0,e.media=void 0,e}var xt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Pt,_t=u),Pt.prototype.destroy=function(){u.prototype.destroy.call(this)},Pt.prototype.onMediaAttached=function(t){this.media=t.media,this.media},Pt.prototype.onMediaDetaching=function(){this.media=void 0},Pt.prototype.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<n.length;i++){var o=wt.a.getID3Frames(n[i].data);if(o){var s=n[i].pts,a=i<n.length-1?n[i+1].pts:e.endPTS;s===a&&(a+=1e-4);for(var u=0;u<o.length;u++){var c=o[u];if(!wt.a.isTimeStampFrame(c)){var l=new r(s,a,"");l.value=c,this.id3Track.addCue(l)}}}}},Pt);function Lt(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Lt),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}var Rt=(Lt.prototype.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},Lt.prototype.getTotalWeight=function(){return this.totalWeight_},Lt.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},Lt);function Ct(t,e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Ct),this.hls=t,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Rt(e),this.fast_=new Rt(n)}var It,Dt=(Ct.prototype.sample=function(t,e){var n=8e3*e/(t=Math.max(t,this.minDelayMs_)),r=t/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)},Ct.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},Ct.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},Ct.prototype.destroy=function(){},Ct),Ot=function(t,e,n){return e&&kt(t.prototype,e),n&&kt(t,n),t};function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mt(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Mt);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,It.call(this,t,O.a.FRAG_LOADING,O.a.FRAG_LOADED,O.a.FRAG_BUFFERED,O.a.ERROR));return e.lastLoadedFragLevel=0,e._nextAutoLevel=-1,e.hls=t,e.timer=null,e._bwEstimator=null,e.onCheck=e._abandonRulesCheck.bind(e),e}var Nt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Mt,It=u),Mt.prototype.destroy=function(){this.clearTimer(),u.prototype.destroy.call(this)},Mt.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var n=this.hls,r=t.frag.level,i=n.levels[r].details.live,o=n.config,s=void 0,a=void 0;a=i?(s=o.abrEwmaFastLive,o.abrEwmaSlowLive):(s=o.abrEwmaFastVoD,o.abrEwmaSlowVoD),this._bwEstimator=new Dt(n,a,s,o.abrEwmaDefaultEstimate)}this.fragCurrent=e}},Mt.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent,r=n.loader,i=t.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return M.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=r.stats;if(e&&o&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var s=performance.now()-o.trequest,a=Math.abs(e.playbackRate);if(s>500*n.duration/a){var u=t.levels,c=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/s),l=u[n.level],f=l.realBitrate?Math.max(l.realBitrate,l.bitrate):l.bitrate,d=o.total?o.total:Math.max(o.loaded,Math.round(n.duration*f/8)),h=e.currentTime,p=(d-o.loaded)/c,g=(U.bufferInfo(e,h,t.config.maxBufferHole).end-h)/a;if(g<2*n.duration/a&&g<p){var v=void 0,m=void 0;for(m=n.level-1;i<m;m--){var y=u[m].realBitrate?Math.max(u[m].realBitrate,u[m].bitrate):u[m].bitrate;if((v=n.duration*y/(6.4*c))<g)break}v<p&&(M.b.warn("loading too slow, abort fragment loading and switch to level "+m+":fragLoadedDelay["+m+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+v.toFixed(1)+"<"+p.toFixed(1)+":"+g.toFixed(1)),t.nextLoadLevel=m,this._bwEstimator.sample(s,o.loaded),r.abort(),this.clearTimer(),t.trigger(O.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:o}))}}}},Mt.prototype.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&!isNaN(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[e.level],r=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,i=(n.loaded?n.loaded.duration:0)+t.frag.duration;n.loaded={bytes:r,duration:i},n.realBitrate=Math.round(8*r/i)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},Mt.prototype.onFragBuffered=function(t){var e=t.stats,n=t.frag;if(!(!0===e.aborted||1!==n.loadCounter||"main"!==n.type||isNaN(n.sn)||n.bitrateTest&&e.tload!==e.tbuffered)){var r=e.tparsed-e.trequest;M.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(r,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}},Mt.prototype.onError=function(t){switch(t.details){case k.a.FRAG_LOAD_ERROR:case k.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},Mt.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Mt.prototype._findBestLevel=function(t,e,n,r,i,o,s,a,u){for(var c=i;r<=c;c--){var l=u[c].details,f=l?l.totalduration/l.fragments.length:e,d=!!l&&l.live,h=void 0;h=c<=t?s*n:a*n;var p=u[c].realBitrate?Math.max(u[c].realBitrate,u[c].bitrate):u[c].bitrate,g=p*f/h;if(M.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(h)+"/"+p+"/"+f+"/"+o+"/"+g),p<h&&(!g||d&&!this.bitrateTestDelay||g<o))return c}return-1},Ot(Mt,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,r=t.config,i=t.minAutoLevel,o=t.media,s=this.lastLoadedFragLevel,a=this.fragCurrent?this.fragCurrent.duration:0,u=o?o.currentTime:0,c=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,l=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,f=(U.bufferInfo(o,u,r.maxBufferHole).end-u)/c,d=this._findBestLevel(s,a,l,i,e,f,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(0<=d)return d;M.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var h=a?Math.min(a,r.maxStarvationDelay):r.maxStarvationDelay,p=r.abrBandWidthFactor,g=r.abrBandWidthUpFactor;if(0==f){var v=this.bitrateTestDelay;v&&(h=(a?Math.min(a,r.maxLoadingDelay):r.maxLoadingDelay)-v,M.b.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*h)+" ms"),p=g=1)}return d=this._findBestLevel(s,a,l,i,e,f+h,p,g,n),Math.max(d,0)}}]),Mt);var Bt,Ft=K();function Gt(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Gt);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Bt.call(this,t,O.a.MEDIA_ATTACHING,O.a.MEDIA_DETACHING,O.a.MANIFEST_PARSED,O.a.BUFFER_RESET,O.a.BUFFER_APPENDING,O.a.BUFFER_CODECS,O.a.BUFFER_EOS,O.a.BUFFER_FLUSHING,O.a.LEVEL_PTS_UPDATED,O.a.LEVEL_UPDATED));return e._msDuration=null,e._levelDuration=null,e._live=null,e._objectUrl=null,e.onsbue=e.onSBUpdateEnd.bind(e),e.onsbe=e.onSBUpdateError.bind(e),e.pendingTracks={},e.tracks={},e}var Ut,Ht=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Gt,Bt=u),Gt.prototype.destroy=function(){u.prototype.destroy.call(this)},Gt.prototype.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(.1<Math.abs(r.timestampOffset-t.start)){var i=r.updating;try{r.abort()}catch(t){i=!0,M.b.warn("can not abort audio buffer: "+t)}i?this.audioTimestampOffset=t.start:(M.b.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+t.start),r.timestampOffset=t.start)}}},Gt.prototype.onManifestParsed=function(t){var e=t.audio,n=t.video||t.levels.length&&t.audio,r=0;t.altAudio&&(e||n)&&(r=(e?1:0)+(n?1:0),M.b.log(r+" sourceBuffer(s) expected")),this.sourceBufferNb=r},Gt.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var n=this.mediaSource=new Ft;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(n),this._objectUrl=e.src}},Gt.prototype.onMediaDetaching=function(){M.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){M.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):M.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(O.a.MEDIA_DETACHED)},Gt.prototype.onMediaSourceOpen=function(){M.b.log("media source opened"),this.hls.trigger(O.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},Gt.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},Gt.prototype.onMediaSourceClose=function(){M.b.log("media source closed")},Gt.prototype.onMediaSourceEnded=function(){M.b.log("media source ended")},Gt.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;M.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var n=this.parent,e=this.segments.reduce(function(t,e){return e.parent===n?t+1:t},0);this.hls.trigger(O.a.BUFFER_APPENDED,{parent:n,pending:e}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},Gt.prototype.onSBUpdateError=function(t){M.b.error("sourceBuffer error:",t),this.hls.trigger(O.a.ERROR,{type:k.b.MEDIA_ERROR,details:k.a.BUFFER_APPENDING_ERROR,fatal:!1})},Gt.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},Gt.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}},Gt.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;for(var r in t)if(!e[r]){var i=t[r],o=i.levelCodec||i.codec,s=i.container+";codecs="+o;M.b.log("creating sourceBuffer("+s+")");try{var a=e[r]=n.addSourceBuffer(s);a.addEventListener("updateend",this.onsbue),a.addEventListener("error",this.onsbe),this.tracks[r]={codec:o,container:i.container},i.buffer=a}catch(t){M.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(O.a.ERROR,{type:k.b.MEDIA_ERROR,details:k.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:s})}}this.hls.trigger(O.a.BUFFER_CREATED,{tracks:t})},Gt.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},Gt.prototype.onBufferAppendFail=function(t){M.b.error("sourceBuffer error:",t.event),this.hls.trigger(O.a.ERROR,{type:k.b.MEDIA_ERROR,details:k.a.BUFFER_APPENDING_ERROR,fatal:!1})},Gt.prototype.onBufferEos=function(t){var e=this.sourceBuffer,n=t.type;for(var r in e)n&&r!==n||e[r].ended||(e[r].ended=!0,M.b.log(r+" sourceBuffer now EOS"));this.checkEos()},Gt.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var r=t[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}M.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){M.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},Gt.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},Gt.prototype.onLevelUpdated=function(t){var e=t.details;0<e.fragments.length&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._live=e.live,this.updateMediaElementDuration())},Gt.prototype.updateMediaElementDuration=function(){var t,e=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(M.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||t===1/0||isNaN(t))&&(M.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},Gt.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var r in n)e+=n[r].buffered.length}catch(t){M.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(O.a.BUFFER_FLUSHED)}},Gt.prototype.doAppending=function(){var e=this.hls,t=this.sourceBuffer,n=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void M.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var r=n.shift();try{var i=t[r.type];i?i.updating?n.unshift(r):(i.ended=!1,this.parent=r.parent,i.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){M.b.error("error while trying to append buffer:"+t.message),n.unshift(r);var o={type:k.b.MEDIA_ERROR,parent:r.parent};if(22===t.code)return this.segments=[],o.details=k.a.BUFFER_FULL_ERROR,o.fatal=!1,void e.trigger(O.a.ERROR,o);if(this.appendError?this.appendError++:this.appendError=1,o.details=k.a.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry)return M.b.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],o.fatal=!0,void e.trigger(O.a.ERROR,o);o.fatal=!1,e.trigger(O.a.ERROR,o)}}}},Gt.prototype.flushBuffer=function(t,e,n){var r,i,o,s,a,u,c=this.sourceBuffer;if(Object.keys(c).length){if(M.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var l in c)if(!n||l===n){if((r=c[l]).ended=!1,r.updating)return M.b.warn("cannot flush, sb updating in progress"),!1;try{for(i=0;i<r.buffered.length;i++)if(o=r.buffered.start(i),s=r.buffered.end(i),u=-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(a=t,e):(a=Math.max(o,t),Math.min(s,e)),.5<Math.min(u,s)-a)return this.flushBufferCounter++,M.b.log("flush "+l+" ["+a+","+u+"], of ["+o+","+s+"], pos:"+this.media.currentTime),r.remove(a,u),!1}catch(t){M.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else M.b.warn("abort flushing too many retries");M.b.log("buffer flushed")}return!0},Gt),jt=function(t,e,n){return e&&Vt(t.prototype,e),n&&Vt(t,n),t};function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wt(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Wt),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Ut.call(this,t,O.a.FPS_DROP_LEVEL_CAPPING,O.a.MEDIA_ATTACHING,O.a.MANIFEST_PARSED))}var qt,Kt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Wt,Ut=u),Wt.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},Wt.prototype.onFpsDropLevelCapping=function(t){Wt.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},Wt.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},Wt.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},Wt.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},Wt.prototype.getMaxLevel=function(n){var r=this;if(!this.levels)return-1;var t=this.levels.filter(function(t,e){return Wt.isLevelAllowed(e,r.restrictedLevels)&&e<=n});return Wt.getMaxLevelByMediaSize(t,this.mediaWidth,this.mediaHeight)},Wt.isLevelAllowed=function(t,e){return-1===(1<arguments.length&&void 0!==e?e:[]).indexOf(t)},Wt.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var r,i,o=t.length-1,s=0;s<t.length;s+=1){var a=t[s];if((a.width>=e||a.height>=n)&&(r=a,!(i=t[s+1])||r.width!==i.width||r.height!==i.height)){o=s;break}}return o},jt(Wt,[{key:"mediaWidth",get:function(){var t=void 0,e=this.media;return e&&(t=e.width||e.clientWidth||e.offsetWidth,t*=Wt.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,e=this.media;return e&&(t=e.height||e.clientHeight||e.offsetHeight,t*=Wt.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),Wt);function Xt(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Xt),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,qt.call(this,t,O.a.MEDIA_ATTACHING))}var Qt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Xt,qt=u),Xt.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},Xt.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},Xt.prototype.checkFPS=function(t,e,n){var r=performance.now();if(e){if(this.lastTime){var i=r-this.lastTime,o=n-this.lastDroppedFrames,s=e-this.lastDecodedFrames,a=1e3*o/i,u=this.hls;if(u.trigger(O.a.FPS_DROP,{currentDropped:o,currentDecoded:s,totalDroppedFrames:n}),0<a&&o>u.config.fpsDroppedMonitoringThreshold*s){var c=u.currentLevel;M.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),0<c&&(-1===u.autoLevelCapping||u.autoLevelCapping>=c)&&(c-=1,u.trigger(O.a.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:u.currentLevel}),u.autoLevelCapping=c,u.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},Xt.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},Xt);function zt(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,zt),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}var Yt,Jt=(zt.prototype.destroy=function(){this.abort(),this.loader=null},zt.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},zt.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},zt.prototype.loadInternal=function(){var e,n=this.context;e=this.loader=new XMLHttpRequest;var t=this.stats;t.tfirst=0,t.loaded=0;var r=this.xhrSetup;try{if(r)try{r(e,n.url)}catch(t){e.open("GET",n.url,!0),r(e,n.url)}e.readyState||e.open("GET",n.url,!0)}catch(t){return void this.callbacks.onError({code:e.status,text:t.message},n,e)}n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},zt.prototype.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,r=this.stats,i=this.context,o=this.config;if(!r.aborted&&2<=n)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===n){var s=e.status;if(200<=s&&s<300){r.tload=Math.max(r.tfirst,performance.now());var a=void 0,u=void 0;u="arraybuffer"===i.responseType?(a=e.response).byteLength:(a=e.responseText).length,r.loaded=r.total=u;var c={url:e.responseURL,data:a};this.callbacks.onSuccess(c,r,i,e)}else r.retry>=o.maxRetry||400<=s&&s<499?(M.b.error(s+" while loading "+i.url),this.callbacks.onError({code:s,text:e.statusText},i,e)):(M.b.warn(s+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)},zt.prototype.loadtimeout=function(){M.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},zt.prototype.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,e)},zt),$t=function(t,e,n){return e&&Zt(t.prototype,e),n&&Zt(t,n),t};function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function te(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,te);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Yt.call(this,t,O.a.MANIFEST_LOADING,O.a.MANIFEST_PARSED,O.a.AUDIO_TRACK_LOADED,O.a.ERROR));return e.ticks=0,e.ontick=e.tick.bind(e),e}var ee=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(te,Yt=u),te.prototype.destroy=function(){this.cleanTimer(),u.prototype.destroy.call(this)},te.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},te.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},te.prototype.doTick=function(){this.updateTrack(this.trackId)},te.prototype.onError=function(t){t.fatal&&t.type===k.b.NETWORK_ERROR&&this.cleanTimer()},te.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},te.prototype.onManifestParsed=function(t){var e=this,n=t.audioTracks||[],r=!1;this.tracks=n,this.hls.trigger(O.a.AUDIO_TRACKS_UPDATED,{audioTracks:n});var i=0;n.forEach(function(t){if(t.default&&!r)return e.audioTrack=i,void(r=!0);i++}),!1===r&&n.length&&(M.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},te.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(M.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},te.prototype.setAudioTrackInternal=function(t){if(0<=t&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,M.b.log("switching to audioTrack "+t);var e=this.tracks[t],n=this.hls,r=e.type,i=e.url,o={id:t,type:r,url:i};n.trigger(O.a.AUDIO_TRACK_SWITCH,o),n.trigger(O.a.AUDIO_TRACK_SWITCHING,o);var s=e.details;!i||void 0!==s&&!0!==s.live||(M.b.log("(re)loading playlist for audioTrack "+t),n.trigger(O.a.AUDIO_TRACK_LOADING,{url:i,id:t}))}},te.prototype.updateTrack=function(t){if(0<=t&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,M.b.log("updating audioTrack "+t);var e=this.tracks[t],n=e.url,r=e.details;!n||void 0!==r&&!0!==r.live||(M.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(O.a.AUDIO_TRACK_LOADING,{url:n,id:t}))}},$t(te,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),te),ne=function(t,e,n){return e&&re(t.prototype,e),n&&re(t,n),t};function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ie,oe="STOPPED",se="STARTING",ae="IDLE",ue="PAUSED",ce="KEY_LOADING",le="FRAG_LOADING",fe="FRAG_LOADING_WAITING_RETRY",de="WAITING_TRACK",he="PARSING",pe="PARSED",ge="BUFFER_FLUSHING",ve="ENDED",me="ERROR",ye="WAITING_INIT_PTS";function be(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,be);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,ie.call(this,t,O.a.MEDIA_ATTACHED,O.a.MEDIA_DETACHING,O.a.AUDIO_TRACKS_UPDATED,O.a.AUDIO_TRACK_SWITCHING,O.a.AUDIO_TRACK_LOADED,O.a.KEY_LOADED,O.a.FRAG_LOADED,O.a.FRAG_PARSING_INIT_SEGMENT,O.a.FRAG_PARSING_DATA,O.a.FRAG_PARSED,O.a.ERROR,O.a.BUFFER_RESET,O.a.BUFFER_CREATED,O.a.BUFFER_APPENDED,O.a.BUFFER_FLUSHED,O.a.INIT_PTS_FOUND));return e.config=t.config,e.audioCodecSwap=!1,e.ticks=0,e._state=oe,e.ontick=e.tick.bind(e),e.initPTS=[],e.waitingFragment=null,e.videoTrackCC=null,e}function Te(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}}var Se=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(be,ie=u),be.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),u.prototype.destroy.call(this),this.state=oe},be.prototype.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,r=t.initPTS;"main"===e&&(this.initPTS[n]=r,this.videoTrackCC=n,M.b.log("InitPTS for cc:"+n+" found from video track:"+r),this.state===ye&&this.tick())},be.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),(this.fragLoadError=0)<e&&-1===t?(M.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=ae):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=se),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=oe},be.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=oe},be.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},be.prototype.doTick=function(){var t,e,n,r=this.hls,i=r.config;switch(this.state){case me:case ue:case ge:break;case se:this.state=de,this.loadedmetadata=!1;break;case ae:var o=this.tracks;if(!o)break;if(!this.media&&(this.startFragRequested||!i.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var s=this.mediaBuffer?this.mediaBuffer:this.media,a=this.videoBuffer?this.videoBuffer:this.media,u=U.bufferInfo(s,t,i.maxBufferHole),c=U.bufferInfo(a,t,i.maxBufferHole),l=u.len,f=u.end,d=this.fragPrevious,h=Math.max(i.maxBufferLength,c.len),p=this.audioSwitch,g=this.trackId;if((l<h||p)&&g<o.length){if(void 0===(n=o[g].details)){this.state=de;break}if(!p&&!n.live&&d&&d.sn===n.endSN&&!u.nextStart&&(!this.media.seeking||this.media.duration-f<d.duration/2)){this.hls.trigger(O.a.BUFFER_EOS,{type:"audio"}),this.state=ve;break}var v=n.fragments,m=v.length,y=v[0].start,b=v[m-1].start+v[m-1].duration,T=void 0;if(p)if(n.live&&!n.PTSKnown)M.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),f=0;else if(f=t,n.PTSKnown&&t<y){if(!(u.end>y||u.nextStart))return;M.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=y+.05}if(n.initSegment&&!n.initSegment.data)T=n.initSegment;else if(f<=y){if(T=v[0],null!==this.videoTrackCC&&T.cc!==this.videoTrackCC&&(T=function(t,e){return G.search(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}(v,this.videoTrackCC)),n.live&&T.loadIdx&&T.loadIdx===this.fragLoadIdx){var S=u.nextStart?u.nextStart:y;return M.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(S+.05)),void(this.media.currentTime=S+.05)}}else{var E=void 0,_=i.maxFragLookUpTolerance,A=d?v[d.sn-v[0].sn+1]:void 0,w=function(t){var e=Math.min(_,t.duration);return t.start+t.duration-e<=f?1:t.start-e>f&&t.start?-1:0};(E=f<b?(b-_<f&&(_=0),A&&!w(A)?A:G.search(v,w)):v[m-1])&&(y=(T=E).start,d&&T.level===d.level&&T.sn===d.sn&&(T.sn<n.endSN?(T=v[T.sn+1-n.startSN],M.b.log("SN just loaded, load next one: "+T.sn)):T=null))}if(T)if(T.decryptdata&&null!=T.decryptdata.uri&&null==T.decryptdata.key)M.b.log("Loading key for "+T.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+g),this.state=ce,r.trigger(O.a.KEY_LOADING,{frag:T});else{if(M.b.log("Loading "+T.sn+", cc: "+T.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+g+", currentTime:"+t+",bufferEnd:"+f.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,T.loadCounter){T.loadCounter++;var P=i.fragLoadingLoopThreshold;if(T.loadCounter>P&&Math.abs(this.fragLoadIdx-T.loadIdx)<P)return void r.trigger(O.a.ERROR,{type:k.b.MEDIA_ERROR,details:k.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:T})}else T.loadCounter=1;T.loadIdx=this.fragLoadIdx,this.fragCurrent=T,this.startFragRequested=!0,isNaN(T.sn)||(this.nextLoadPosition=T.start+T.duration),r.trigger(O.a.FRAG_LOADING,{frag:T}),this.state=le}}break;case de:(e=this.tracks[this.trackId])&&e.details&&(this.state=ae);break;case fe:var x=performance.now(),L=this.retryDate,R=(s=this.media)&&s.seeking;(!L||L<=x||R)&&(M.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=ae);break;case ye:var C=this.videoTrackCC;if(void 0===this.initPTS[C])break;var I=this.waitingFragment;if(I){var D=I.frag.cc;C!==D?(e=this.tracks[this.trackId]).details&&e.details.live&&(M.b.warn("Waiting fragment CC ("+D+") does not match video track CC ("+C+")"),this.waitingFragment=null,this.state=ae):(this.state=le,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=ae}},be.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},be.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(M.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.tracks;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},be.prototype.onMediaSeeking=function(){this.state===ve&&(this.state=ae),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},be.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},be.prototype.onAudioTracksUpdated=function(t){M.b.log("audio tracks updated"),this.tracks=t.audioTracks},be.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=ue,this.waitingFragment=null,e?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=ae,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},be.prototype.onAudioTrackLoaded=function(t){var e=t.details,n=t.id,r=this.tracks[n],i=e.totalduration,o=0;if(M.b.log("track "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+i),e.live){var s=r.details;s&&0<e.fragments.length?($(s,e),o=e.fragments[0].start,e.PTSKnown?M.b.log("live audio playlist sliding:"+o.toFixed(3)):M.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,M.b.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(r.details=e,!this.startFragRequested){if(-1===this.startPosition){var a=e.startTimeOffset;isNaN(a)?this.startPosition=0:(M.b.log("start time offset found in playlist, adjust startPosition to "+a),this.startPosition=a)}this.nextLoadPosition=this.startPosition}this.state===de&&(this.state=ae),this.tick()},be.prototype.onKeyLoaded=function(){this.state===ce&&(this.state=ae,this.tick())},be.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===le&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var r=this.tracks[this.trackId],i=r.details,o=i.totalduration,s=e.level,a=e.sn,u=e.cc,c=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",l=this.stats=t.stats;if("initSegment"===a)this.state=ae,l.tparsed=l.tbuffered=performance.now(),i.initSegment.data=t.payload,this.hls.trigger(O.a.FRAG_BUFFERED,{stats:l,frag:e,id:"audio"}),this.tick();else{this.state=he,this.appended=!1,this.demuxer||(this.demuxer=new z(this.hls,"audio"));var f=this.initPTS[u],d=i.initSegment?i.initSegment.data:[];i.initSegment||void 0!==f?(this.pendingBuffering=!0,M.b.log("Demuxing "+a+" of ["+i.startSN+" ,"+i.endSN+"],track "+s),this.demuxer.push(t.payload,d,c,null,e,o,!1,f)):(M.b.log("unknown video PTS for continuity counter "+u+", waiting for video PTS before demuxing audio frag "+a+" of ["+i.startSN+" ,"+i.endSN+"],track "+s),this.waitingFragment=t,this.state=ye)}}this.fragLoadError=0},be.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===he){var r=t.tracks,i=void 0;if(r.video&&delete r.video,i=r.audio){i.levelCodec=i.codec,i.id=t.id,this.hls.trigger(O.a.BUFFER_CODECS,r),M.b.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var o=i.initSegment;if(o){var s={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[s]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(O.a.BUFFER_APPENDING,s))}this.tick()}}},be.prototype.onFragParsingData=function(e){var n=this,t=this.fragCurrent,r=e.frag;if(t&&"audio"===e.id&&"audio"===e.type&&r.sn===t.sn&&r.level===t.level&&this.state===he){var i=this.trackId,o=this.tracks[i],s=this.hls;isNaN(e.endPTS)&&(e.endPTS=e.startPTS+t.duration,e.endDTS=e.startDTS+t.duration),M.b.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),J(o.details,t,e.startPTS,e.endPTS);var a=this.audioSwitch,u=this.media,c=!1;if(a&&u)if(u.readyState){var l=u.currentTime;M.b.log("switching audio track : currentTime:"+l),l>=e.startPTS&&(M.b.log("switching audio track : flushing all audio"),this.state=ge,s.trigger(O.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),c=!0,this.audioSwitch=!1,s.trigger(O.a.AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,s.trigger(O.a.AUDIO_TRACK_SWITCHED,{id:i});var f=this.pendingData;this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&f.push({type:e.type,data:t,parent:"audio",content:"data"})}),!c&&f.length&&(f.forEach(function(t){n.state===he&&(n.pendingBuffering=!0,n.hls.trigger(O.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},be.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===he&&(this.stats.tparsed=performance.now(),this.state=pe,this._checkAppendedParsed())},be.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},be.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},be.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==he&&e!==pe||(this.pendingBuffering=0<t.pending,this._checkAppendedParsed())}},be.prototype._checkAppendedParsed=function(){if(!(this.state!==pe||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=performance.now(),n.trigger(O.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;M.b.log("audio buffered : "+Z.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(O.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=ae}this.tick()}},be.prototype.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case k.a.FRAG_LOAD_ERROR:case k.a.FRAG_LOAD_TIMEOUT:if(!t.fatal){var n=this.fragLoadError;n?n++:n=1;var r=this.config;if(n<=r.fragLoadingMaxRetry){this.fragLoadError=n,e.loadCounter=0;var i=Math.min(Math.pow(2,n-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);M.b.warn("audioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.state=fe}else M.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=me}break;case k.a.FRAG_LOOP_LOADING_ERROR:case k.a.AUDIO_TRACK_LOAD_ERROR:case k.a.AUDIO_TRACK_LOAD_TIMEOUT:case k.a.KEY_LOAD_ERROR:case k.a.KEY_LOAD_TIMEOUT:this.state!==me&&(this.state=t.fatal?me:ae,M.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case k.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===he||this.state===pe)){var o=this.mediaBuffer,s=this.media.currentTime;if(o&&U.isBuffered(o,s)&&U.isBuffered(o,s+.5)){var a=this.config;a.maxMaxBufferLength>=a.maxBufferLength&&(a.maxMaxBufferLength/=2,M.b.warn("audio:reduce max buffer length to "+a.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*a.fragLoadingLoopThreshold),this.state=ae}else M.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=ge,this.hls.trigger(O.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},be.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(M.b.log("appending pending audio data on Buffer Flushed"),t.forEach(function(t){e.hls.trigger(O.a.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=pe):(this.state=ae,this.fragPrevious=null,this.tick())},ne(be,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,M.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),be),Ee=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var T={"":!0,lr:!0,rl:!0},e={start:!0,middle:!0,end:!0,left:!0,right:!0};function S(t){return"string"==typeof t&&(!!e[t.toLowerCase()]&&t.toLowerCase())}function E(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(t,e,n){var r=this,i=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),o={};i?r=document.createElement("custom"):o.enumerable=!0,r.hasBeenReset=!1;var s="",a=!1,u=t,c=e,l=n,f=null,d="",h=!0,p="auto",g="start",v=50,m="middle",y=50,b="middle";if(Object.defineProperty(r,"id",E({},o,{get:function(){return s},set:function(t){s=""+t}})),Object.defineProperty(r,"pauseOnExit",E({},o,{get:function(){return a},set:function(t){a=!!t}})),Object.defineProperty(r,"startTime",E({},o,{get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");u=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",E({},o,{get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",E({},o,{get:function(){return l},set:function(t){l=""+t,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",E({},o,{get:function(){return f},set:function(t){f=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",E({},o,{get:function(){return d},set:function(t){var e=function(t){return"string"==typeof t&&(!!T[t.toLowerCase()]&&t.toLowerCase())}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",E({},o,{get:function(){return h},set:function(t){h=!!t,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",E({},o,{get:function(){return p},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",E({},o,{get:function(){return g},set:function(t){var e=S(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",E({},o,{get:function(){return v},set:function(t){if(t<0||100<t)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",E({},o,{get:function(){return m},set:function(t){var e=S(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",E({},o,{get:function(){return y},set:function(t){if(t<0||100<t)throw new Error("Size must be between 0 and 100.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",E({},o,{get:function(){return b},set:function(t){var e=S(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),r.displayState=void 0,i)return r}return t.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},t}();function _e(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Te,this.regionList=[]}function Ae(){this.values=Object.create(null)}function we(t,e,n,r){var i=r?t.split(r):[t];for(var o in i)if("string"==typeof i[o]){var s=i[o].split(n);if(2===s.length)e(s[0],s[1])}}Ae.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(e=parseFloat(e))&&e<=100)&&(this.set(t,e),!0)}};var Pe=new Ee(0,0,0),xe="middle"===Pe.align?"middle":"center";function Le(e,t,s){var n=e;function r(){var t=function(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):59<n[1]?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function i(){e=e.replace(/^\s+/,"")}if(i(),t.startTime=r(),i(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),i(),t.endTime=r(),i(),function(t,e){var o=new Ae;we(t,function(t,e){switch(t){case"region":for(var n=s.length-1;0<=n;n--)if(s[n].id===e){o.set(t,s[n].region);break}break;case"vertical":o.alt(t,e,["rl","lr"]);break;case"line":var r=e.split(","),i=r[0];o.integer(t,i),o.percent(t,i)&&o.set("snapToLines",!1),o.alt(t,i,["auto"]),2===r.length&&o.alt("lineAlign",r[1],["start",xe,"end"]);break;case"position":r=e.split(","),o.percent(t,r[0]),2===r.length&&o.alt("positionAlign",r[1],["start",xe,"end","line-left","line-right","auto"]);break;case"size":o.percent(t,e);break;case"align":o.alt(t,e,["start",xe,"end","left","right"])}},/:/,/\s/),e.region=o.get("region",null),e.vertical=o.get("vertical","");var n=o.get("line","auto");"auto"===n&&-1===Pe.line&&(n=-1),e.line=n,e.lineAlign=o.get("lineAlign","start"),e.snapToLines=o.get("snapToLines",!0),e.size=o.get("size",100),e.align=o.get("align",xe);var r=o.get("position","auto");"auto"===r&&50===Pe.position&&(r="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=r}(e,t)}function Re(t){return t.replace(/<br(?: \/)?>/gi,"\n")}_e.prototype={parse:function(t){var r=this;function e(){var t=r.buffer,e=0;for(t=Re(t);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,r.buffer=t.substr(e),n}t&&(r.buffer+=r.decoder.decode(t,{stream:!0}));try{var n;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var i=(n=e()).match(/^()?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");r.state="HEADER"}for(var o=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(o?o=!1:n=e(),r.state){case"HEADER":/:/.test(n)?we(n,function(t,e){switch(t){case"Region":console.log("parse region",e)}},/:/):n||(r.state="ID");continue;case"NOTE":n||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){r.state="NOTE";break}if(!n)continue;if(r.cue=new Ee(0,0,""),r.state="CUE",-1===n.indexOf("--\x3e")){r.cue.id=n;continue}case"CUE":try{Le(n,r.cue,r.regionList)}catch(t){r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var s=-1!==n.indexOf("--\x3e");if(!n||s&&(o=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=n;continue;case"BADCUE":n||(r.state="ID");continue}}}catch(t){"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&"HEADER"!==this.state||(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}};var Ce=_e;function Ie(t,e,n,r){for(var i,o,s,a,u,c=window.VTTCue||window.TextTrackCue,l=0;l<r.rows.length;l++)if(s=!0,a=0,u="",!(i=r.rows[l]).isEmpty()){for(var f=0;f<i.chars.length;f++)i.chars[f].uchar.match(/\s/)&&s?a++:(u+=i.chars[f].uchar,s=!1);(i.cueStartTime=e)===n&&(n+=1e-4),o=new c(e,n,Re(u.trim())),16<=a?a--:a++,navigator.userAgent.match(/Firefox\//)?o.line=l+1:o.line=7<l?l-2:l+1,o.align="left",o.position=Math.max(0,Math.min(100,a/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(o)}}function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oe(t){var e=t;return Me.hasOwnProperty(t)&&(e=Me[t]),String.fromCharCode(e)}function ke(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e}var Me={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ne={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Be={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Fe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Ge={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Ue=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],He={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var n=this.verboseFilter[t];this.verboseLevel>=n&&console.log(this.time+" ["+t+"] "+e)}},je=(Ve.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},Ve.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}},Ve.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},Ve.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},Ve.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},Ve.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},Ve);function Ve(t,e,n,r,i){De(this,Ve),this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}var We=(qe.prototype.reset=function(){this.uchar=" ",this.penState.reset()},qe.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},qe.prototype.setPenState=function(t){this.penState.copy(t)},qe.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},qe.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},qe.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},qe);function qe(t,e,n,r,i,o){De(this,qe),this.uchar=t||" ",this.penState=new je(e,n,r,i,o)}var Ke=(Xe.prototype.equals=function(t){for(var e=!0,n=0;n<100;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},Xe.prototype.copy=function(t){for(var e=0;e<100;e++)this.chars[e].copy(t.chars[e])},Xe.prototype.isEmpty=function(){for(var t=!0,e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},Xe.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(He.log("ERROR","Negative cursor position "+this.pos),this.pos=0):100<this.pos&&(He.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},Xe.prototype.moveCursor=function(t){var e=this.pos+t;if(1<t)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},Xe.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},Xe.prototype.insertChar=function(t){144<=t&&this.backSpace();var e=Oe(t);100<=this.pos?He.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},Xe.prototype.clearFromPos=function(t){var e;for(e=t;e<100;e++)this.chars[e].reset()},Xe.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},Xe.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},Xe.prototype.getTextString=function(){for(var t=[],e=!0,n=0;n<100;n++){var r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")},Xe.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},Xe);function Xe(){De(this,Xe),this.chars=[];for(var t=0;t<100;t++)this.chars.push(new We);this.pos=0,this.currPenState=new je}var Qe=(ze.prototype.reset=function(){for(var t=0;t<15;t++)this.rows[t].clear();this.currRow=14},ze.prototype.equals=function(t){for(var e=!0,n=0;n<15;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},ze.prototype.copy=function(t){for(var e=0;e<15;e++)this.rows[e].copy(t.rows[e])},ze.prototype.isEmpty=function(){for(var t=!0,e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},ze.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},ze.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},ze.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},ze.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},ze.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},ze.prototype.setCursor=function(t){He.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},ze.prototype.setPAC=function(t){He.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<15;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var o=i.rows[r].cueStartTime;if(o&&o<He.time)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(i.rows[r+s])}}this.currRow=e;var a=this.rows[this.currRow];if(null!==t.indent){var u=t.indent,c=Math.max(u-1,0);a.setCursor(t.indent),t.color=a.chars[c].penState.foreground}var l={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(l)},ze.prototype.setBkgData=function(t){He.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},ze.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},ze.prototype.rollUp=function(){if(null!==this.nrRollUpRows){He.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),He.log("INFO","Rolling up")}else He.log("DEBUG","roll_up but nrRollUpRows not set yet")},ze.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],n="",r=-1,i=0;i<15;i++){var o=this.rows[i].getTextString();o&&(r=i+1,t?e.push("Row "+r+": '"+o+"'"):e.push(o.trim()))}return 0<e.length&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},ze.prototype.getTextAndFormat=function(){return this.rows},ze);function ze(){De(this,ze),this.rows=[];for(var t=0;t<15;t++)this.rows.push(new Ke);this.currRow=14,this.nrRollUpRows=null,this.reset()}var Ye=(Je.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},Je.prototype.getHandler=function(){return this.outputFilter},Je.prototype.setHandler=function(t){this.outputFilter=t},Je.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},Je.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},Je.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,He.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},Je.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";He.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(He.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},Je.prototype.ccRCL=function(){He.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},Je.prototype.ccBS=function(){He.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},Je.prototype.ccAOF=function(){},Je.prototype.ccAON=function(){},Je.prototype.ccDER=function(){He.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},Je.prototype.ccRU=function(t){He.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},Je.prototype.ccFON=function(){He.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},Je.prototype.ccRDC=function(){He.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},Je.prototype.ccTR=function(){He.log("INFO","TR"),this.setMode("MODE_TEXT")},Je.prototype.ccRTD=function(){He.log("INFO","RTD"),this.setMode("MODE_TEXT")},Je.prototype.ccEDM=function(){He.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},Je.prototype.ccCR=function(){He.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},Je.prototype.ccENM=function(){He.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},Je.prototype.ccEOC=function(){if(He.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,He.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},Je.prototype.ccTO=function(t){He.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},Je.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=46<=t,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}He.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},Je.prototype.outputDataUpdate=function(t){var e=0<arguments.length&&void 0!==t&&t,n=He.time;null!==n&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:n):this.cueStartTime=n,this.lastOutputScreen.copy(this.displayedMemory))},Je.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},Je);function Je(t,e){De(this,Je),this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Qe,this.nonDisplayedMemory=new Qe,this.lastOutputScreen=new Qe,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}function $e(t,e,n){De(this,$e),this.field=t||1,this.outputs=[e,n],this.channels=[new Ye(1,e),new Ye(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}var Ze=($e.prototype.getHandler=function(t){return this.channels[t].getHandler()},$e.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},$e.prototype.addData=function(t,e){var n,r,i,o=!1;this.lastTime=t,He.setTime(t);for(var s=0;s<e.length;s+=2)r=127&e[s],i=127&e[s+1],0!=r||0!=i?(He.log("DATA","["+ke([e[s],e[s+1]])+"] -> ("+ke([r,i])+")"),(n=(n=(n=(n=this.parseCmd(r,i))||this.parseMidrow(r,i))||this.parsePAC(r,i))||this.parseBackgroundAttributes(r,i))||(o=this.parseChars(r,i))&&(this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(o):He.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,He.log("WARNING","Couldn't parse cleaned data "+ke([r,i])+" orig: "+ke([e[s],e[s+1]])))):this.dataCounters.padding+=2},$e.prototype.parseCmd=function(t,e){var n=null;if(!((20===t||28===t)&&32<=e&&e<=47||(23===t||31===t)&&33<=e&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,He.log("DEBUG","Repeated command ("+ke([t,e])+") is dropped"),!0;n=20===t||23===t?1:2;var r=this.channels[n-1];return 20===t||28===t?32===e?r.ccRCL():33===e?r.ccBS():34===e?r.ccAOF():35===e?r.ccAON():36===e?r.ccDER():37===e?r.ccRU(2):38===e?r.ccRU(3):39===e?r.ccRU(4):40===e?r.ccFON():41===e?r.ccRDC():42===e?r.ccTR():43===e?r.ccRTD():44===e?r.ccEDM():45===e?r.ccCR():46===e?r.ccENM():47===e&&r.ccEOC():r.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},$e.prototype.parseMidrow=function(t,e){var n=null;return(17===t||25===t)&&32<=e&&e<=47&&((n=17===t?1:2)!==this.currChNr?(He.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(e),He.log("DEBUG","MIDROW ("+ke([t,e])+")"),!0))},$e.prototype.parsePAC=function(t,e){var n,r=null;if(!((17<=t&&t<=23||25<=t&&t<=31)&&64<=e&&e<=127||(16===t||24===t)&&64<=e&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,!(this.lastCmdB=null);n=t<=23?1:2,r=64<=e&&e<=95?1==n?Ne[t]:Fe[t]:1==n?Be[t]:Ge[t];var i=this.interpretPAC(r,e);return this.channels[n-1].setPAC(i),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},$e.prototype.interpretPAC=function(t,e){var n=e,r={color:null,italics:!1,indent:null,underline:!1,row:t};return n=95<e?e-96:e-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},$e.prototype.parseChars=function(t,e){var n=null,r=null,i=null;if(17<=(i=25<=t?(n=2,t-8):(n=1,t))&&i<=19){var o=e;o=17===i?e+80:18===i?e+112:e+144,He.log("INFO","Special char '"+Oe(o)+"' in channel "+n),r=[o]}else 32<=t&&t<=127&&(r=0===e?[t]:[t,e]);if(r){var s=ke(r);He.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},$e.prototype.parseBackgroundAttributes=function(t,e){var n,r,i;return((16===t||24===t)&&32<=e&&e<=47||(23===t||31===t)&&45<=e&&e<=47)&&(n={},16===t||24===t?(r=Math.floor((e-32)/2),n.background=Ue[r],e%2==1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0)),i=t<24?1:2,this.channels[i-1].setBkgData(n),this.lastCmdA=null,!(this.lastCmdB=null))},$e.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},$e.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},$e);function tn(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,tn),this.timelineController=t,this.track=e,this.startTime=null,this.endTime=null,this.screen=null}function en(t,e,n){return t.substr(n||0,e.length)===e}function nn(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()}var rn,on=(tn.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},tn.prototype.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.track)},tn),sn={parse:function(t,n,r,i,e,o){var s=Object(wt.b)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),a="00:00.000",u=0,c=0,l=0,f=[],d=void 0,h=!0,p=new Ce;p.oncue=function(t){var e=r[i],n=r.ccOffset;e&&e.new&&(void 0!==c?n=r.ccOffset=e.start:function(t,e,n){var r=t[e],i=t[r.prevCC];if(!i||!i.new&&r.new)return t.ccOffset=t.presentationOffset=r.start,r.new=!1;for(;i&&i.new;)t.ccOffset+=r.start-i.start,r.new=!1,i=t[(r=i).prevCC];t.presentationOffset=n}(r,i,l)),l&&(n=l+r.ccOffset-r.presentationOffset),t.startTime+=n-c,t.endTime+=n-c,t.id=nn(t.startTime.toString())+nn(t.endTime.toString())+nn(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),0<t.endTime&&f.push(t)},p.onparsingerror=function(t){d=t},p.onflush=function(){d&&o?o(d):e(f)},s.forEach(function(e){if(h){if(en(e,"X-TIMESTAMP-MAP=")){h=!1,e.substr(16).split(",").forEach(function(t){en(t,"LOCAL:")?a=t.substr(6):en(t,"MPEGTS:")&&(u=parseInt(t.substr(7)))});try{u-=n=n<0?n+8589934592:n,c=function(t){var e=parseInt(t.substr(-3)),n=parseInt(t.substr(-6,2)),r=parseInt(t.substr(-9,2)),i=9<t.length?parseInt(t.substr(0,t.indexOf(":"))):0;return isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)?-1:(e+=1e3*n,e+=6e4*r,e+=36e5*i)}(a)/1e3,l=u/9e4,-1===c&&(d=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){d=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(h=!1)}p.parse(e+"\n")}),p.flush()}};function an(t){if(t&&t.cues)for(;0<t.cues.length;)t.removeCue(t.cues[0])}function un(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,un);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,rn.call(this,t,O.a.MEDIA_ATTACHING,O.a.MEDIA_DETACHING,O.a.FRAG_PARSING_USERDATA,O.a.FRAG_DECRYPTED,O.a.MANIFEST_LOADING,O.a.MANIFEST_LOADED,O.a.FRAG_LOADED,O.a.LEVEL_SWITCHING,O.a.INIT_PTS_FOUND));if(e.hls=t,e.config=t.config,e.enabled=!0,e.Cues=t.config.cueHandler,e.textTracks=[],e.tracks=[],e.unparsedVttFrags=[],e.initPTS=void 0,e.cueRanges=[],e.config.enableCEA708Captions){var n=new on(e,1),r=new on(e,2);e.cea608Parser=new Ze(0,n,r)}return e}var cn,ln=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(un,rn=u),un.prototype.addCues=function(t,e,n,r){for(var i,o,s,a,u=this.cueRanges,c=!1,l=u.length;l--;){var f=u[l],d=(i=f[0],o=f[1],s=e,a=n,Math.min(o,a)-Math.max(i,s));if(0<=d&&(f[0]=Math.min(f[0],e),f[1]=Math.max(f[1],n),c=!0,.5<d/(n-e)))return}c||u.push([e,n]),this.Cues.newCue(this[t],e,n,r)},un.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(t){e.onFragLoaded(t)}),this.unparsedVttFrags=[])},un.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var r=e.textTracks[n];if(!0===r["textTrack"+t])return r}return null},un.prototype.sendAddTrackEvent=function(t,e){var n=null;try{n=new window.Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)},un.prototype.createCaptionsTrack=function(t){var e="textTrack"+t;if(!this[e]){var n=this.getExistingTrack(t);if(n)this[e]=n,an(this[e]),this.sendAddTrackEvent(this[e],this.media);else{var r=this.createTextTrack("captions",this.config["captionsTextTrack"+t+"Label"],this.config.captionsTextTrack1LanguageCode);r&&(r[e]=!0,this[e]=r)}}},un.prototype.createTextTrack=function(t,e,n){var r=this.media;if(r)return r.addTextTrack(t,e,n)},un.prototype.destroy=function(){u.prototype.destroy.call(this)},un.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},un.prototype.onMediaDetaching=function(){an(this.textTrack1),an(this.textTrack2)},un.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},un.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)an(e[n])}},un.prototype.onManifestLoaded=function(t){var i=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var o=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,e){var n=void 0;if(e<o.length){var r=o[e];!function(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}(r,t)||(n=r)}(n=n||i.createTextTrack("subtitles",t.name,t.lang)).mode=t.default?"showing":"hidden",i.textTracks.push(n)})}},un.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},un.prototype.onFragLoaded=function(t){var e=t.frag,n=t.payload;if("main"===e.type){var r=e.sn;if(r!==this.lastSn+1){var i=this.cea608Parser;i&&i.reset()}this.lastSn=r}else if("subtitle"===e.type)if(n.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);var o=e.decryptdata;null!=o&&null!=o.key&&"AES-128"===o.method||this._parseVTTs(e,n)}else this.hls.trigger(O.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},un.prototype._parseVTTs=function(e,t){var n=this.vttCCs;n[e.cc]||(n[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var i=this.textTracks,o=this.hls;sn.parse(t,this.initPTS,n,e.cc,function(t){var r=i[e.trackId];t.forEach(function(e){if(!r.cues.getCueById(e.id))try{r.addCue(e)}catch(t){var n=new window.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,r.addCue(n)}}),o.trigger(O.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},function(t){M.b.log("Failed to parse VTT cue: "+t),o.trigger(O.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},un.prototype.onFragDecrypted=function(t){var e=t.payload,n=t.frag;if("subtitle"===n.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);this._parseVTTs(n,e)}},un.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var n=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,n)}},un.prototype.extractCea608Data=function(t){for(var e,n,r,i=31&t[0],o=2,s=[],a=0;a<i;a++)e=t[o++],n=127&t[o++],r=127&t[o++],0==n&&0==r||0!=(4&e)&&0==(3&e)&&(s.push(n),s.push(r));return s},un),fn=function(t,e,n){return e&&dn(t.prototype,e),n&&dn(t,n),t};function dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hn(t){for(var e=[],n=0;n<t.length;n++)"subtitles"===t[n].kind&&e.push(t[n]);return e}function pn(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,pn);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,cn.call(this,t,O.a.MEDIA_ATTACHED,O.a.MEDIA_DETACHING,O.a.MANIFEST_LOADING,O.a.MANIFEST_LOADED,O.a.SUBTITLE_TRACK_LOADED));return e.tracks=[],e.trackId=-1,e.media=void 0,e.subtitleDisplay=!1,e}var gn=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(pn,cn=u),pn.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=hn(this.media.textTracks),n=0;n<e.length;n++)"showing"===e[n].mode&&(t=n);this.subtitleTrack=t}},pn.prototype.destroy=function(){u.prototype.destroy.call(this)},pn.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},pn.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},pn.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},pn.prototype.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.trackId=-1,this.hls.trigger(O.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},pn.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var n=e.details;void 0!==n&&!0!==n.live||(M.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(O.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},pn.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(M.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},pn.prototype.setSubtitleTrackInternal=function(t){if(!(t<-1||t>=this.tracks.length)){this.timer&&(clearInterval(this.timer),this.timer=null);var e=hn(this.media.textTracks);if(-1!==this.trackId&&this.subtitleDisplay&&(e[this.trackId].mode="hidden"),this.trackId=t,M.b.log("switching to subtitle track "+t),this.hls.trigger(O.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t){var n=this.tracks[t];this.subtitleDisplay&&(e[t].mode="showing");var r=n.details;void 0!==r&&!0!==r.live||(M.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(O.a.SUBTITLE_TRACK_LOADING,{url:n.url,id:t}))}}},fn(pn,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}]),pn),vn=n(4);var mn,yn="STOPPED",bn="IDLE",Tn="KEY_LOADING",Sn="FRAG_LOADING";function En(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,En);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,mn.call(this,t,O.a.MEDIA_ATTACHED,O.a.ERROR,O.a.KEY_LOADED,O.a.FRAG_LOADED,O.a.SUBTITLE_TRACKS_UPDATED,O.a.SUBTITLE_TRACK_SWITCH,O.a.SUBTITLE_TRACK_LOADED,O.a.SUBTITLE_FRAG_PROCESSED));return e.config=t.config,e.vttFragSNsProcessed={},e.vttFragQueues=void 0,e.currentlyProcessing=null,e.state=yn,e.currentTrackId=-1,e.ticks=0,e.decrypter=new vn.a(t.observer,t.config),e}var _n=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(En,mn=u),En.prototype.destroy=function(){u.prototype.destroy.call(this),this.state=yn},En.prototype.clearVttFragQueues=function(){var e=this;this.vttFragQueues={},this.tracks.forEach(function(t){e.vttFragQueues[t.id]=[]})},En.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&-1<this.currentTrackId&&this.vttFragQueues[this.currentTrackId].length){var t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=t,this.hls.trigger(O.a.FRAG_LOADING,{frag:t}),this.state=Sn}},En.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=bn,this.nextFrag()},En.prototype.onMediaAttached=function(){this.state=bn},En.prototype.onError=function(t){var e=t.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},En.prototype.tick=function(){var t=this;this.ticks++,1===this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(function(){t.tick()},1),this.ticks=0)},En.prototype.doTick=function(){var e=this;switch(this.state){case bn:var t,n=this.tracks,r=this.currentTrackId,i=this.vttFragSNsProcessed[r],o=this.vttFragQueues[r],s=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!n)break;if(r<n.length&&(t=n[r].details),void 0===t)break;t.fragments.forEach(function(t){(function(t){return-1<i.indexOf(t.sn)})(t)||t.sn===s||function(e){return o.some(function(t){return t.sn===e.sn})}(t)||(t.decryptdata&&null!=t.decryptdata.uri&&null==t.decryptdata.key?(M.b.log("Loading key for "+t.sn),e.state=Tn,e.hls.trigger(O.a.KEY_LOADING,{frag:t})):(t.trackId=r,o.push(t),e.nextFrag()))})}},En.prototype.onSubtitleTracksUpdated=function(t){var e=this;M.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(t){e.vttFragSNsProcessed[t.id]=[]})},En.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,this.clearVttFragQueues()},En.prototype.onSubtitleTrackLoaded=function(){this.tick()},En.prototype.onKeyLoaded=function(){this.state===Tn&&(this.state=bn,this.tick())},En.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag.decryptdata,r=t.frag,i=this.hls;if(this.state===Sn&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&0<t.payload.byteLength&&null!=n&&null!=n.key&&"AES-128"===n.method){var o;try{o=performance.now()}catch(t){o=Date.now()}this.decrypter.decrypt(t.payload,n.key.buffer,n.iv.buffer,function(t){var e;try{e=performance.now()}catch(t){e=Date.now()}i.trigger(O.a.FRAG_DECRYPTED,{frag:r,payload:t,stats:{tstart:o,tdecrypt:e}})})}},En),An={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Jt,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:Nt,bufferController:Ht,capLevelController:Kt,fpsController:Qt,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};An.subtitleStreamController=_n,An.subtitleTrackController=gn,An.timelineController=ln,An.cueHandler=r,An.enableCEA708Captions=!0,An.enableWebVTT=!0,An.captionsTextTrack1Label="English",An.captionsTextTrack1LanguageCode="en",An.captionsTextTrack2Label="Spanish",An.captionsTextTrack2LanguageCode="es",An.audioStreamController=Se,An.audioTrackController=ee;var wn=function(t,e,n){return e&&Pn(t.prototype,e),n&&Pn(t,n),t};function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var xn=(Ln.isSupported=function(){return function(){var t=K(),e=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!n&&!!r}()},wn(Ln,null,[{key:"version",get:function(){return"0.8.9"}},{key:"Events",get:function(){return O.a}},{key:"ErrorTypes",get:function(){return k.b}},{key:"ErrorDetails",get:function(){return k.a}},{key:"DefaultConfig",get:function(){return Ln.defaultConfig?Ln.defaultConfig:An},set:function(t){Ln.defaultConfig=t}}]),Ln.prototype.destroy=function(){M.b.log("destroy"),this.trigger(O.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},Ln.prototype.attachMedia=function(t){M.b.log("attachMedia"),this.media=t,this.trigger(O.a.MEDIA_ATTACHING,{media:t})},Ln.prototype.detachMedia=function(){M.b.log("detachMedia"),this.trigger(O.a.MEDIA_DETACHING),this.media=null},Ln.prototype.loadSource=function(t){t=o.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),M.b.log("loadSource:"+t),this.url=t,this.trigger(O.a.MANIFEST_LOADING,{url:t})},Ln.prototype.startLoad=function(t){var e=0<arguments.length&&void 0!==t?t:-1;M.b.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},Ln.prototype.stopLoad=function(){M.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},Ln.prototype.swapAudioCodec=function(){M.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},Ln.prototype.recoverMediaError=function(){M.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},wn(Ln,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){M.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){M.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){M.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){M.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){M.b.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){M.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,r=0;r<n;r++)if(e<(t[r].realBitrate?Math.max(t[r].realBitrate,t[r].bitrate):t[r].bitrate))return r;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),Ln);function Ln(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Ln);var n=Ln.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n)r in t||(t[r]=n[r]);if(void 0!==t.liveMaxLatencyDurationCount&&t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(t.liveMaxLatencyDuration<=t.liveSyncDuration||void 0===t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(M.a)(t.debug),this.config=t,this._autoLevelCapping=-1;var i=this.observer=new V.a;i.trigger=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t,t].concat(n))},i.off=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.removeListener.apply(i,[t].concat(n))},this.on=i.on.bind(i),this.off=i.off.bind(i),this.trigger=i.trigger.bind(i);var o=this.abrController=new t.abrController(this),s=new t.bufferController(this),a=new t.capLevelController(this),u=new t.fpsController(this),c=new C(this),l=new N(this),f=new F(this),d=new xt(this),h=[this.levelController=new At(this),this.streamController=new bt(this)],p=t.audioStreamController;p&&h.push(new p(this)),this.networkControllers=h;var g=[c,l,f,o,s,a,u,d];if(p=t.audioTrackController){var v=new p(this);this.audioTrackController=v,g.push(v)}if(p=t.subtitleTrackController){var m=new p(this);this.subtitleTrackController=m,g.push(m)}[t.subtitleStreamController,t.timelineController].forEach(function(t){t&&g.push(new t(e))}),this.coreComponents=g}e.default=xn},function(t,e,u){function c(t){var e=[],n=t.toString(),r=n.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!r)return e;for(var i,o=r[1],s=new RegExp("(\\\\n|\\W)"+function(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}(o)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");i=s.exec(n);)e.push(i[3]);return e}t.exports=function(t,e){e=e||{};var n=u.m,r=e.all?Object.keys(n):function(t,e){for(var n=[e],r=[],i={};n.length;){var o=n.pop();if(!i[o]&&t[o]){i[o]=!0,r.push(o);var s=c(t[o]);n=n.concat(s)}}return r}(n,t),i="("+function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var t=i(i.s=ENTRY_MODULE);return t.default||t}.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+r.map(function(t){return JSON.stringify(t)+": "+n[t].toString()}).join(",")+"})(self);",o=new window.Blob([i],{type:"text/javascript"});if(e.bare)return o;var s=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(o),a=new window.Worker(s);return a.objectURL=s,a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(7),a=n(1),u=n(0),r=n(5),c=n.n(r);e.default=function(i){var o=new c.a;o.trigger=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.emit.apply(o,[t,t].concat(n))},o.off=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.removeListener.apply(o,[t].concat(n))};function r(t,e){i.postMessage({event:t,data:e})}i.addEventListener("message",function(t){var e=t.data;switch(e.cmd){case"init":var n=JSON.parse(e.config);i.demuxer=new s.a(o,e.typeSupported,n,e.vendor);try{Object(u.a)(!0===n.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}r("init",null);break;case"demux":i.demuxer.push(e.data,e.decryptdata,e.initSegment,e.audioCodec,e.videoCodec,e.timeOffset,e.discontinuity,e.trackSwitch,e.contiguous,e.duration,e.accurateTimeOffset,e.defaultInitPTS)}}),o.on(a.a.FRAG_DECRYPTED,r),o.on(a.a.FRAG_PARSING_INIT_SEGMENT,r),o.on(a.a.FRAG_PARSED,r),o.on(a.a.ERROR,r),o.on(a.a.FRAG_PARSING_METADATA,r),o.on(a.a.FRAG_PARSING_USERDATA,r),o.on(a.a.INIT_PTS_FOUND,r),o.on(a.a.FRAG_PARSING_DATA,function(t,e){var n=[],r={event:t,data:e};e.data1&&(r.data1=e.data1.buffer,n.push(e.data1.buffer),delete e.data1),e.data2&&(r.data2=e.data2.buffer,n.push(e.data2.buffer),delete e.data2),i.postMessage(r,n)})}}],r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist/",r(r.s=8)).default;function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,i},"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.Hls=i():r.Hls=i()},{}],250:[function(t,e,n){!function(r){"use strict";function t(){}var u=r.setTimeout,c=r.clearTimeout;function i(t,e,n,r,i){this._internal=new o(t,e,n,r,i)}function o(t,e,n,r,i){this.onStartCallback=e,this.onProgressCallback=n,this.onFinishCallback=r,this.thisArg=i,this.xhr=t,this.state=0,this.charOffset=0,this.offset=0,this.url="",this.withCredentials=!1,this.timeout=0}function e(){this._data={}}function n(){this._listeners=new e}function s(t){u(function(){throw t},0)}function a(t){this.type=t,this.target=void 0}function l(t,e){a.call(this,t),this.data=e.data,this.lastEventId=e.lastEventId}i.prototype.open=function(t,e){this._internal.open(t,e)},i.prototype.cancel=function(){this._internal.cancel()},o.prototype.onStart=function(){if(1===this.state){this.state=2;var e=0,n="",r=void 0;if("contentType"in this.xhr)e=200,n="OK",r=this.xhr.contentType;else try{e=this.xhr.status,n=this.xhr.statusText,r=this.xhr.getResponseHeader("Content-Type")}catch(t){n="",r=void(e=0)}null==r&&(r=""),this.onStartCallback.call(this.thisArg,e,n,r)}},o.prototype.onProgress=function(){if(this.onStart(),2===this.state||3===this.state){this.state=3;var t="";try{t=this.xhr.responseText}catch(t){}for(var e=this.charOffset,n=t.length,r=this.offset;r<n;r+=1){var i=t.charCodeAt(r);i!=="\n".charCodeAt(0)&&i!=="\r".charCodeAt(0)||(this.charOffset=r+1)}this.offset=n;var o=t.slice(e,this.charOffset);this.onProgressCallback.call(this.thisArg,o)}},o.prototype.onFinish=function(){this.onProgress(),3===this.state&&(this.state=4,0!==this.timeout&&(c(this.timeout),this.timeout=0),this.onFinishCallback.call(this.thisArg))},o.prototype.onReadyStateChange=function(){null!=this.xhr&&(4===this.xhr.readyState?(this.xhr.status,this.onFinish()):3===this.xhr.readyState?this.onProgress():this.xhr.readyState)},o.prototype.onTimeout2=function(){this.timeout=0;var t=/^data\:([^,]*?)(base64)?,([\S]*)$/.exec(this.url),e=t[1],n="base64"===t[2]?r.atob(t[3]):decodeURIComponent(t[3]);1===this.state&&(this.state=2,this.onStartCallback.call(this.thisArg,200,"OK",e)),2!==this.state&&3!==this.state||(this.state=3,this.onProgressCallback.call(this.thisArg,n)),3===this.state&&(this.state=4,this.onFinishCallback.call(this.thisArg))},o.prototype.onTimeout1=function(){this.timeout=0,this.open(this.url,this.withCredentials)},o.prototype.onTimeout0=function(){var t=this;this.timeout=u(function(){t.onTimeout0()},500),3===this.xhr.readyState&&this.onProgress()},o.prototype.handleEvent=function(t){"load"===t.type?this.onFinish():"error"===t.type?this.onFinish():"abort"===t.type?this.onFinish():"progress"===t.type?this.onProgress():"readystatechange"===t.type&&this.onReadyStateChange()},o.prototype.open=function(t,e){this.cancel(),this.url=t,this.withCredentials=e,this.state=1,this.charOffset=0,this.offset=0;var n=this;if(null==/^data\:([^,]*?)(?:;base64)?,[\S]*$/.exec(t))if((!("ontimeout"in this.xhr)||"sendAsBinary"in this.xhr||"mozAnon"in this.xhr)&&null!=r.document&&null!=r.document.readyState&&"complete"!==r.document.readyState)this.timeout=u(function(){n.onTimeout1()},4);else{this.xhr.onload=function(t){n.handleEvent({type:"load"})},this.xhr.onerror=function(){n.handleEvent({type:"error"})},this.xhr.onabort=function(){n.handleEvent({type:"abort"})},this.xhr.onprogress=function(){n.handleEvent({type:"progress"})},this.xhr.onreadystatechange=function(){n.handleEvent({type:"readystatechange"})},this.xhr.open("GET",t,!0),this.xhr.withCredentials=e,this.xhr.responseType="text","setRequestHeader"in this.xhr&&this.xhr.setRequestHeader("Accept","text/event-stream");try{this.xhr.send(void 0)}catch(t){throw t}"readyState"in this.xhr&&null!=r.opera&&(this.timeout=u(function(){n.onTimeout0()},0))}else this.timeout=u(function(){n.onTimeout2()},0)},o.prototype.cancel=function(){0!==this.state&&4!==this.state&&(this.state=4,this.xhr.onload=t,this.xhr.onerror=t,this.xhr.onabort=t,this.xhr.onprogress=t,this.xhr.onreadystatechange=t,this.xhr.abort(),0!==this.timeout&&(c(this.timeout),this.timeout=0),this.onFinishCallback.call(this.thisArg)),this.state=0},e.prototype.get=function(t){return this._data[t+"~"]},e.prototype.set=function(t,e){this._data[t+"~"]=e},e.prototype.delete=function(t){delete this._data[t+"~"]},n.prototype.dispatchEvent=function(t){t.target=this;var e=t.type.toString(),n=this._listeners.get(e);if(null!=n)for(var r=n.length,i=void 0,o=0;o<r;o+=1){i=n[o];try{"function"==typeof i.handleEvent?i.handleEvent(t):i.call(this,t)}catch(t){s(t)}}},n.prototype.addEventListener=function(t,e){t=t.toString();var n=this._listeners,r=n.get(t);null==r&&(r=[],n.set(t,r));for(var i=r.length;0<=i;i-=1)if(r[i]===e)return;r.push(e)},n.prototype.removeEventListener=function(t,e){t=t.toString();var n=this._listeners,r=n.get(t);if(null!=r){for(var i=r.length,o=[],s=0;s<i;s+=1)r[s]!==e&&o.push(r[s]);0===o.length?n.delete(t):n.set(t,o)}},l.prototype=a.prototype;function f(t,e,n){try{"function"==typeof e&&e.call(t,n)}catch(t){s(t)}}var d=r.XMLHttpRequest,h=r.XDomainRequest,p=null!=d&&null!=(new d).withCredentials,g=p||null!=d&&null==h?d:h,v=-1,m=0,y=4,b=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,T=function(t,e){var n=t;return n!=n&&(n=e),n<1e3?1e3:18e6<n?18e6:n};function S(t,e){n.call(this),this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url="",this.readyState=m,this.withCredentials=!1,this._internal=new E(this,t,e)}function E(t,e,n){this.url=e.toString(),this.readyState=m,this.withCredentials=p&&null!=n&&Boolean(n.withCredentials),this.es=t,this.initialRetry=T(1e3,0),this.heartbeatTimeout=T(45e3,0),this.lastEventId="",this.retry=this.initialRetry,this.wasActivity=!1;var r=new(null!=n&&null!=n.Transport?n.Transport:g);this.transport=new i(r,this.onStart,this.onProgress,this.onFinish,this),this.timeout=0,this.currentState=v,this.dataBuffer=[],this.lastEventIdBuffer="",this.eventTypeBuffer="",this.state=y,this.fieldStart=0,this.valueStart=0,this.es.url=this.url,this.es.readyState=this.readyState,this.es.withCredentials=this.withCredentials,this.onTimeout()}function _(){this.CONNECTING=m,this.OPEN=1,this.CLOSED=2}E.prototype.onStart=function(t,e,n){if(this.currentState===m)if(null==n&&(n=""),200===t&&b.test(n)){this.currentState=1,this.wasActivity=!0,this.retry=this.initialRetry,this.readyState=1,this.es.readyState=1;var r=new a("open");this.es.dispatchEvent(r),f(this.es,this.es.onopen,r)}else if(0!==t){var i="";i=200!==t?"EventSource's response has a status "+t+" "+e.replace(/\s+/g," ")+" that is not 200. Aborting the connection.":"EventSource's response has a Content-Type specifying an unsupported type: "+n.replace(/\s+/g," ")+". Aborting the connection.",s(new Error(i)),this.close();r=new a("error");this.es.dispatchEvent(r),f(this.es,this.es.onerror,r)}},E.prototype.onProgress=function(t){if(1===this.currentState){var e=t.length;0!==e&&(this.wasActivity=!0);for(var n=0;n<e;n+=1){var r=t.charCodeAt(n);if(3===this.state&&r==="\n".charCodeAt(0))this.state=y;else if(3===this.state&&(this.state=y),r==="\r".charCodeAt(0)||r==="\n".charCodeAt(0)){if(this.state!==y){5===this.state&&(this.valueStart=n+1);var i=t.slice(this.fieldStart,this.valueStart-1),o=t.slice(this.valueStart+(this.valueStart<n&&t.charCodeAt(this.valueStart)===" ".charCodeAt(0)?1:0),n);if("data"===i)this.dataBuffer.push(o);else if("id"===i)this.lastEventIdBuffer=o;else if("event"===i)this.eventTypeBuffer=o;else if("retry"===i)this.initialRetry=T(Number(o),this.initialRetry),this.retry=this.initialRetry;else if("heartbeatTimeout"===i&&(this.heartbeatTimeout=T(Number(o),this.heartbeatTimeout),0!==this.timeout)){c(this.timeout);var s=this;this.timeout=u(function(){s.onTimeout()},this.heartbeatTimeout)}}if(this.state===y){if(0!==this.dataBuffer.length){this.lastEventId=this.lastEventIdBuffer,""===this.eventTypeBuffer&&(this.eventTypeBuffer="message");var a=new l(this.eventTypeBuffer,{data:this.dataBuffer.join("\n"),lastEventId:this.lastEventIdBuffer});if(this.es.dispatchEvent(a),"message"===this.eventTypeBuffer&&f(this.es,this.es.onmessage,a),2===this.currentState)return}this.dataBuffer.length=0,this.eventTypeBuffer=""}this.state=r==="\r".charCodeAt(0)?3:y}else this.state===y&&(this.fieldStart=n,this.state=5),5===this.state?r===":".charCodeAt(0)&&(this.valueStart=n+1,this.state=6):6===this.state&&(this.state=7)}}},E.prototype.onFinish=function(){if(1===this.currentState||this.currentState===m){this.currentState=v,0!==this.timeout&&(c(this.timeout),this.timeout=0),this.retry>16*this.initialRetry&&(this.retry=16*this.initialRetry),18e6<this.retry&&(this.retry=18e6);var t=this;this.timeout=u(function(){t.onTimeout()},this.retry),this.retry=2*this.retry+1,this.readyState=m,this.es.readyState=m;var e=new a("error");this.es.dispatchEvent(e),f(this.es,this.es.onerror,e)}},E.prototype.onTimeout=function(){if(this.timeout=0,this.currentState===v){this.wasActivity=!1;e=this;this.timeout=u(function(){e.onTimeout()},this.heartbeatTimeout),this.currentState=m,this.dataBuffer.length=0,this.eventTypeBuffer="",this.lastEventIdBuffer=this.lastEventId,this.fieldStart=0,this.valueStart=0,this.state=y;var t=this.url.slice(0,5);t="data:"!==t&&"blob:"!==t?this.url+(-1===this.url.indexOf("?",0)?"?":"&")+"lastEventId="+encodeURIComponent(this.lastEventId)+"&r="+(Math.random()+1).toString().slice(2):this.url;try{this.transport.open(t,this.withCredentials)}catch(t){throw this.close(),t}}else if(this.wasActivity){this.wasActivity=!1;var e=this;this.timeout=u(function(){e.onTimeout()},this.heartbeatTimeout)}else s(new Error("No activity within "+this.heartbeatTimeout+" milliseconds. Reconnecting.")),this.transport.cancel()},E.prototype.close=function(){this.currentState=2,this.transport.cancel(),0!==this.timeout&&(c(this.timeout),this.timeout=0),this.readyState=2,this.es.readyState=2},_.prototype=n.prototype,(S.prototype=new _).close=function(){this._internal.close()},_.call(S),p&&(S.prototype.withCredentials=void 0);null==g||null!=r.EventSource&&(!p||null!=r.EventSource&&"withCredentials"in r.EventSource.prototype)||(r.NativeEventSource=r.EventSource,r.EventSource=S)}("undefined"!=typeof window?window:this)},{}],37:[function(t,e,n){var r,i;r=window,i=function(){return r={},i.m=n=[function(t,e,n){var r=n(2),i=n(116),o=n(13),s=n(118),a=n(119),u=n(207),c=i("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||s;t.exports=function(t){return o(c,t)||(a&&o(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},function(n,t,e){(function(t){function e(t){return t&&t.Math==Math&&t}n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||Function("return this")()}).call(this,e(86))},function(n,t,e){(function(t){function e(t){return t&&t.Math==Math&&t}n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||Function("return this")()}).call(this,e(86))},function(t,e,n){var r=n(1),i=n(87),o=n(16),s=n(94),a=n(95),u=n(157),c=i("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||s;t.exports=function(t){return o(c,t)||(a&&o(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(147)("wks"),i=n(148),o=n(6).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";function m(r){function t(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)}return t.prototype=r.prototype,t}var y=n(2),b=n(112).f,T=n(114),S=n(14),E=n(42),_=n(15),A=n(13);t.exports=function(t,e){var n,r,i,o,s,a,u,c,l=t.target,f=t.global,d=t.stat,h=t.proto,p=f?y:d?y[l]:(y[l]||{}).prototype,g=f?S:S[l]||(S[l]={}),v=g.prototype;for(i in e)n=!T(f?i:l+(d?".":"#")+i,t.forced)&&p&&A(p,i),s=g[i],n&&(a=t.noTargetGet?(c=b(p,i))&&c.value:p[i]),o=n&&a?a:e[i],n&&typeof s==typeof o||(u=t.bind&&n?E(o,y):t.wrap&&n?m(o):h&&"function"==typeof o?E(Function.call,o):o,(t.sham||o&&o.sham||s&&s.sham)&&_(u,"sham",!0),g[i]=u,h&&(A(S,r=l+"Prototype")||_(S,r,{}),S[r][i]=o,t.real&&v&&!v[i]&&_(v,i,o)))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports={}},function(t,e,n){var r=n(23),i=n(34),o=n(32);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var a=n(1),u=n(29),c=n(16),l=n(52),r=n(53),i=n(54),o=i.get,f=i.enforce,d=String(String).split("String");(t.exports=function(t,e,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||c(n,"name")||u(n,"name",e),f(n).source=d.join("string"==typeof e?e:"")),t!==a?(i?!s&&t[e]&&(o=!0):delete t[e],o?t[e]=n:u(t,e,n)):o?t[e]=n:l(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&o(this).source||r(this)})},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){function r(t){return"function"==typeof t?t:void 0}var i=n(14),o=n(2);t.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports={}},function(t,e,n){var r=n(36);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(8);t.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,e,n){var r=n(4);t.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=!0},function(t,e,n){var r=n(74),i=n(24),o=n(0)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e){var n=t.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(48),i=n(145);t.exports=n(37)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(22),i=n(30),o=n(93);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(22),i=n(90),o=n(5),s=n(92),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){function r(t){return"function"==typeof t?t:void 0}var i=n(165),o=n(1);t.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(23),i=n(113),o=n(10),s=n(64),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(15);t.exports=function(t,e,n,r){r&&r.enumerable?t[e]=n:i(t,e,n)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(144)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(203),i=n(63);t.exports=function(t){return r(i(t))}},function(t,e,n){var o=n(33);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e,n){n(71);var r=n(227),i=n(2),o=n(26),s=n(15),a=n(20),u=n(0)("toStringTag");for(var c in r){var l=i[c],f=l&&l.prototype;f&&o(f)!==u&&s(f,u,c),a[c]=a.Array}},function(t,e,n){var r,i,o,s=n(217),a=n(2),u=n(9),c=n(15),l=n(13),f=n(72),d=n(73),h=a.WeakMap;if(s){var p=new h,g=p.get,v=p.has,m=p.set;r=function(t,e){return m.call(p,t,e),e},i=function(t){return g.call(p,t)||{}},o=function(t){return v.call(p,t)}}else{var y=f("state");d[y]=!0,r=function(t,e){return c(t,y,e),e},i=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(n){return function(t){var e;if(!u(t)||(e=i(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}}},function(t,e,n){var o=n(74),s=n(34).f,a=n(15),u=n(13),c=n(224),l=n(0)("toStringTag");t.exports=function(t,e,n,r){if(t){var i=n?t:t.prototype;u(i,l)||s(i,l,{configurable:!0,value:e}),r&&!o&&a(i,"toString",c)}}},function(t,e,n){var o=n(47);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(21),i=n(266),o=n(267),s=Object.defineProperty;e.f=n(37)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r={};r[n(3)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(1),i=n(29);t.exports=function(e,n){try{i(r,e,n)}catch(t){r[e]=n}return n}},function(t,e,n){var r=n(89),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r,i,o,s=n(158),a=n(1),u=n(11),c=n(29),l=n(16),f=n(159),d=n(96),h=a.WeakMap;if(s){var p=new h,g=p.get,v=p.has,m=p.set;r=function(t,e){return m.call(p,t,e),e},i=function(t){return g.call(p,t)||{}},o=function(t){return v.call(p,t)}}else{var y=f("state");d[y]=!0,r=function(t,e){return c(t,y,e),e},i=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(n){return function(t){var e;if(!u(t)||(e=i(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}}},function(t,e,n){var r=n(22),i=n(161),o=n(93),s=n(56),a=n(92),u=n(16),c=n(90),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(162),i=n(39);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(58),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){function r(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?i(e):!!e)}var i=n(8),o=/#|\.prototype\./,s=r.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";t.exports=r},function(t,e,n){"use strict";var r=n(5);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(99),i=n(62);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){"use strict";var r,i,f=n(60),o=n(108),d=RegExp.prototype.exec,h=String.prototype.replace,s=d,p=(r=/a/,i=/b*/g,d.call(r,"a"),d.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),g=o.UNSUPPORTED_Y||o.BROKEN_CARET,v=void 0!==/()??/.exec("")[1];(p||v||g)&&(s=function(t){var e,n,r,i,o=this,s=g&&o.sticky,a=f.call(o),u=o.source,c=0,l=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),l=String(t).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),n=new RegExp("^(?:"+u+")",a)),v&&(n=new RegExp("^"+u+"$(?!\\s)",a)),p&&(e=o.lastIndex),r=d.call(s?n:o,l),s?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:p&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),v&&r&&1<r.length&&h.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=s},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(9);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(2),i=n(9),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var r=n(24);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(68),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r,i,o=n(2),s=n(70),a=o.process,u=a&&a.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||74<=r[1])&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(19);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";var r=n(41),i=n(216),o=n(20),s=n(44),a=n(124),u=s.set,c=s.getterFor("Array Iterator");t.exports=a(Array,"Array",function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var r=n(116),i=n(118),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports={}},function(t,e,n){var r={};r[n(0)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var i=n(228).charAt,r=n(44),o=n(124),s=r.set,a=r.getterFor("String Iterator");o(String,"String",function(t){s(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=a(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(26),i=n(20),o=n(0)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){"use strict";function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}var i=n(33);t.exports.f=function(t){return new r(t)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,n){var r=n(36),i=n(6).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(274),i=n(79);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(147)("keys"),i=n(148);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(48).f,i=n(49),o=n(7)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(51),i=n(17),o=n(160);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(88),i=n(89);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){var r=n(1),i=n(52),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(22),i=n(8),o=n(91);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),i=n(11),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var i=n(11);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(8);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e){t.exports={}},function(t,e,n){var r=n(51),i=n(18),o=n(3)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){"use strict";function g(t){var e;return!(!S(t)||"function"!=typeof(e=t.then))&&e}function o(f,d,h){if(!d.notified){d.notified=!0;var p=d.reactions;C(function(){for(var t=d.value,e=1==d.state,n=0;p.length>n;){var r,i,o,s=p[n++],a=e?s.ok:s.fail,u=s.resolve,c=s.reject,l=s.domain;try{a?(e||(2===d.rejection&&rt(f,d),d.rejection=1),!0===a?r=t:(l&&l.enter(),r=a(t),l&&(l.exit(),o=!0)),r===s.promise?c(q("Promise-chain cycle")):(i=g(r))?i.call(r,u,c):u(r)):c(t)}catch(t){l&&!o&&l.exit(),c(t)}}d.reactions=[],d.notified=!1,h&&!d.rejection&&et(f,d)})}}function i(t,e,n){var r,i;$?((r=K.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),h.dispatchEvent(r)):r={promise:e,reason:n},(i=h["on"+t])?i(r):"unhandledrejection"===t&&D("Unhandled promise rejection",n)}function s(e,n,r,i){return function(t){e(n,r,t,i)}}function a(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,o(t,e,!0))}var r,u,c,l,f=n(99),d=n(88),h=n(1),p=n(31),v=n(171),m=n(17),y=n(172),b=n(173),T=n(101),S=n(11),E=n(40),_=n(174),A=n(18),w=n(53),P=n(175),x=n(179),L=n(180),R=n(104).set,C=n(182),I=n(183),D=n(184),O=n(107),k=n(185),M=n(54),N=n(59),B=n(3),F=n(186),G=B("species"),U="Promise",H=M.get,j=M.set,V=M.getterFor(U),W=v,q=h.TypeError,K=h.document,X=h.process,Q=p("fetch"),z=O.f,Y=z,J="process"==A(X),$=!!(K&&K.createEvent&&h.dispatchEvent),Z=N(U,function(){if(w(W)===String(W)){if(66===F)return!0;if(!J&&"function"!=typeof PromiseRejectionEvent)return!0}if(d&&!W.prototype.finally)return!0;if(51<=F&&/native code/.test(W))return!1;function t(t){t(function(){},function(){})}var e=W.resolve(1);return(e.constructor={})[G]=t,!(e.then(function(){})instanceof t)}),tt=Z||!x(function(t){W.all(t).catch(function(){})}),et=function(n,r){R.call(h,function(){var t,e=r.value;if(nt(r)&&(t=k(function(){J?X.emit("unhandledRejection",e,n):i("unhandledrejection",n,e)}),r.rejection=J||nt(r)?2:1,t.error))throw t.value})},nt=function(t){return 1!==t.rejection&&!t.parent},rt=function(t,e){R.call(h,function(){J?X.emit("rejectionHandled",t):i("rejectionhandled",t,e.value)})},it=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw q("Promise can't be resolved itself");var i=g(t);i?C(function(){var e={done:!1};try{i.call(t,s(it,n,e,r),s(a,n,e,r))}catch(t){a(n,e,t,r)}}):(r.value=t,r.state=1,o(n,r,!1))}catch(t){a(n,{done:!1},t,r)}}};Z&&(W=function(t){_(this,W,U),E(t),r.call(this);var e=H(this);try{t(s(it,this,e),s(a,this,e))}catch(t){a(this,e,t)}},(r=function(t){j(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(W.prototype,{then:function(t,e){var n=V(this),r=z(L(this,W));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=J?X.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&o(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new r,e=H(t);this.promise=t,this.resolve=s(it,t,e),this.reject=s(a,t,e)},O.f=z=function(t){return t===W||t===c?new u(t):Y(t)},d||"function"!=typeof v||(l=v.prototype.then,m(v.prototype,"then",function(t,e){var n=this;return new W(function(t,e){l.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Q&&f({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(W,Q.apply(h,arguments))}}))),f({global:!0,wrap:!0,forced:Z},{Promise:W}),b(W,U,!1,!0),T(U),c=p(U),f({target:U,stat:!0,forced:Z},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),f({target:U,stat:!0,forced:d||Z},{resolve:function(t){return I(d&&this===c?W:this,t)}}),f({target:U,stat:!0,forced:tt},{all:function(t){var a=this,e=z(a),u=e.resolve,c=e.reject,n=k(function(){var r=E(a.resolve),i=[],o=0,s=1;P(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]=t,--s||u(i))},c)}),--s||u(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=z(n),i=r.reject,e=k(function(){var e=E(n.resolve);P(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}})},function(t,e,n){var l=n(1),f=n(55).f,d=n(29),h=n(17),p=n(52),g=n(163),v=n(59);t.exports=function(t,e){var n,r,i,o,s,a=t.target,u=t.global,c=t.stat;if(n=u?l:c?l[a]||p(a,{}):(l[a]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(s=f(n,r))&&s.value:n[r],!v(u?r:a+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;g(o,i)}(t.sham||i&&i.sham)&&d(o,"sham",!0),h(n,r,o,t)}}},function(t,e,n){var r=n(166),i=n(169).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(31),i=n(30),o=n(3),s=n(22),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports={}},function(t,e,n){var o=n(40);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e,n){function r(t){if(A.hasOwnProperty(t)){var e=A[t];delete A[t],e()}}function i(t){return function(){r(t)}}function o(t){r(t.data)}function s(t){l.postMessage(t+"",m.protocol+"//"+m.host)}var a,u,c,l=n(1),f=n(8),d=n(18),h=n(103),p=n(181),g=n(91),v=n(105),m=l.location,y=l.setImmediate,b=l.clearImmediate,T=l.process,S=l.MessageChannel,E=l.Dispatch,_=0,A={};y&&b||(y=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return A[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},a(_),_},b=function(t){delete A[t]},"process"==d(T)?a=function(t){T.nextTick(i(t))}:E&&E.now?a=function(t){E.now(i(t))}:S&&!v?(c=(u=new S).port2,u.port1.onmessage=o,a=h(c.postMessage,c,1)):!l.addEventListener||"function"!=typeof postMessage||l.importScripts||f(s)?a="onreadystatechange"in g("script")?function(t){p.appendChild(g("script")).onreadystatechange=function(){p.removeChild(this),r(t)}}:function(t){setTimeout(i(t),0)}:(a=s,l.addEventListener("message",o,!1))),t.exports={set:y,clear:b}},function(t,e,n){var r=n(106);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(31);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}var i=n(40);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";var r=n(8);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r(function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),e.BROKEN_CARET=r(function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},function(t,e,n){"use strict";var r=n(110),f=n(5),d=n(57),i=n(39),h=n(193),p=n(111);r("match",1,function(r,c,l){return[function(t){var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=l(c,t,this);if(e.done)return e.value;var n=f(t),r=String(this);if(!n.global)return p(n,r);for(var i,o=n.unicode,s=[],a=n.lastIndex=0;null!==(i=p(n,r));){var u=String(i[0]);""===(s[a]=u)&&(n.lastIndex=h(r,d(n.lastIndex),o)),a++}return 0===a?null:s}]})},function(t,e,n){"use strict";n(61);var f=n(17),d=n(8),h=n(3),p=n(62),g=n(29),v=h("species"),m=!d(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),y="$0"==="a".replace(/./,"$0"),r=h("replace"),b=!!/./[r]&&""===/./[r]("a","$0"),T=!d(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});t.exports=function(n,t,e,r){var i=h(n),o=!d(function(){var t={};return t[i]=function(){return 7},7!=""[n](t)}),s=o&&!d(function(){var t=!1,e=/a/;return"split"===n&&((e={}).constructor={},e.constructor[v]=function(){return e},e.flags="",e[i]=/./[i]),e.exec=function(){return t=!0,null},e[i](""),!t});if(!o||!s||"replace"===n&&(!m||!y||b)||"split"===n&&!T){var a=/./[i],u=e(i,""[n],function(t,e,n,r,i){return e.exec===p?o&&!i?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:y,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:b}),c=u[0],l=u[1];f(String.prototype,n,c),f(RegExp.prototype,i,2==t?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}r&&g(RegExp.prototype[i],"sham",!0)}},function(t,e,n){var i=n(18),o=n(62);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){var r=n(23),i=n(202),o=n(32),s=n(41),a=n(64),u=n(13),c=n(113),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(23),i=n(4),o=n(65);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){function r(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?i(e):!!e)}var i=n(4),o=/#|\.prototype\./,s=r.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";t.exports=r},function(t,e,n){var r=n(63);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(25),i=n(117);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(2),i=n(206),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(4);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e,n){var r=n(14);t.exports=function(t){return r[t+"Prototype"]}},function(t,e,n){n(213);var r=n(14);t.exports=r.Array.isArray},function(t,e,n){t.exports=n(215)},function(t,e,n){var r=n(117),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){"use strict";function m(){return this}var y=n(12),b=n(125),T=n(127),S=n(225),E=n(45),_=n(15),A=n(35),r=n(0),w=n(25),P=n(20),i=n(126),x=i.IteratorPrototype,L=i.BUGGY_SAFARI_ITERATORS,R=r("iterator");t.exports=function(t,e,n,r,i,o,s){b(n,e,r);function a(t){if(t===i&&g)return g;if(!L&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}}var u,c,l,f=e+" Iterator",d=!1,h=t.prototype,p=h[R]||h["@@iterator"]||i&&h[i],g=!L&&p||a(i),v="Array"==e&&h.entries||p;if(v&&(u=T(v.call(new t)),x!==Object.prototype&&u.next&&(w||T(u)===x||(S?S(u,x):"function"!=typeof u[R]&&_(u,R,m)),E(u,f,!0,!0),w&&(P[f]=m))),"values"==i&&p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),w&&!s||h[R]===g||_(h,R,g),P[e]=g,i)if(c={values:a("values"),keys:o?g:a("keys"),entries:a("entries")},s)for(l in c)!L&&!d&&l in h||A(h,l,c[l]);else y({target:e,proto:!0,forced:L||d},c);return c}},function(t,e,n){"use strict";function i(){return this}var o=n(126).IteratorPrototype,s=n(128),a=n(32),u=n(45),c=n(20);t.exports=function(t,e,n){var r=e+" Iterator";return t.prototype=s(o,{next:a(1,n)}),u(t,r,!1,!0),c[r]=i,t}},function(t,e,n){"use strict";var r,i,o,s=n(127),a=n(15),u=n(13),c=n(0),l=n(25),f=c("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),l||u(r,f)||a(r,f,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(t,e,n){var r=n(13),i=n(115),o=n(72),s=n(218),a=o("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){function r(){}function i(t){return"<script>"+t+"<\/script>"}var o,s=n(10),a=n(219),u=n(129),c=n(73),l=n(130),f=n(65),d=n(72)("IE_PROTO"),h=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;h=o?function(t){t.write(i("")),t.close();var e=t.parentWindow.Object;return t=null,e}(o):((e=f("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(i("document.F=Object")),t.close(),t.F);for(var n=u.length;n--;)delete h.prototype[u[n]];return h()};c[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=s(t),n=new r,r.prototype=null,n[d]=t):n=h(),void 0===e?n:a(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(19);t.exports=r("document","documentElement")},function(t,e,n){var r=n(10),i=n(76);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){var i=n(35);t.exports=function(t,e,n){for(var r in e)n&&n.unsafe&&t[r]?t[r]=e[r]:i(t,r,e[r],n);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){t.exports=n(246)},function(t,e,n){var r=n(2);t.exports=r.Promise},function(t,e,n){function h(t,e){this.stopped=t,this.result=e}var p=n(10),g=n(251),v=n(67),m=n(42),y=n(76),b=n(252);(t.exports=function(t,e,n,r,i){var o,s,a,u,c,l,f,d=m(e,n,r?2:1);if(i)o=t;else{if("function"!=typeof(s=y(t)))throw TypeError("Target is not iterable");if(g(s)){for(a=0,u=v(t.length);a<u;a++)if((c=r?d(p(f=t[a])[0],f[1]):d(t[a]))&&c instanceof h)return c;return new h(!1)}o=s.call(t)}for(l=o.next;!(f=l.call(o)).done;)if("object"==typeof(c=b(o,d,f.value,r))&&c&&c instanceof h)return c;return new h(!1)}).stop=function(t){return new h(!0,t)}},function(t,e,n){var i=n(10),o=n(33),s=n(0)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||null==(n=i(r)[s])?e:o(n)}},function(t,e,n){function r(t){if(A.hasOwnProperty(t)){var e=A[t];delete A[t],e()}}function i(t){return function(){r(t)}}function o(t){r(t.data)}function s(t){l.postMessage(t+"",m.protocol+"//"+m.host)}var a,u,c,l=n(2),f=n(4),d=n(24),h=n(42),p=n(130),g=n(65),v=n(139),m=l.location,y=l.setImmediate,b=l.clearImmediate,T=l.process,S=l.MessageChannel,E=l.Dispatch,_=0,A={};y&&b||(y=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return A[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},a(_),_},b=function(t){delete A[t]},"process"==d(T)?a=function(t){T.nextTick(i(t))}:E&&E.now?a=function(t){E.now(i(t))}:S&&!v?(c=(u=new S).port2,u.port1.onmessage=o,a=h(c.postMessage,c,1)):!l.addEventListener||"function"!=typeof postMessage||l.importScripts||f(s)?a="onreadystatechange"in g("script")?function(t){p.appendChild(g("script")).onreadystatechange=function(){p.removeChild(this),r(t)}}:function(t){setTimeout(i(t),0)}:(a=s,l.addEventListener("message",o,!1))),t.exports={set:y,clear:b}},function(t,e,n){var r=n(70);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(10),i=n(9),o=n(77);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";function b(){return this}var T=n(80),S=n(143),E=n(268),_=n(28),A=n(38),w=n(269),P=n(84),x=n(277),L=n(7)("iterator"),R=!([].keys&&"next"in[].keys());t.exports=function(t,e,n,r,i,o,s){w(n,e,r);function a(t){if(!R&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}}var u,c,l,f=e+" Iterator",d="values"==i,h=!1,p=t.prototype,g=p[L]||p["@@iterator"]||i&&p[i],v=g||a(i),m=i?d?a("entries"):v:void 0,y="Array"==e&&p.entries||g;if(y&&(l=x(y.call(new t)))!==Object.prototype&&l.next&&(P(l,f,!0),T||"function"==typeof l[L]||_(l,L,b)),d&&g&&"values"!==g.name&&(h=!0,v=function(){return g.call(this)}),T&&!s||!R&&!h&&p[L]||_(p,L,v),A[e]=v,A[f]=b,i)if(u={values:d?v:a("values"),keys:o?v:a("keys"),entries:m},s)for(c in u)c in p||E(p,c,u[c]);else S(S.P+S.F*(R||h),e,u);return u}},function(t,e,n){var g=n(6),v=n(27),m=n(46),y=n(28),b=n(49),T=function(t,e,n){var r,i,o,s=t&T.F,a=t&T.G,u=t&T.S,c=t&T.P,l=t&T.B,f=t&T.W,d=a?v:v[e]||(v[e]={}),h=d.prototype,p=a?g:u?g[e]:(g[e]||{}).prototype;for(r in a&&(n=e),n)(i=!s&&p&&void 0!==p[r])&&b(d,r)||(o=i?p[r]:n[r],d[r]=a&&"function"!=typeof p[r]?n[r]:l&&i?m(o,g):f&&p[r]==o?function(r){function t(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)}return t.prototype=r.prototype,t}(o):c&&"function"==typeof o?m(Function.call,o):o,c&&((d.virtual||(d.virtual={}))[r]=o,t&T.R&&h&&!h[r]&&y(h,r,o)))};T.F=1,T.G=2,T.S=4,T.P=8,T.B=16,T.W=32,T.U=64,T.R=128,t.exports=T},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(78),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(27),i=n(6),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(80)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(6).document;t.exports=r&&r.documentElement},function(t,e,n){var i=n(50),o=n(7)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){function r(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}}function i(t){r.call(t.data)}var o,s,a,u=n(46),c=n(290),l=n(150),f=n(81),d=n(6),h=d.process,p=d.setImmediate,g=d.clearImmediate,v=d.MessageChannel,m=d.Dispatch,y=0,b={};p&&g||(p=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return b[++y]=function(){c("function"==typeof t?t:Function(t),e)},o(y),y},g=function(t){delete b[t]},"process"==n(50)(h)?o=function(t){h.nextTick(u(r,t,1))}:m&&m.now?o=function(t){m.now(u(r,t,1))}:v?(a=(s=new v).port2,s.port1.onmessage=i,o=u(a.postMessage,a,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(o=function(t){d.postMessage(t+"","*")},d.addEventListener("message",i,!1)):o="onreadystatechange"in f("script")?function(t){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),r.call(t)}}:function(t){setTimeout(u(r,t,1),0)}),t.exports={set:p,clear:g}},function(t,e,n){"use strict";var i=n(47);function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}t.exports.f=function(t){return new r(t)}},function(t,e){t.exports={USER_INFO_KEY:"userInfo",CONTENT_METADATA_KEY:"contentMetadata",MOST_RECENT_RESOURCE:"mostRecentResource"}},function(t,e,n){t.exports=n(156)},function(t,e,n){n(85),n(98),n(187),n(61),n(192),n(109),n(195);var u=n(197),d=n(209),h=n(233),p=n(122),g=n(237),o=n(242),v=n(134),r=n(258),i=n(260),s=n(302),c=n(304),a=n(305),l=n(154);t.exports=function(){this.geoIpClient=new i,this.queue=[],window.addEventListener("beforeunload",function(){window.sessionStorage.removeItem(l.CONTENT_METADATA_KEY),window.sessionStorage.removeItem(l.MOST_RECENT_RESOURCE)}),this._flushQueue=function(){if(r(this.queue))for(;this.queue.length;){var t=this.queue.shift();"function"==typeof t&&t()}},this.setItem=function(n,r){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return new v(function(t,e){try{i?window.sessionStorage.setItem(n,o(r)):window.localStorage.setItem(n,o(r)),t()}catch(t){e(t)}})},this.getItem=function(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new v(function(e){try{e(n?JSON.parse(window.sessionStorage.getItem(t)):JSON.parse(window.localStorage.getItem(t)))}catch(t){e(null)}})},this.getItemSync=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=null;try{n=e?JSON.parse(window.sessionStorage.getItem(t)):JSON.parse(window.localStorage.getItem(t))}catch(t){}return n},this.geoIp=function(){return this.geoIpClient.getGeoInfo().then(function(t){return t.country})},this.getReferrer=function(){var t="";try{t=document.referrer}catch(t){}return v.resolve(t)},this.getUrl=function(){var t="";try{t=window.location.href}catch(t){}return v.resolve(t)},this.getQueryParams=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,e=new g;try{var n=new g(window.location.search);if(t)e=n;else{var r=new RegExp(t,"i"),i=!0,o=!1,s=void 0;try{for(var a,u=p(h(n).call(n));!(i=(a=u.next()).done);i=!0){var c=d(a.value,2),l=c[0],f=c[1];l.match(r)&&e.append(l,f)}}catch(t){o=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}}}catch(t){}return v.resolve(e)},this.getReferrerSync=function(){var t="";try{t=document.referrer}catch(t){}return t},this.getCurrentResource=function(){return v.resolve(c())},this.needsPersonalizationRefresh=function(){var s=this,a=!0;return new v(function(t){var e,n=c(),r=n.id,i=n.contentType,o=u(e="".concat(i,"|")).call(e,r);s.getItem(l.MOST_RECENT_RESOURCE,!0).then(function(t){return a=void 0===i&&void 0===r||t!==o,s.setItem(l.MOST_RECENT_RESOURCE,o,!0)}).then(function(){t(a)})})},this.getPersonalizationAllowed=function(){return v.resolve(s.padAllowed())},this.getPersonalizationAllowedSync=function(){return s.padAllowed()},this.getSessionInfo=function(){return a()},this.injectIFrame=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";if(t&&0<t.getElementsByTagName("iframe").length||""===n)return t=null,!1;var r=document.createElement("iframe");return r.setAttribute("src",n),r.setAttribute("style","width: 100%; height: "+e.height),t.appendChild(r),!(r=t=null)},this._flushQueue()}},function(t,e,n){var r=n(95);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(1),i=n(53),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,n){var r=n(87),i=n(94),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){"use strict";var r=n(51),i=n(97);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(8),i=n(18),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var a=n(16),u=n(164),c=n(55),l=n(30);t.exports=function(t,e){for(var n=u(e),r=l.f,i=c.f,o=0;o<n.length;o++){var s=n[o];a(t,s)||r(t,s,i(e,s))}}},function(t,e,n){var r=n(31),i=n(100),o=n(170),s=n(5);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(1);t.exports=r},function(t,e,n){var s=n(16),a=n(56),u=n(167).indexOf,c=n(96);t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)!s(c,n)&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){function r(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}var u=n(56),c=n(57),l=n(168);t.exports={includes:r(!0),indexOf:r(!1)}},function(t,e,n){var r=n(58),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(1);t.exports=r.Promise},function(t,e,n){var i=n(17);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var r=n(30).f,i=n(16),o=n(3)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){function h(t,e){this.stopped=t,this.result=e}var p=n(5),g=n(176),v=n(57),m=n(103),y=n(177),b=n(178);(t.exports=function(t,e,n,r,i){var o,s,a,u,c,l,f,d=m(e,n,r?2:1);if(i)o=t;else{if("function"!=typeof(s=y(t)))throw TypeError("Target is not iterable");if(g(s)){for(a=0,u=v(t.length);a<u;a++)if((c=r?d(p(f=t[a])[0],f[1]):d(t[a]))&&c instanceof h)return c;return new h(!1)}o=s.call(t)}for(l=o.next;!(f=l.call(o)).done;)if("object"==typeof(c=b(o,d,f.value,r))&&c&&c instanceof h)return c;return new h(!1)}).stop=function(t){return new h(!0,t)}},function(t,e,n){var r=n(3),i=n(102),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var r=n(97),i=n(102),o=n(3)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var o=n(5);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(t,e,n){var i=n(3)("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){var i=n(5),o=n(40),s=n(3)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||null==(n=i(r)[s])?e:o(n)}},function(t,e,n){var r=n(31);t.exports=r("document","documentElement")},function(t,e,n){var r,i,o,s,a,u,c,l,f=n(1),d=n(55).f,h=n(18),p=n(104).set,g=n(105),v=f.MutationObserver||f.WebKitMutationObserver,m=f.process,y=f.Promise,b="process"==h(m),T=d(f,"queueMicrotask"),S=T&&T.value;S||(r=function(){var t,e;for(b&&(t=m.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},s=b?function(){m.nextTick(r)}:v&&!g?(a=!0,u=document.createTextNode(""),new v(r).observe(u,{characterData:!0}),function(){u.data=a=!a}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,function(){l.call(c,r)}):function(){p.call(f,r)}),t.exports=S||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},function(t,e,n){var r=n(5),i=n(11),o=n(107);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(1);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r,i,o=n(1),s=n(106),a=o.process,u=a&&a.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||74<=r[1])&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(22),i=n(1),o=n(59),a=n(188),s=n(30).f,u=n(100).f,c=n(191),l=n(60),f=n(108),d=n(17),h=n(8),p=n(54).set,g=n(101),v=n(3)("match"),m=i.RegExp,y=m.prototype,b=/a/g,T=/a/g,S=new m(b)!==b,E=f.UNSUPPORTED_Y;if(r&&o("RegExp",!S||E||h(function(){return T[v]=!1,m(b)!=b||m(T)==T||"/a/i"!=m(b,"i")}))){function _(e){e in A||s(A,e,{configurable:!0,get:function(){return m[e]},set:function(t){m[e]=t}})}for(var A=function(t,e){var n,r=this instanceof A,i=c(t),o=void 0===e;if(!r&&i&&t.constructor===A&&o)return t;S?i&&!o&&(t=t.source):t instanceof A&&(o&&(e=l.call(t)),t=t.source),E&&(n=!!e&&-1<e.indexOf("y"))&&(e=e.replace(/y/g,""));var s=a(S?new m(t,e):m(t,e),r?this:y,A);return E&&n&&p(s,{sticky:n}),s},w=u(m),P=0;w.length>P;)_(w[P++]);(y.constructor=A).prototype=y,d(i,"RegExp",A)}g("RegExp")},function(t,e,n){var o=n(11),s=n(189);t.exports=function(t,e,n){var r,i;return s&&"function"==typeof(r=e.constructor)&&r!==n&&o(i=r.prototype)&&i!==n.prototype&&s(t,i),t}},function(t,e,n){var i=n(5),o=n(190);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(n){}return function(t,e){return i(t),o(e),r?n.call(t,e):t.__proto__=e,t}}():void 0)},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(11),i=n(18),o=n(3)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(17),i=n(5),o=n(8),s=n(60),a=RegExp.prototype,u=a.toString,c=o(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),l="toString"!=u.name;(c||l)&&r(RegExp.prototype,"toString",function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in a)?s.call(t):n)},{unsafe:!0})},function(t,e,n){"use strict";var r=n(194).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){function r(a){return function(t,e){var n,r,i=String(c(t)),o=u(e),s=i.length;return o<0||s<=o?a?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===s||(r=i.charCodeAt(o+1))<56320||57343<r?a?i.charAt(o):n:a?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}var u=n(58),c=n(39);t.exports={codeAt:r(!1),charAt:r(!0)}},function(t,e,n){"use strict";var r=n(110),u=n(5),i=n(39),c=n(196),l=n(111);r("search",1,function(r,s,a){return[function(t){var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=a(s,t,this);if(e.done)return e.value;var n=u(t),r=String(this),i=n.lastIndex;c(i,0)||(n.lastIndex=0);var o=l(n,r);return c(n.lastIndex,i)||(n.lastIndex=i),null===o?-1:o.index}]})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){t.exports=n(198)},function(t,e,n){var r=n(199);t.exports=r},function(t,e,n){var r=n(200),i=Array.prototype;t.exports=function(t){var e=t.concat;return t===i||t instanceof Array&&e===i.concat?r:e}},function(t,e,n){n(201);var r=n(120);t.exports=r("Array").concat},function(t,e,n){"use strict";function c(t){if(!s(t))return!1;var e=t[g];return void 0!==e?!!e:o(t)}var r=n(12),i=n(4),o=n(66),s=n(9),l=n(115),f=n(67),d=n(204),h=n(205),a=n(208),u=n(0),p=n(69),g=u("isConcatSpreadable"),v=51<=p||!i(function(){var t=[];return t[g]=!1,t.concat()[0]!==t}),m=a("concat");r({target:"Array",proto:!0,forced:!v||!m},{concat:function(t){var e,n,r,i,o,s=l(this),a=h(s,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(c(o=-1===e?s:arguments[e])){if(9007199254740991<u+(i=f(o.length)))throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,u++)n in o&&d(a,u,o[n])}else{if(9007199254740991<=u)throw TypeError("Maximum allowed index exceeded");d(a,u++,o)}return a.length=u,a}})},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(4),i=n(24),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){"use strict";var i=n(64),o=n(34),s=n(32);t.exports=function(t,e,n){var r=i(e);r in t?o.f(t,r,s(0,n)):t[r]=n}},function(t,e,n){var r=n(9),i=n(66),o=n(0)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(2),i=n(15);t.exports=function(e,n){try{i(r,e,n)}catch(t){r[e]=n}return n}},function(t,e,n){var r=n(119);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(4),i=n(0),o=n(69),s=i("species");t.exports=function(e){return 51<=o||!r(function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(t,e,n){var r=n(210),i=n(214),o=n(232);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e,n){var r=n(211);t.exports=function(t){if(r(t))return t}},function(t,e,n){t.exports=n(212)},function(t,e,n){var r=n(121);t.exports=r},function(t,e,n){n(12)({target:"Array",stat:!0},{isArray:n(66)})},function(t,e,n){var u=n(122),c=n(229);t.exports=function(t,e){if(c(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=u(t);!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}},function(t,e,n){n(43),n(75);var r=n(131);t.exports=r},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(2),i=n(123),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,n){var r=n(4);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(23),s=n(34),a=n(10),u=n(220);t.exports=r?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){var r=n(221),i=n(129);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var s=n(13),a=n(41),u=n(222).indexOf,c=n(73);t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)!s(c,n)&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){function r(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}var u=n(41),c=n(67),l=n(223);t.exports={includes:r(!0),indexOf:r(!1)}},function(t,e,n){var r=n(68),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){"use strict";var r=n(74),i=n(26);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){var i=n(10),o=n(226);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(n){}return function(t,e){return i(t),o(e),r?n.call(t,e):t.__proto__=e,t}}():void 0)},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){function r(a){return function(t,e){var n,r,i=String(c(t)),o=u(e),s=i.length;return o<0||s<=o?a?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===s||(r=i.charCodeAt(o+1))<56320||57343<r?a?i.charAt(o):n:a?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}var u=n(68),c=n(63);t.exports={codeAt:r(!1),charAt:r(!0)}},function(t,e,n){t.exports=n(230)},function(t,e,n){n(43),n(75);var r=n(231);t.exports=r},function(t,e,n){var r=n(26),i=n(0),o=n(20),s=i("iterator");t.exports=function(t){var e=Object(t);return void 0!==e[s]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){t.exports=n(234)},function(t,e,n){n(43);var r=n(235),i=n(26),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.entries;return t===o||t instanceof Array&&e===o.entries||s.hasOwnProperty(i(t))?r:e}},function(t,e,n){var r=n(236);t.exports=r},function(t,e,n){n(71);var r=n(120);t.exports=r("Array").entries},function(t,e,n){t.exports=n(238)},function(t,e,n){var r=n(239);t.exports=r},function(t,e,n){n(240);var r=n(14);t.exports=r.URLSearchParams},function(t,e,n){"use strict";n(71);function i(e){try{return decodeURIComponent(e)}catch(t){return e}}function s(t){var e,n=t.replace(M," "),r=4;try{return decodeURIComponent(n)}catch(t){for(;r;)n=n.replace((e=r--,N[e-1]||(N[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))),i);return n}}function r(t){return F[t]}function o(t){return encodeURIComponent(t).replace(B,r)}function f(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:s(r.shift()),value:s(r.join("="))}))}function d(t){this.entries.length=0,f(this.entries,t)}function c(t,e){if(t<e)throw TypeError("Not enough arguments")}var a=n(12),u=n(19),l=n(241),h=n(35),p=n(132),g=n(45),v=n(125),m=n(44),y=n(133),b=n(13),T=n(42),S=n(26),E=n(10),_=n(9),A=n(128),w=n(32),P=n(131),x=n(76),L=n(0),R=u("fetch"),C=u("Headers"),I=L("iterator"),D=m.set,O=m.getterFor("URLSearchParams"),k=m.getterFor("URLSearchParamsIterator"),M=/\+/g,N=Array(4),B=/[!'()~]|%20/g,F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},G=v(function(t,e){D(this,{type:"URLSearchParamsIterator",iterator:P(O(t).entries),kind:e})},"Iterator",function(){var t=k(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),U=function(){y(this,U,"URLSearchParams");var t,e,n,r,i,o,s,a,u,c=0<arguments.length?arguments[0]:void 0,l=[];if(D(this,{type:"URLSearchParams",entries:l,updateURL:function(){},updateSearchParams:d}),void 0!==c)if(_(c))if("function"==typeof(t=x(c)))for(n=(e=t.call(c)).next;!(r=n.call(e)).done;){if((s=(o=(i=P(E(r.value))).next).call(i)).done||(a=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");l.push({key:s.value+"",value:a.value+""})}else for(u in c)b(c,u)&&l.push({key:u,value:c[u]+""});else f(l,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},H=U.prototype;p(H,{append:function(t,e){c(arguments.length,2);var n=O(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){c(arguments.length,1);for(var e=O(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){c(arguments.length,1);for(var e=O(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){c(arguments.length,1);for(var e=O(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){c(arguments.length,1);for(var e=O(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){c(arguments.length,1);for(var n,r=O(this),i=r.entries,o=!1,s=t+"",a=e+"",u=0;u<i.length;u++)(n=i[u]).key===s&&(o?i.splice(u--,1):(o=!0,n.value=a));o||i.push({key:s,value:a}),r.updateURL()},sort:function(){var t,e,n,r=O(this),i=r.entries,o=i.slice();for(n=i.length=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=O(this).entries,r=T(t,1<arguments.length?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),h(H,I,H.entries),h(H,"toString",function(){for(var t,e=O(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(o(t.key)+"="+o(t.value));return n.join("&")},{enumerable:!0}),g(U,"URLSearchParams"),a({global:!0,forced:!l},{URLSearchParams:U}),l||"function"!=typeof R||"function"!=typeof C||a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return 1<arguments.length&&(_(e=arguments[1])&&(n=e.body,"URLSearchParams"===S(n)&&((r=e.headers?new C(e.headers):new C).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=A(e,{body:w(0,String(n)),headers:w(0,r)}))),i.push(e)),R.apply(this,i)}}),t.exports={URLSearchParams:U,getState:O}},function(t,e,n){var r=n(4),i=n(0),o=n(25),s=i("iterator");t.exports=!r(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),n=t.searchParams,r="";return t.pathname="c%20d",n.forEach(function(t,e){n.delete("b"),r+=e+t}),o&&!t.toJSON||!n.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})},function(t,e,n){t.exports=n(243)},function(t,e,n){var r=n(244);t.exports=r},function(t,e,n){n(245);var r=n(14);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return r.JSON.stringify.apply(null,arguments)}},function(t,e,n){function i(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return c.test(t)&&!l.test(i)||l.test(t)&&!c.test(r)?"\\u"+t.charCodeAt(0).toString(16):t}var r=n(12),o=n(19),s=n(4),a=o("JSON","stringify"),u=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,f=s(function(){return'"\\udf06\\ud834"'!==a("\udf06\ud834")||'"\\udead"'!==a("\udead")});a&&r({target:"JSON",stat:!0,forced:f},{stringify:function(t,e,n){var r=a.apply(null,arguments);return"string"==typeof r?r.replace(u,i):r}})},function(t,e,n){var r=n(247);t.exports=r},function(t,e,n){n(248),n(75),n(43),n(249),n(256),n(257);var r=n(14);t.exports=r.Promise},function(t,e){},function(t,e,n){"use strict";function g(t){var e;return!(!S(t)||"function"!=typeof(e=t.then))&&e}function o(f,d,h){if(!d.notified){d.notified=!0;var p=d.reactions;C(function(){for(var t=d.value,e=1==d.state,n=0;p.length>n;){var r,i,o,s=p[n++],a=e?s.ok:s.fail,u=s.resolve,c=s.reject,l=s.domain;try{a?(e||(2===d.rejection&&rt(f,d),d.rejection=1),!0===a?r=t:(l&&l.enter(),r=a(t),l&&(l.exit(),o=!0)),r===s.promise?c(q("Promise-chain cycle")):(i=g(r))?i.call(r,u,c):u(r)):c(t)}catch(t){l&&!o&&l.exit(),c(t)}}d.reactions=[],d.notified=!1,h&&!d.rejection&&et(f,d)})}}function i(t,e,n){var r,i;$?((r=K.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),h.dispatchEvent(r)):r={promise:e,reason:n},(i=h["on"+t])?i(r):"unhandledrejection"===t&&D("Unhandled promise rejection",n)}function s(e,n,r,i){return function(t){e(n,r,t,i)}}function a(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,o(t,e,!0))}var r,u,c,l,f=n(12),d=n(25),h=n(2),p=n(19),v=n(135),m=n(35),y=n(132),b=n(45),T=n(250),S=n(9),E=n(33),_=n(133),A=n(24),w=n(123),P=n(136),x=n(253),L=n(137),R=n(138).set,C=n(254),I=n(140),D=n(255),O=n(77),k=n(141),M=n(44),N=n(114),B=n(0),F=n(69),G=B("species"),U="Promise",H=M.get,j=M.set,V=M.getterFor(U),W=v,q=h.TypeError,K=h.document,X=h.process,Q=p("fetch"),z=O.f,Y=z,J="process"==A(X),$=!!(K&&K.createEvent&&h.dispatchEvent),Z=N(U,function(){if(w(W)===String(W)){if(66===F)return!0;if(!J&&"function"!=typeof PromiseRejectionEvent)return!0}if(d&&!W.prototype.finally)return!0;if(51<=F&&/native code/.test(W))return!1;function t(t){t(function(){},function(){})}var e=W.resolve(1);return(e.constructor={})[G]=t,!(e.then(function(){})instanceof t)}),tt=Z||!x(function(t){W.all(t).catch(function(){})}),et=function(n,r){R.call(h,function(){var t,e=r.value;if(nt(r)&&(t=k(function(){J?X.emit("unhandledRejection",e,n):i("unhandledrejection",n,e)}),r.rejection=J||nt(r)?2:1,t.error))throw t.value})},nt=function(t){return 1!==t.rejection&&!t.parent},rt=function(t,e){R.call(h,function(){J?X.emit("rejectionHandled",t):i("rejectionhandled",t,e.value)})},it=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw q("Promise can't be resolved itself");var i=g(t);i?C(function(){var e={done:!1};try{i.call(t,s(it,n,e,r),s(a,n,e,r))}catch(t){a(n,e,t,r)}}):(r.value=t,r.state=1,o(n,r,!1))}catch(t){a(n,{done:!1},t,r)}}};Z&&(W=function(t){_(this,W,U),E(t),r.call(this);var e=H(this);try{t(s(it,this,e),s(a,this,e))}catch(t){a(this,e,t)}},(r=function(t){j(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(W.prototype,{then:function(t,e){var n=V(this),r=z(L(this,W));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=J?X.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&o(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new r,e=H(t);this.promise=t,this.resolve=s(it,t,e),this.reject=s(a,t,e)},O.f=z=function(t){return t===W||t===c?new u(t):Y(t)},d||"function"!=typeof v||(l=v.prototype.then,m(v.prototype,"then",function(t,e){var n=this;return new W(function(t,e){l.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Q&&f({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(W,Q.apply(h,arguments))}}))),f({global:!0,wrap:!0,forced:Z},{Promise:W}),b(W,U,!1,!0),T(U),c=p(U),f({target:U,stat:!0,forced:Z},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),f({target:U,stat:!0,forced:d||Z},{resolve:function(t){return I(d&&this===c?W:this,t)}}),f({target:U,stat:!0,forced:tt},{all:function(t){var a=this,e=z(a),u=e.resolve,c=e.reject,n=k(function(){var r=E(a.resolve),i=[],o=0,s=1;P(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]=t,--s||u(i))},c)}),--s||u(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=z(n),i=r.reject,e=k(function(){var e=E(n.resolve);P(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}})},function(t,e,n){"use strict";var r=n(19),i=n(34),o=n(0),s=n(23),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(0),i=n(20),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var o=n(10);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(t,e,n){var i=n(0)("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){var r,i,o,s,a,u,c,l,f=n(2),d=n(112).f,h=n(24),p=n(138).set,g=n(139),v=f.MutationObserver||f.WebKitMutationObserver,m=f.process,y=f.Promise,b="process"==h(m),T=d(f,"queueMicrotask"),S=T&&T.value;S||(r=function(){var t,e;for(b&&(t=m.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},s=b?function(){m.nextTick(r)}:v&&!g?(a=!0,u=document.createTextNode(""),new v(r).observe(u,{characterData:!0}),function(){u.data=a=!a}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,function(){l.call(c,r)}):function(){p.call(f,r)}),t.exports=S||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},function(t,e,n){var r=n(2);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){"use strict";var r=n(12),c=n(33),i=n(77),o=n(141),l=n(136);r({target:"Promise",stat:!0},{allSettled:function(t){var a=this,e=i.f(a),u=e.resolve,n=e.reject,r=o(function(){var r=c(a.resolve),i=[],o=0,s=1;l(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]={status:"fulfilled",value:t},--s||u(i))},function(t){n||(n=!0,i[e]={status:"rejected",reason:t},--s||u(i))})}),--s||u(i)});return r.error&&n(r.value),e.promise}})},function(t,e,n){"use strict";var r=n(12),i=n(25),o=n(135),s=n(4),a=n(19),u=n(137),c=n(140),l=n(35);r({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){o.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var n=u(this,a("Promise")),t="function"==typeof e;return this.then(t?function(t){return c(n,e()).then(function(){return t})}:e,t?function(t){return c(n,e()).then(function(){throw t})}:e)}}),i||"function"!=typeof o||o.prototype.finally||l(o.prototype,"finally",a("Promise").prototype.finally)},function(t,e,n){t.exports=n(259)},function(t,e,n){var r=n(121);t.exports=r},function(t,e,n){"use strict";n(261),n(298);var r=n(300),i={country:"US",region:"US"};function o(t){var e=(t=void 0!==t?t:{}).url||"https://location.bloomberg.com";this.url=e+"/query",this.timeout=t.timeout||2e3,function(){try{new window.CustomEvent("test")}catch(t){var e=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};e.prototype=window.Event.prototype,window.CustomEvent=e}}()}function s(){window._geoIpInfo?console.log("Geo IP client is already intialized."):(new o).getGeoInfo()}o.prototype={getGeoInfo:function(){if(window._geoIpInfo)return Promise.resolve(window._geoIpInfo);if(window._geoIPRequest)return window._geoIPRequest;var t=r.getGeoInfo(),e=this;return t?(t.expired&&setTimeout(function(){e._queryGeoIpService().then(function(t){r.setGeoInfo(t)}).catch(function(){console.log("GeoIP cache refresh failed.")})},3e3),e._dispatchGeoIpReadyEvent(t.geoInfo),Promise.resolve(t.geoInfo)):(window._geoIPRequest=e._queryGeoIpService().then(function(t){return r.setGeoInfo(t),e._dispatchGeoIpReadyEvent(t),t}).catch(function(){return e._dispatchGeoIpReadyEvent(i),i}),window._geoIPRequest)},_queryGeoIpService:function(){var t=this;return new Promise(function(e,n){fetch(t.url).then(function(t){if(t.ok)return t.json();n(new Error("Error while fetching geo-IP URL"))}).then(function(t){t?e({country:t.country,region:t.trackingRegion}):n(new Error("Empty data from service."))}).catch(function(){n(new Error("Error response from service."))}),setTimeout(function(){n(new Error("Timeout"))},t.timeout)})},_dispatchGeoIpReadyEvent:function(t){var e=new window.CustomEvent("geo-ip-ready",{detail:t});window._geoIpInfo=t,window.dispatchEvent(e)}},"interactive"===document.readyState||"complete"===document.readyState?s():document.addEventListener("DOMContentLoaded",s),t.exports=o},function(t,e,n){"use strict";if("undefined"!=typeof window){var r=n(262);window.Promise=window.Promise?window.Promise:r}},function(t,e,n){n(263),n(264),n(279),n(283),t.exports=n(27).Promise},function(t,e){},function(t,e,n){"use strict";var r=n(265)(!0);n(142)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var u=n(78),c=n(79);t.exports=function(a){return function(t,e){var n,r,i=String(c(t)),o=u(e),s=i.length;return o<0||s<=o?a?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===s||(r=i.charCodeAt(o+1))<56320||57343<r?a?i.charAt(o):n:a?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},function(t,e,n){t.exports=!n(37)&&!n(144)(function(){return 7!=Object.defineProperty(n(81)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(36);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=n(28)},function(t,e,n){"use strict";var r=n(270),i=n(145),o=n(84),s={};n(28)(s,n(7)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,r){function i(){}var o=r(21),s=r(271),a=r(149),u=r(83)("IE_PROTO"),c=function(){var t,e=r(81)("iframe"),n=a.length;for(e.style.display="none",r(150).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[a[n]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(i.prototype=o(t),n=new i,i.prototype=null,n[u]=t):n=c(),void 0===e?n:s(n,e)}},function(t,e,n){var s=n(48),a=n(21),u=n(272);t.exports=n(37)?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){var r=n(273),i=n(149);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var s=n(49),a=n(82),u=n(275)(!1),c=n(83)("IE_PROTO");t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)n!=c&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){var r=n(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var u=n(82),c=n(146),l=n(276);t.exports=function(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}},function(t,e,n){var r=n(78),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(49),i=n(278),o=n(83)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(79);t.exports=function(t){return Object(r(t))}},function(t,e,n){n(280);for(var r=n(6),i=n(28),o=n(38),s=n(7)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],l=r[c],f=l&&l.prototype;f&&!f[s]&&i(f,s,c),o[c]=o.Array}},function(t,e,n){"use strict";var r=n(281),i=n(282),o=n(38),s=n(82);t.exports=n(142)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";function r(){}function f(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e}function i(l,n){if(!l._n){l._n=!0;var r=l._c;E(function(){for(var u=l._v,c=1==l._s,t=0,e=function(t){var e,n,r,i=c?t.ok:t.fail,o=t.resolve,s=t.reject,a=t.domain;try{i?(c||(2==l._h&&B(l),l._h=1),!0===i?e=u:(a&&a.enter(),e=i(u),a&&(a.exit(),r=!0)),e===t.promise?s(x("Promise-chain cycle")):(n=f(e))?n.call(e,o,s):o(e)):s(u)}catch(t){a&&!r&&a.exit(),s(t)}};r.length>t;)e(r[t++]);l._c=[],l._n=!1,n&&!l._h&&M(l)})}}function o(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),i(e,!0))}var s,a,u,c,l=n(80),d=n(6),h=n(46),p=n(151),g=n(143),v=n(36),m=n(47),y=n(284),b=n(285),T=n(289),S=n(152).set,E=n(291)(),_=n(153),A=n(292),w=n(293),P=n(294),x=d.TypeError,L=d.process,R=L&&L.versions,C=R&&R.v8||"",I=d.Promise,D="process"==p(L),O=a=_.f,k=!!function(){try{var t=I.resolve(1),e=(t.constructor={})[n(7)("species")]=function(t){t(r,r)};return(D||"function"==typeof PromiseRejectionEvent)&&t.then(r)instanceof e&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),M=function(o){S.call(d,function(){var t,e,n,r=o._v,i=N(o);if(i&&(t=A(function(){D?L.emit("unhandledRejection",r,o):(e=d.onunhandledrejection)?e({promise:o,reason:r}):(n=d.console)&&n.error&&n.error("Unhandled promise rejection",r)}),o._h=D||N(o)?2:1),o._a=void 0,i&&t.e)throw t.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},B=function(e){S.call(d,function(){var t;D?L.emit("rejectionHandled",e):(t=d.onrejectionhandled)&&t({promise:e,reason:e._v})})},F=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw x("Promise can't be resolved itself");(n=f(t))?E(function(){var e={_w:r,_d:!1};try{n.call(t,h(F,e,1),h(o,e,1))}catch(t){o.call(e,t)}}):(r._v=t,r._s=1,i(r,!1))}catch(t){o.call({_w:r,_d:!1},t)}}};k||(I=function(t){y(this,I,"Promise","_h"),m(t),s.call(this);try{t(h(F,this,1),h(o,this,1))}catch(t){o.call(this,t)}},(s=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(295)(I.prototype,{then:function(t,e){var n=O(T(this,I));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=D?L.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&i(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new s;this.promise=t,this.resolve=h(F,t,1),this.reject=h(o,t,1)},_.f=O=function(t){return t===I||t===c?new u(t):a(t)}),g(g.G+g.W+g.F*!k,{Promise:I}),n(84)(I,"Promise"),n(296)("Promise"),c=n(27).Promise,g(g.S+g.F*!k,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),g(g.S+g.F*(l||!k),"Promise",{resolve:function(t){return P(l&&this===c?I:this,t)}}),g(g.S+g.F*!(k&&n(297)(function(t){I.all(t).catch(r)})),"Promise",{all:function(t){var s=this,e=O(s),a=e.resolve,u=e.reject,n=A(function(){var r=[],i=0,o=1;b(t,!1,function(t){var e=i++,n=!1;r.push(void 0),o++,s.resolve(t).then(function(t){n||(n=!0,r[e]=t,--o||a(r))},u)}),--o||a(r)});return n.e&&u(n.v),e.promise},race:function(t){var e=this,n=O(e),r=n.reject,i=A(function(){b(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var d=n(46),h=n(286),p=n(287),g=n(21),v=n(146),m=n(288),y={},b={};(e=t.exports=function(t,e,n,r,i){var o,s,a,u,c=i?function(){return t}:m(t),l=d(n,r,e?2:1),f=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(p(c)){for(o=v(t.length);f<o;f++)if((u=e?l(g(s=t[f])[0],s[1]):l(t[f]))===y||u===b)return u}else for(a=c.call(t);!(s=a.next()).done;)if((u=h(a,l,s.value,e))===y||u===b)return u}).BREAK=y,e.RETURN=b},function(t,e,n){var o=n(21);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(t,e,n){var r=n(38),i=n(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(151),i=n(7)("iterator"),o=n(38);t.exports=n(27).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var i=n(21),o=n(47),s=n(7)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||null==(n=i(r)[s])?e:o(n)}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var a=n(6),u=n(152).set,c=a.MutationObserver||a.WebKitMutationObserver,l=a.process,f=a.Promise,d="process"==n(50)(l);t.exports=function(){function t(){var t,e;for(d&&(t=l.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?i():r=void 0,t}}r=void 0,t&&t.enter()}var n,r,i;if(d)i=function(){l.nextTick(t)};else if(!c||a.navigator&&a.navigator.standalone)if(f&&f.resolve){var e=f.resolve(void 0);i=function(){e.then(t)}}else i=function(){u.call(a,t)};else{var o=!0,s=document.createTextNode("");new c(t).observe(s,{characterData:!0}),i=function(){s.data=o=!o}}return function(t){var e={fn:t,next:void 0};r&&(r.next=e),n||(n=e,i()),r=e}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(6).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(21),i=n(36),o=n(153);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(28);t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},function(t,e,n){"use strict";var r=n(6),i=n(27),o=n(48),s=n(37),a=n(7)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var o=n(7)("iterator"),s=!1;try{var r=[7][o]();r.return=function(){s=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},t(r)}catch(t){}return n}},function(t,e,n){"use strict";"undefined"!=typeof window&&n(299)},function(t,e){!function(t){"use strict";if(!t.fetch){var e="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,s="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),r="FormData"in t,i="ArrayBuffer"in t;if(i)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(t){return t&&DataView.prototype.isPrototypeOf(t)},u=ArrayBuffer.isView||function(t){return t&&-1<o.indexOf(Object.prototype.toString.call(t))};p.prototype.append=function(t,e){t=f(t),e=d(e);var n=this.map[t];this.map[t]=n?n+","+e:e},p.prototype.delete=function(t){delete this.map[f(t)]},p.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},p.prototype.set=function(t,e){this.map[f(t)]=d(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),h(n)},p.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),h(e)},p.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),h(n)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},b.call(T.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var t=new E(null,{status:0,statusText:""});return t.type="error",t};var l=[301,302,303,307,308];E.redirect=function(t,e){if(-1===l.indexOf(e))throw new RangeError("Invalid status code");return new E(null,{status:e,headers:{location:t}})},t.Headers=p,t.Request=T,t.Response=E,t.fetch=function(n,i){return new Promise(function(r,t){var e=new T(n,i),o=new XMLHttpRequest;o.onload=function(){var t,i,e={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",i=new p,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var e=t.split(":"),n=e.shift().trim();if(n){var r=e.join(":").trim();i.append(n,r)}}),i)};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var n="response"in o?o.response:o.responseText;r(new E(n,e))},o.onerror=function(){t(new TypeError("Network request failed"))},o.ontimeout=function(){t(new TypeError("Network request failed"))},o.open(e.method,e.url,!0),"include"===e.credentials?o.withCredentials=!0:"omit"===e.credentials&&(o.withCredentials=!1),"responseType"in o&&s&&(o.responseType="blob"),e.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===e._bodyInit?null:e._bodyInit)})},t.fetch.polyfill=!0}function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function d(t){return"string"!=typeof t&&(t=String(t)),t}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function g(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function v(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function m(t){var e=new FileReader,n=v(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(s&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(r&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(i&&s&&a(t))this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(t)&&!u(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var t=g(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t,e,n,r=g(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=v(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}function T(t,e){var n,r,i=(e=e||{}).body;if(t instanceof T){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),-1<c.indexOf(r)?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function S(t){var i=new FormData;return t.trim().split("&").forEach(function(t){if(t){var e=t.split("="),n=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");i.append(decodeURIComponent(n),decodeURIComponent(r))}}),i}function E(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},function(t,e,n){"use strict";var s=n(301);function a(t,e){return new Date(t.getTime()+864e5*e)}var r={setGeoInfo:function(t){var e=new Date,n=a(e,7).getTime(),r=JSON.stringify(t)+"|"+n,i=window.location.hostname,o=a(e,365);s.set("bb_geo_info",r,o,"/",i)},getGeoInfo:function(){var t=s.get("bb_geo_info");if(t){var e=t.split("|"),n=parseInt(e[1],10);return{expired:(new Date).getTime()>n,geoInfo:JSON.parse(e[0])}}return null}};t.exports=r},function(t,e,n){"use strict";var r={get:function(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;$]*)");return e?e[2]:null},set:function(t,e,n,r,i){var o=n?"; expires="+n.toGMTString():"",s=r?"; path="+r:"; path=/",a=i?"; domain="+i:"";document.cookie=t+"="+e+o+s+a}};t.exports=r},function(t,e,n){t.exports=n(303).default},function(t,e){function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,r;t.exports=(r={},i.m=n=[function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){var e=document.cookie.match("(^|;) ?".concat(t,"=([^;$]*)"));return e?e[2]:""}function i(t,e){return-1!==t.indexOf(e)}function c(e){window.__tcfapi("removeEventListener",2,function(t){t||console.warn("[ms.consent] Failed to remove __tcfapi event listener",e)},e)}function o(){return i(r("bbgconsentstring"),"req1")}function s(){return i(r("bbgconsentstring"),"fun1")}function a(){return i(r("bbgconsentstring"),"pad1")}n.r(e),e.default={waitForUserConsent:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(o,s){if(!window.__tcfapi||!window.__uspapi)return console.error("[ms.consent] Please make sure __tcfapi and __uspapi are setup"),s(new Error("__tcfapi and __uspapi not loaded"));var a=!1,u=setTimeout(function(){console.error("[ms.consent] Timeout in `waitForUserConsent` with options",t),s(new Error("No response from __tcfapi event listener"))},t.inactiveTimeout||1e4);window.__tcfapi("addEventListener",2,function(t,e){if(!e)return console.error("[ms.consent] Failed to `addEventListener` with __tcfapi"),s(new Error("Unable to assign event listener"));if(!a)if(void 0!==t.gdprApplies){clearTimeout(u);var n=t.gdprApplies,r=t.eventStatus,i=t.listenerId;n?"tcloaded"!==r&&"useractioncomplete"!==r||(o({tcData:t}),c(i),a=!0):(window.__uspapi("getUSPData",1,function(t,e){if(!e)return console.error("[ms.consent] Failed to `getUSPData` with __uspapi"),s(new Error("Unable to get US privacy data from __uspapi"));o({uspData:t})}),c(i),a=!0)}else console.warn("[ms.consent] Received `gdprApplies` as undefined")})})},gdprAppliesAsync:function(){return window.__tcfapi?new Promise(function(n,r){window.__tcfapi("getTCData",2,function(t,e){e?n(t.gdprApplies):r(new Error("Failed to `getTCData` from __tcfapi"))})}):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},iabConsentStringAsync:function(){return window.__tcfapi?new Promise(function(n,r){window.__tcfapi("getTCData",2,function(t,e){e?n(t.tcString):r(new Error("Failed to `getTCData` from __tcfapi"))})}):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},getUSPrivacyStringAsync:function(){return window.__uspapi?new Promise(function(n,r){window.__uspapi("getUSPData",1,function(t,e){e?n(t.uspString):r(new Error("Failed to `getUSPData` from __uspapi"))})}):Promise.reject(new Error("Unable to find __uspapi in global scope"))},reqAllowed:o,reqAllowedAsync:function(){return Promise.resolve(o())},funAllowed:s,funAllowedAsync:function(){return Promise.resolve(s())},padAllowed:a,padAllowedAsync:function(){return Promise.resolve(a())}}}],i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0))},function(t,e,n){"use strict";var r=n(154);t.exports=function(){try{var t=JSON.parse(window.sessionStorage.getItem(r.CONTENT_METADATA_KEY)),e=t.id,n=t.contentType;if(void 0!==e&&void 0!==n)return{id:e,contentType:n}}catch(t){}return{}}},function(t,e,n){n(85),n(98);var s=n(306),r=n(134),a=n(309);function u(t){var e=0<arguments.length&&void 0!==t&&t,n=a.get(document,"session_id"),r=a.get(document,"session_key"),i=a.get(document,"agent_id"),o=a.get(document,"_breg-uid");return n&&r&&i&&o||e?{sessionId:n,sessionKey:r,agentId:i,userId:o}:null}function c(t){var e=t.sessionId,n=t.sessionKey,r=t.agentId,i=t.userId,o={};return e&&(o.session_id=e),n&&(o.session_key=n),r&&(o.agent_id=r),i&&(o.breg=i),o}t.exports=function(){var o=window._regUserInfo||u();return o?r.resolve(c(o)):new r(function(n,r){try{function i(t){var e=t.detail;window.removeEventListener("reg-user-info-ready",i),o=e;try{n(c(o))}catch(t){return r("exception in _formatUserInfo")}}window.addEventListener("reg-user-info-ready",i),s(function(){window.removeEventListener("reg-user-info-ready",i),o=u(!0),n(c(o))},2e3)}catch(t){return window.removeEventListener("reg-user-info-ready",userInfoEventListener),r("exception in getSessionInfo")}})}},function(t,e,n){t.exports=n(307)},function(t,e,n){n(308);var r=n(14);t.exports=r.setTimeout},function(t,e,n){function r(i){return function(t,e){var n=2<arguments.length,r=n?a.call(arguments,2):void 0;return i(n?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,e)}}var i=n(12),o=n(2),s=n(70),a=[].slice;i({global:!0,bind:!0,forced:/MSIE .\./.test(s)},{setTimeout:r(o.setTimeout),setInterval:r(o.setInterval)})},function(t,e,n){n(61),n(109);t.exports={get:function(t,e){if(t&&t.cookie){var n=t.cookie.match("(^|;) ?"+e+"=([^;$]*)");if(n)return n[2]}return null}}}],i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=155);function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,r},"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.bridgeWebModule=i():r.bridgeWebModule=i()},{}],30:[function(i,o,s){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0});function n(t){this.addChild("Chromecast",t)}var r=e("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null);e(i("./videojs-chromecast"));(r.default.registerPlugin||r.default.plugin)("chromecast",n),s.default=n,o.exports=s.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./videojs-chromecast":32}],32:[function(s,a,u){(function(t){"use strict";Object.defineProperty(u,"__esModule",{value:!0});function e(t){return t&&t.__esModule?t:{default:t}}var n=e("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),r=(e(s("./component/control-bar/chromecast-button")),e(s("./tech/chromecast")),n.default.getComponent("Component")),i=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,r),o);function o(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),function(t,e,n){for(var r=!0;r;){var i=t,o=e,s=n;r=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var c=Object.getPrototypeOf(i);if(null===c)return;t=c,e=o,n=s,r=!0,a=c=void 0}}(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,t,e)}i.prototype.options_={},n.default.options.children.push("chromecast"),n.default.addLanguage("en",{"CASTING TO":"WIEDERGABE AUF"}),n.default.addLanguage("de",{"CASTING TO":"WIEDERGABE AUF"}),n.default.addLanguage("it",{"CASTING TO":"PLAYBACK SU"}),n.default.addLanguage("fr",{"CASTING TO":"CAST EN COURS SUR"}),r.registerComponent("Chromecast",i),u.default=i,a.exports=u.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./component/control-bar/chromecast-button":29,"./tech/chromecast":31}],31:[function(t,a,u){(function(t){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var e=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){for(var r=!0;r;){var i=t,o=e,s=n;r=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var c=Object.getPrototypeOf(i);if(null===c)return;t=c,e=o,n=s,r=!0,a=c=void 0}}var n,i="undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null,l=(n=i)&&n.__esModule?n:{default:n},o=(l.default.getComponent("Component"),l.default.getComponent("Tech")),s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(f,o),e(f,[{key:"createEl",value:function(){return l.default.createEl("div",{id:this.options_.techId,className:"vjs-tech vjs-tech-chromecast"})}},{key:"update",value:function(){this.el_.innerHTML='<div class="casting-image" style="background-image: url(\''+this.options_.poster+'\')"></div><div class="casting-overlay"><div class="casting-information"><div class="casting-icon"></div><div class="casting-description"><small>'+this.localize("CASTING TO")+"</small><br>"+this.receiver+"</div></div></div>"}},{key:"onSessionUpdate",value:function(t){if(this.apiMedia)return t?void 0:this.onStopAppSuccess()}},{key:"onStopAppSuccess",value:function(){this.stopTrackingCurrentTime(),this.apiMedia=null}},{key:"onMediaStatusUpdate",value:function(){if(this.apiMedia)switch(this.apiMedia.playerState){case chrome.cast.media.PlayerState.BUFFERING:this.trigger("waiting");break;case chrome.cast.media.PlayerState.IDLE:this.trigger("timeupdate"),this.trigger("ended");break;case chrome.cast.media.PlayerState.PAUSED:this.trigger("pause"),this.paused_=!0;break;case chrome.cast.media.PlayerState.PLAYING:this.trigger("playing"),this.trigger("play"),this.paused_=!1}}},{key:"src",value:function(t){}},{key:"currentSrc",value:function(){if(this.apiMedia)return this.apiMedia.media.contentId}},{key:"handleAudioTracksChange",value:function(){var t=[],e=this.textTracks(),n=this.audioTracks();if(n){for(var r=0;r<n.length;r++)n[r].enabled&&t.push(r+1+e.length);return this.apiMedia&&t.length?(this.tracksInfoRequest=new chrome.cast.media.EditTracksInfoRequest(t),this.apiMedia.editTracksInfo(this.tracksInfoRequest,this.onTrackSuccess.bind(this),this.onTrackError.bind(this))):void 0}}},{key:"handleVideoTracksChange",value:function(){}},{key:"handleTextTracksChange",value:function(){var t=[],e=this.textTracks();if(e){for(var n=0;n<e.length;n++)"showing"===e[n].mode&&t.push(n+1);return this.apiMedia&&t.length?(this.tracksInfoRequest=new chrome.cast.media.EditTracksInfoRequest(t),this.apiMedia.editTracksInfo(this.tracksInfoRequest,this.onTrackSuccess.bind(this),this.onTrackError.bind(this))):void 0}}},{key:"onTrackSuccess",value:function(){return l.default.log("track added")}},{key:"onTrackError",value:function(t){return l.default.log("Cast track Error: "+JSON.stringify(t))}},{key:"castError",value:function(t){return l.default.log("Cast Error: "+JSON.stringify(t))}},{key:"play",value:function(){if(this.apiMedia)return this.paused_&&this.apiMedia.play(null,this.mediaCommandSuccessCallback.bind(this,"Playing: "+this.apiMedia.sessionId),this.castError.bind(this)),this.paused_=!1}},{key:"pause",value:function(){if(this.apiMedia)return this.paused_?void 0:(this.apiMedia.pause(null,this.mediaCommandSuccessCallback.bind(this,"Paused: "+this.apiMedia.sessionId),this.castError.bind(this)),this.paused_=!0)}},{key:"paused",value:function(){return this.paused_}},{key:"ended",value:function(){return"FINISHED"===chrome.cast.media.IdleReason}},{key:"currentTime",value:function(){return this.apiMedia?this.apiMedia.getEstimatedTime():0}},{key:"setCurrentTime",value:function(t){if(!this.apiMedia)return 0;var e=void 0;return(e=new chrome.cast.media.SeekRequest).currentTime=t,this.apiMedia.seek(e,this.onSeekSuccess.bind(this,t),this.castError.bind(this))}},{key:"onSeekSuccess",value:function(t){l.default.log("seek success"+t)}},{key:"volume",value:function(){return this.volume_}},{key:"duration",value:function(){return this.apiMedia?this.apiMedia.media.duration||1/0:0}},{key:"controls",value:function(){return!1}},{key:"setVolume",value:function(t,e){var n=!(arguments.length<=1||void 0===e)&&e,r=void 0,i=void 0;if(this.apiMedia)return(i=new chrome.cast.Volume).level=t,i.muted=n,this.volume_=i.level,this.muted_=n,(r=new chrome.cast.media.VolumeRequest).volume=i,this.apiMedia.setVolume(r,this.mediaCommandSuccessCallback.bind(this,"Volume changed"),this.castError.bind(this)),this.trigger("volumechange")}},{key:"mediaCommandSuccessCallback",value:function(t){l.default.log(t)}},{key:"muted",value:function(){return this.muted_}},{key:"setMuted",value:function(t){return this.setVolume(this.volume_,t)}},{key:"supportsFullScreen",value:function(){return!1}},{key:"resetSrc_",value:function(t){t()}},{key:"dispose",value:function(){this.resetSrc_(Function.prototype),c(Object.getPrototypeOf(f.prototype),"dispose",this).call(this,this)}},{key:"seeking",value:function(){return!1}},{key:"seekable",value:function(){return!1}},{key:"playbackRate",value:function(){return 1}}]),f);function f(t,e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),c(Object.getPrototypeOf(f.prototype),"constructor",this).call(this,t,e),this.apiMedia=this.options_.source.apiMedia,this.apiSession=this.options_.source.apiSession,this.receiver=this.apiSession.receiver.friendlyName;var r=this.onMediaStatusUpdate.bind(this),i=this.onSessionUpdate.bind(this);this.apiMedia.addUpdateListener(r),this.apiSession.addUpdateListener(i),this.on("dispose",function(){n.apiMedia.removeUpdateListener(r),n.apiSession.removeUpdateListener(i),n.onMediaStatusUpdate(),n.onSessionUpdate(!1)});var o,s,a,u=this.textTracks();u&&(o=n.handleTextTracksChange.bind(n),u.addEventListener("change",o),n.on("dispose",function(){u.removeEventListener("change",o)}),n.handleTextTracksChange());try{(u=this.audioTracks())&&(s=n.handleAudioTracksChange.bind(n),u.addEventListener("change",s),n.on("dispose",function(){u.removeEventListener("change",s)}))}catch(t){l.default.log("get player audioTracks fail"+t)}try{(u=this.videoTracks())&&(a=n.handleVideoTracksChange.bind(n),u.addEventListener("change",a),n.on("dispose",function(){u.removeEventListener("change",a)}))}catch(t){l.default.log("get player videoTracks fail"+t)}this.update(),this.triggerReady()}s.prototype.paused_=!1,s.prototype.options_={},s.prototype.timerStep=1e3,s.isSupported=function(){return!0},o.withSourceHandlers(s),s.nativeSourceHandler={},s.nativeSourceHandler.canPlayType=function(t){return/^application\/(?:dash\+xml|(x-|vnd\.apple\.)mpegurl)/i.test(t)?"probably":/^video\/(mpd|mp4|webm|m3u8)/i.test(t)?"maybe":""},s.nativeSourceHandler.canHandleSource=function(t){return t.type?s.nativeSourceHandler.canPlayType(t.type):t.src?s.nativeSourceHandler.canPlayType(t.src):""},s.nativeSourceHandler.handleSource=function(t,e){e.src(t.src)},s.nativeSourceHandler.dispose=function(){},s.registerSourceHandler(s.nativeSourceHandler),s.prototype.featuresVolumeControl=!0,s.prototype.featuresPlaybackRate=!1,s.prototype.movingMediaElementInDOM=!1,s.prototype.featuresFullscreenResize=!1,s.prototype.featuresTimeupdateEvents=!1,s.prototype.featuresProgressEvents=!1,s.prototype.featuresNativeTextTracks=!0,s.prototype.featuresNativeAudioTracks=!0,s.prototype.featuresNativeVideoTracks=!1,l.default.options.chromecast={},o.registerTech("Chromecast",s),u.default=s,a.exports=u.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(t,d,h){(function(t){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var e=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){for(var r=!0;r;){var i=t,o=e,s=n;r=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var c=Object.getPrototypeOf(i);if(null===c)return;t=c,e=o,n=s,r=!0,a=c=void 0}}var n,o="undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null,y=(n=o)&&n.__esModule?n:{default:n},s=y.default.getComponent("Component"),a=y.default.getComponent("ControlBar"),u=y.default.getComponent("Button"),c=!1,l=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(f,u),e(f,[{key:"initializeApi",value:function(){var t,e,n,r=window.navigator&&window.navigator.userAgent||"";if((y.default.browser.IS_CHROME||/CriOS/i.test(r))&&!y.default.browser.IS_EDGE&&"undefined"!=typeof chrome)return chrome.cast&&chrome.cast.isAvailable?(y.default.log("Cast APIs are available"),e=this.options_.appId||chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,n=new chrome.cast.SessionRequest(e),t=new chrome.cast.ApiConfig(n,this.sessionJoinedListener.bind(this),this.receiverListener.bind(this)),chrome.cast.initialize(t,this.onInitSuccess.bind(this),this.castError.bind(this))):(y.default.log("Cast APIs not available"),this.tryingReconnect<10&&(this.setTimeout(this.initializeApi,1e3),++this.tryingReconnect),void y.default.log("Cast APIs not available. Max reconnect attempt"))}},{key:"castError",value:function(t){var e={code:t.code,message:t.description};switch(t.code){case chrome.cast.ErrorCode.API_NOT_INITIALIZED:case chrome.cast.ErrorCode.EXTENSION_MISSING:case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:case chrome.cast.ErrorCode.INVALID_PARAMETER:case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:case chrome.cast.ErrorCode.SESSION_ERROR:case chrome.cast.ErrorCode.CHANNEL_ERROR:case chrome.cast.ErrorCode.TIMEOUT:this.addClass("error");break;case chrome.cast.ErrorCode.CANCEL:break;default:this.player_.error(e)}return y.default.log("Cast Error: "+JSON.stringify(t))}},{key:"onInitSuccess",value:function(){return c?this.show():this.hide(),this.apiInitialized=!0}},{key:"sessionJoinedListener",value:function(t){return t.media.length&&(this.apiSession=t,this.onMediaDiscovered(t.media[0])),console.log("Session joined")}},{key:"receiverListener",value:function(t){return"available"===t?(c=!0,this.show()):(c=!1,this.hide())}},{key:"doLaunch",value:function(){return y.default.log("Cast video: "+this.player_.cache_.src),this.apiInitialized?chrome.cast.requestSession(this.onSessionSuccess.bind(this),this.castError.bind(this)):y.default.log("Session not initialized")}},{key:"onSessionSuccess",value:function(t){var e=void 0,n=void 0,r=void 0,i=void 0,o=void 0,s=void 0;this.apiSession=t;var a=this.player_.cache_.src,u=this.player_.currentType();if(y.default.log("Session initialized: "+t.sessionId+" source : "+a+" type : "+u),(i=new chrome.cast.media.MediaInfo(a,u)).metadata=new chrome.cast.media.GenericMediaMetadata,this.options_.playerOptions.chromecast.metadata)for(n in o=this.options_.playerOptions.chromecast.metadata)s=o[n],i.metadata[n]=s;var c=this.player().poster();c&&(e=new chrome.cast.Image(c),i.metadata.images=[e]);var l=this.player().textTracks(),f=this.player().remoteTextTrackEls(),d=[],h=0,p=void 0,g=void 0,v=0,m=void 0;if(l){for(h=0;h<l.length;h++)g=l.tracks_[h],p=f&&f.trackElements_&&f.trackElements_[h],v++,(m=new chrome.cast.media.Track(v,chrome.cast.media.TrackType.TEXT)).trackContentId=p?p.src:"caption_"+g.language,m.subtype=chrome.cast.media.TextTrackType.CAPTIONS,m.name=g.label,m.language=g.language,m.customData=null,d.push(m);i.textTrackStyle=new chrome.cast.media.TextTrackStyle,i.textTrackStyle.foregroundColor="#FFFFFF",i.textTrackStyle.backgroundColor="#00000060",i.textTrackStyle.edgeType=chrome.cast.media.TextTrackEdgeType.DROP_SHADOW,i.textTrackStyle.windowType=chrome.cast.media.TextTrackWindowType.ROUNDED_CORNERS}try{if(l=this.player().audioTracks())for(h=0;h<l.length;h++)g=l.tracks_[h],v++,(m=new chrome.cast.media.Track(v,chrome.cast.media.TrackType.AUDIO)).subtype=null,m.name=g.label,m.language=g.language,m.customData=null,d.push(m)}catch(t){y.default.log("get player audioTracks fail"+t)}d.length&&(i.tracks=d),(r=new chrome.cast.media.LoadRequest(i)).autoplay=!0,r.currentTime=this.player_.currentTime(),this.apiSession.loadMedia(r,this.onMediaDiscovered.bind(this),this.castError.bind(this)),this.apiSession.addUpdateListener(this.onSessionUpdate.bind(this))}},{key:"onMediaDiscovered",value:function(t){this.player_.loadTech_("Chromecast",{type:"cast",apiMedia:t,apiSession:this.apiSession}),this.casting=!0,this.inactivityTimeout=this.player_.options_.inactivityTimeout,this.player_.options_.inactivityTimeout=0,this.player_.userActive(!0),this.addClass("connected"),this.removeClass("error")}},{key:"onSessionUpdate",value:function(t){if(this.player_.apiMedia)return t?void 0:this.onStopAppSuccess()}},{key:"stopCasting",value:function(){return this.apiSession.stop(this.onStopAppSuccess.bind(this),this.castError.bind(this))}},{key:"onStopAppSuccess",value:function(){this.casting=!1;var t=this.player_.currentTime();return this.removeClass("connected"),this.player_.src(this.player_.options_.sources),this.player_.paused()||this.player_.one("seeked",function(){return this.player_.play()}),this.player_.currentTime(t),this.player_.options_.inactivityTimeout=this.inactivityTimeout,this.apiSession=null}},{key:"buildCSSClass",value:function(){return"vjs-chromecast-button "+i(Object.getPrototypeOf(f.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){return i(Object.getPrototypeOf(f.prototype),"handleClick",this).call(this),this.casting?this.stopCasting():this.doLaunch()}}]),f);function f(t,e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),i(Object.getPrototypeOf(f.prototype),"constructor",this).call(this,t,e),this.hide(),this.initializeApi(),e.appId=t.options_.chromecast.appId,(t.chromecast=this).on(t,"loadstart",function(){n.casting&&n.apiInitialized&&n.onSessionSuccess(n.apiSession)}),this.on(t,"dispose",function(){n.casting&&n.apiSession&&n.apiSession.stop(null,null)})}l.prototype.tryingReconnect=0,l.prototype.inactivityTimeout=2e3,l.prototype.controlText_="Chromecast",a.prototype.options_.children.splice(a.prototype.options_.children.length-1,0,"chromeCastButton"),s.registerComponent("ChromeCastButton",l),h.default=l,d.exports=h.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[532]);